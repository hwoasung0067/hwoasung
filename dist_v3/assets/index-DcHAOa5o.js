(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Lw(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var om={exports:{}},Vl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0;function zw(){if(M0)return Vl;M0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return Vl.Fragment=e,Vl.jsx=n,Vl.jsxs=n,Vl}var V0;function Bw(){return V0||(V0=1,om.exports=zw()),om.exports}var p=Bw(),lm={exports:{}},Se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j0;function qw(){if(j0)return Se;j0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),S=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function he(O,Q,re){this.props=O,this.context=Q,this.refs=ee,this.updater=re||W}he.prototype.isReactComponent={},he.prototype.setState=function(O,Q){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Q,"setState")},he.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function be(){}be.prototype=he.prototype;function ge(O,Q,re){this.props=O,this.context=Q,this.refs=ee,this.updater=re||W}var q=ge.prototype=new be;q.constructor=ge,te(q,he.prototype),q.isPureReactComponent=!0;var ce=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,Q,re){var ae=re.ref;return{$$typeof:s,type:O,key:Q,ref:ae!==void 0?ae:null,props:re}}function M(O,Q){return I(O.type,Q,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var Q={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(re){return Q[re]})}var R=/\/+/g;function Ge(O,Q){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):Q.toString(36)}function se(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(me,me):(O.status="pending",O.then(function(Q){O.status==="pending"&&(O.status="fulfilled",O.value=Q)},function(Q){O.status==="pending"&&(O.status="rejected",O.reason=Q)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function B(O,Q,re,ae,xe){var Ae=typeof O;(Ae==="undefined"||Ae==="boolean")&&(O=null);var De=!1;if(O===null)De=!0;else switch(Ae){case"bigint":case"string":case"number":De=!0;break;case"object":switch(O.$$typeof){case s:case e:De=!0;break;case T:return De=O._init,B(De(O._payload),Q,re,ae,xe)}}if(De)return xe=xe(O),De=ae===""?"."+Ge(O,0):ae,ce(xe)?(re="",De!=null&&(re=De.replace(R,"$&/")+"/"),B(xe,Q,re,"",function(Dn){return Dn})):xe!=null&&(k(xe)&&(xe=M(xe,re+(xe.key==null||O&&O.key===xe.key?"":(""+xe.key).replace(R,"$&/")+"/")+De)),Q.push(xe)),1;De=0;var dt=ae===""?".":ae+":";if(ce(O))for(var tt=0;tt<O.length;tt++)ae=O[tt],Ae=dt+Ge(ae,tt),De+=B(ae,Q,re,Ae,xe);else if(tt=G(O),typeof tt=="function")for(O=tt.call(O),tt=0;!(ae=O.next()).done;)ae=ae.value,Ae=dt+Ge(ae,tt++),De+=B(ae,Q,re,Ae,xe);else if(Ae==="object"){if(typeof O.then=="function")return B(se(O),Q,re,ae,xe);throw Q=String(O),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return De}function Z(O,Q,re){if(O==null)return O;var ae=[],xe=0;return B(O,ae,"","",function(Ae){return Q.call(re,Ae,xe++)}),ae}function de(O){if(O._status===-1){var Q=O._result;Q=Q(),Q.then(function(re){(O._status===0||O._status===-1)&&(O._status=1,O._result=re)},function(re){(O._status===0||O._status===-1)&&(O._status=2,O._result=re)}),O._status===-1&&(O._status=0,O._result=Q)}if(O._status===1)return O._result.default;throw O._result}var ke=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ke={map:Z,forEach:function(O,Q,re){Z(O,function(){Q.apply(this,arguments)},re)},count:function(O){var Q=0;return Z(O,function(){Q++}),Q},toArray:function(O){return Z(O,function(Q){return Q})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Se.Activity=w,Se.Children=Ke,Se.Component=he,Se.Fragment=n,Se.Profiler=o,Se.PureComponent=ge,Se.StrictMode=r,Se.Suspense=y,Se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Se.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Se.cache=function(O){return function(){return O.apply(null,arguments)}},Se.cacheSignal=function(){return null},Se.cloneElement=function(O,Q,re){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=te({},O.props),xe=O.key;if(Q!=null)for(Ae in Q.key!==void 0&&(xe=""+Q.key),Q)!A.call(Q,Ae)||Ae==="key"||Ae==="__self"||Ae==="__source"||Ae==="ref"&&Q.ref===void 0||(ae[Ae]=Q[Ae]);var Ae=arguments.length-2;if(Ae===1)ae.children=re;else if(1<Ae){for(var De=Array(Ae),dt=0;dt<Ae;dt++)De[dt]=arguments[dt+2];ae.children=De}return I(O.type,xe,ae)},Se.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Se.createElement=function(O,Q,re){var ae,xe={},Ae=null;if(Q!=null)for(ae in Q.key!==void 0&&(Ae=""+Q.key),Q)A.call(Q,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(xe[ae]=Q[ae]);var De=arguments.length-2;if(De===1)xe.children=re;else if(1<De){for(var dt=Array(De),tt=0;tt<De;tt++)dt[tt]=arguments[tt+2];xe.children=dt}if(O&&O.defaultProps)for(ae in De=O.defaultProps,De)xe[ae]===void 0&&(xe[ae]=De[ae]);return I(O,Ae,xe)},Se.createRef=function(){return{current:null}},Se.forwardRef=function(O){return{$$typeof:m,render:O}},Se.isValidElement=k,Se.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:de}},Se.memo=function(O,Q){return{$$typeof:_,type:O,compare:Q===void 0?null:Q}},Se.startTransition=function(O){var Q=N.T,re={};N.T=re;try{var ae=O(),xe=N.S;xe!==null&&xe(re,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(me,ke)}catch(Ae){ke(Ae)}finally{Q!==null&&re.types!==null&&(Q.types=re.types),N.T=Q}},Se.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Se.use=function(O){return N.H.use(O)},Se.useActionState=function(O,Q,re){return N.H.useActionState(O,Q,re)},Se.useCallback=function(O,Q){return N.H.useCallback(O,Q)},Se.useContext=function(O){return N.H.useContext(O)},Se.useDebugValue=function(){},Se.useDeferredValue=function(O,Q){return N.H.useDeferredValue(O,Q)},Se.useEffect=function(O,Q){return N.H.useEffect(O,Q)},Se.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Se.useId=function(){return N.H.useId()},Se.useImperativeHandle=function(O,Q,re){return N.H.useImperativeHandle(O,Q,re)},Se.useInsertionEffect=function(O,Q){return N.H.useInsertionEffect(O,Q)},Se.useLayoutEffect=function(O,Q){return N.H.useLayoutEffect(O,Q)},Se.useMemo=function(O,Q){return N.H.useMemo(O,Q)},Se.useOptimistic=function(O,Q){return N.H.useOptimistic(O,Q)},Se.useReducer=function(O,Q,re){return N.H.useReducer(O,Q,re)},Se.useRef=function(O){return N.H.useRef(O)},Se.useState=function(O){return N.H.useState(O)},Se.useSyncExternalStore=function(O,Q,re){return N.H.useSyncExternalStore(O,Q,re)},Se.useTransition=function(){return N.H.useTransition()},Se.version="19.2.4",Se}var P0;function op(){return P0||(P0=1,lm.exports=qw()),lm.exports}var pe=op();const lc=Lw(pe);var cm={exports:{}},jl={},um={exports:{}},hm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U0;function Fw(){return U0||(U0=1,(function(s){function e(B,Z){var de=B.length;B.push(Z);e:for(;0<de;){var ke=de-1>>>1,Ke=B[ke];if(0<o(Ke,Z))B[ke]=Z,B[de]=Ke,de=ke;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Z=B[0],de=B.pop();if(de!==Z){B[0]=de;e:for(var ke=0,Ke=B.length,O=Ke>>>1;ke<O;){var Q=2*(ke+1)-1,re=B[Q],ae=Q+1,xe=B[ae];if(0>o(re,de))ae<Ke&&0>o(xe,re)?(B[ke]=xe,B[ae]=de,ke=ae):(B[ke]=re,B[Q]=de,ke=Q);else if(ae<Ke&&0>o(xe,de))B[ke]=xe,B[ae]=de,ke=ae;else break e}}return Z}function o(B,Z){var de=B.sortIndex-Z.sortIndex;return de!==0?de:B.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var y=[],_=[],T=1,w=null,S=3,G=!1,W=!1,te=!1,ee=!1,he=typeof setTimeout=="function"?setTimeout:null,be=typeof clearTimeout=="function"?clearTimeout:null,ge=typeof setImmediate<"u"?setImmediate:null;function q(B){for(var Z=n(_);Z!==null;){if(Z.callback===null)r(_);else if(Z.startTime<=B)r(_),Z.sortIndex=Z.expirationTime,e(y,Z);else break;Z=n(_)}}function ce(B){if(te=!1,q(B),!W)if(n(y)!==null)W=!0,me||(me=!0,V());else{var Z=n(_);Z!==null&&se(ce,Z.startTime-B)}}var me=!1,N=-1,A=5,I=-1;function M(){return ee?!0:!(s.unstable_now()-I<A)}function k(){if(ee=!1,me){var B=s.unstable_now();I=B;var Z=!0;try{e:{W=!1,te&&(te=!1,be(N),N=-1),G=!0;var de=S;try{t:{for(q(B),w=n(y);w!==null&&!(w.expirationTime>B&&M());){var ke=w.callback;if(typeof ke=="function"){w.callback=null,S=w.priorityLevel;var Ke=ke(w.expirationTime<=B);if(B=s.unstable_now(),typeof Ke=="function"){w.callback=Ke,q(B),Z=!0;break t}w===n(y)&&r(y),q(B)}else r(y);w=n(y)}if(w!==null)Z=!0;else{var O=n(_);O!==null&&se(ce,O.startTime-B),Z=!1}}break e}finally{w=null,S=de,G=!1}Z=void 0}}finally{Z?V():me=!1}}}var V;if(typeof ge=="function")V=function(){ge(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ge=R.port2;R.port1.onmessage=k,V=function(){Ge.postMessage(null)}}else V=function(){he(k,0)};function se(B,Z){N=he(function(){B(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(B){B.callback=null},s.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<B?Math.floor(1e3/B):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(B){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var de=S;S=Z;try{return B()}finally{S=de}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(B,Z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var de=S;S=B;try{return Z()}finally{S=de}},s.unstable_scheduleCallback=function(B,Z,de){var ke=s.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?ke+de:ke):de=ke,B){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=de+Ke,B={id:T++,callback:Z,priorityLevel:B,startTime:de,expirationTime:Ke,sortIndex:-1},de>ke?(B.sortIndex=de,e(_,B),n(y)===null&&B===n(_)&&(te?(be(N),N=-1):te=!0,se(ce,de-ke))):(B.sortIndex=Ke,e(y,B),W||G||(W=!0,me||(me=!0,V()))),B},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(B){var Z=S;return function(){var de=S;S=Z;try{return B.apply(this,arguments)}finally{S=de}}}})(hm)),hm}var L0;function Hw(){return L0||(L0=1,um.exports=Fw()),um.exports}var fm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z0;function Gw(){if(z0)return Wt;z0=1;var s=op();function e(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,T){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:y,containerInfo:_,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Wt.createPortal=function(y,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return c(y,_,null,T)},Wt.flushSync=function(y){var _=f.T,T=r.p;try{if(f.T=null,r.p=2,y)return y()}finally{f.T=_,r.p=T,r.d.f()}},Wt.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Wt.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Wt.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var T=_.as,w=m(T,_.crossOrigin),S=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:w,integrity:S,fetchPriority:G}):T==="script"&&r.d.X(y,{crossOrigin:w,integrity:S,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Wt.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,w=m(T,_.crossOrigin);r.d.L(y,T,{crossOrigin:w,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(y,_){if(typeof y=="string")if(_){var T=m(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Wt.requestFormReset=function(y){r.d.r(y)},Wt.unstable_batchedUpdates=function(y,_){return y(_)},Wt.useFormState=function(y,_,T){return f.H.useFormState(y,_,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.2.4",Wt}var B0;function Kw(){if(B0)return fm.exports;B0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),fm.exports=Gw(),fm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0;function $w(){if(q0)return jl;q0=1;var s=Hw(),e=op(),n=Kw();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function y(t){if(c(t)!==t)throw Error(r(188))}function _(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return y(h),t;if(d===l)return y(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var w=Object.assign,S=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),he=Symbol.for("react.profiler"),be=Symbol.for("react.consumer"),ge=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),ce=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ge(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case he:return"Profiler";case ee:return"StrictMode";case ce:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ge:return t.displayName||"Context";case be:return(t._context.displayName||"Context")+".Consumer";case q:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Ge(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Ge(t(i))}catch{}}return null}var se=Array.isArray,B=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,de={pending:!1,data:null,method:null,action:null},ke=[],Ke=-1;function O(t){return{current:t}}function Q(t){0>Ke||(t.current=ke[Ke],ke[Ke]=null,Ke--)}function re(t,i){Ke++,ke[Ke]=t.current,t.current=i}var ae=O(null),xe=O(null),Ae=O(null),De=O(null);function dt(t,i){switch(re(Ae,i),re(xe,t),re(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?i0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=i0(i),t=s0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}Q(ae),re(ae,t)}function tt(){Q(ae),Q(xe),Q(Ae)}function Dn(t){t.memoizedState!==null&&re(De,t);var i=ae.current,a=s0(i,t.type);i!==a&&(re(xe,t),re(ae,a))}function _s(t){xe.current===t&&(Q(ae),Q(xe)),De.current===t&&(Q(De),kl._currentValue=de)}var He,ne;function Oe(t){if(He===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);He=i&&i[1]||"",ne=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+He+t+ne}var cn=!1;function bn(t,i){if(!t||cn)return"";cn=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var z=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){z=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){z=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var C=v.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{cn=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Oe(a):""}function vs(t,i){switch(t.tag){case 26:case 27:case 5:return Oe(t.type);case 16:return Oe("Lazy");case 13:return t.child!==i&&i!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return bn(t.type,!1);case 11:return bn(t.type.render,!1);case 1:return bn(t.type,!0);case 31:return Oe("Activity");default:return""}}function Oo(t){try{var i="",a=null;do i+=vs(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var xt=Object.prototype.hasOwnProperty,jt=s.unstable_scheduleCallback,bs=s.unstable_cancelCallback,cf=s.unstable_shouldYield,vc=s.unstable_requestPaint,sn=s.unstable_now,xr=s.unstable_getCurrentPriorityLevel,Mo=s.unstable_ImmediatePriority,Vo=s.unstable_UserBlockingPriority,Es=s.unstable_NormalPriority,uf=s.unstable_LowPriority,bc=s.unstable_IdlePriority,Ec=s.log,Tc=s.unstable_setDisableYieldValue,Wn=null,Ft=null;function On(t){if(typeof Ec=="function"&&Tc(t),Ft&&typeof Ft.setStrictMode=="function")try{Ft.setStrictMode(Wn,t)}catch{}}var _t=Math.clz32?Math.clz32:wc,xc=Math.log,ya=Math.LN2;function wc(t){return t>>>=0,t===0?32:31-(xc(t)/ya|0)|0}var yi=256,wr=262144,wt=4194304;function _i(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function vi(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=_i(l):(v&=E,v!==0?h=_i(v):a||(a=E&~t,a!==0&&(h=_i(a))))):(E=l&~d,E!==0?h=_i(E):v!==0?h=_i(v):a||(a=l&~t,a!==0&&(h=_i(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Zn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function hf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function bi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ar(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ff(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-_t(a),Y=1<<K;E[K]=0,C[K]=-1;var z=L[K];if(z!==null)for(L[K]=null,K=0;K<z.length;K++){var H=z[K];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&Sr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Sr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-_t(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function jo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-_t(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Po(t,i){var a=i&-i;return a=(a&42)!==0?1:Rr(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $i(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sc(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:R0(t.type))}function ei(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var ti=Math.random().toString(36).slice(2),At="__reactFiber$"+ti,Lt="__reactProps$"+ti,Ei="__reactContainer$"+ti,_a="__reactEvents$"+ti,df="__reactListeners$"+ti,Rc="__reactHandles$"+ti,Nc="__reactResources$"+ti,Ti="__reactMarker$"+ti;function va(t){delete t[At],delete t[Lt],delete t[_a],delete t[df],delete t[Rc]}function xi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ei]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=h0(t);t!==null;){if(a=t[At])return a;t=h0(t)}return i}t=a,a=t.parentNode}return null}function Mn(t){if(t=t[At]||t[Ei]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function En(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function wi(t){var i=t[Nc];return i||(i=t[Nc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[Ti]=!0}var Uo=new Set,Lo={};function Ai(t,i){Si(t,i),Si(t+"Capture",i)}function Si(t,i){for(Lo[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var zo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},qo={};function Ic(t){return xt.call(qo,t)?!0:xt.call(Bo,t)?!1:zo.test(t)?qo[t]=!0:(Bo[t]=!0,!1)}function ba(t,i,a){if(Ic(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Rt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function zt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ts(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){if(!t._valueTracker){var i=Ts(t)?"checked":"value";t._valueTracker=Fo(t,i,""+t[i])}}function Nr(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ts(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ri(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ir=/[\n"\\]/g;function un(t){return t.replace(Ir,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ea(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+zt(i)):t.value!==""+zt(i)&&(t.value=""+zt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ho(t,v,zt(i)):a!=null?Ho(t,v,zt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+zt(E):t.removeAttribute("name")}function Cc(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){We(t);return}a=a!=null?""+zt(a):"",i=i!=null?""+zt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),We(t)}function Ho(t,i,a){i==="number"&&Ri(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function xs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+zt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function kc(t,i,a){if(i!=null&&(i=""+zt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+zt(a):""}function ws(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(se(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=zt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function hn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ko(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function Ta(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),As=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(t){return As.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ni(){}var $o=null;function Vn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ss=null,Ni=null;function Cr(t){var i=Mn(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ea(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Lt]||null;if(!h)throw Error(r(90));Ea(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Nr(l)}break e;case"textarea":kc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&xs(t,!!a.multiple,i,!1)}}}var wa=!1;function Rs(t,i,a){if(wa)return t(i,a);wa=!0;try{var l=t(i);return l}finally{if(wa=!1,(Ss!==null||Ni!==null)&&(Su(),Ss&&(i=Ss,t=Ni,Ni=Ss=null,Cr(i),t)))for(i=0;i<t.length;i++)Cr(t[i])}}function ii(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Lt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kr=!1;if(jn)try{var nt={};Object.defineProperty(nt,"passive",{get:function(){kr=!0}}),window.addEventListener("test",nt,nt),window.removeEventListener("test",nt,nt)}catch{kr=!1}var Ii=null,Qo=null,Dr=null;function Yo(){if(Dr)return Dr;var t,i=Qo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Dr=h.slice(t,1<l?1-l:void 0)}function Or(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function si(){return!1}function Ht(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:si,this.isPropagationStopped=si,this}return w(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var Yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Ht(Yi),Ns=w({},Yi,{view:0,detail:0}),Xo=Ht(Ns),Is,Aa,ki,Sa=w({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ki&&(ki&&t.type==="mousemove"?(Is=t.screenX-ki.screenX,Aa=t.screenY-ki.screenY):Aa=Is=0,ki=t),Is)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Jo=Ht(Sa),Mr=w({},Sa,{dataTransfer:0}),Mc=Ht(Mr),Vc=w({},Ns,{relatedTarget:0}),Vr=Ht(Vc),Wo=w({},Yi,{animationName:0,elapsedTime:0,pseudoElement:0}),jc=Ht(Wo),Ra=w({},Yi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pc=Ht(Ra),Uc=w({},Yi,{data:0}),Di=Ht(Uc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bc[t])?!!i[t]:!1}function Cs(){return qc}var rn=w({},Ns,{key:function(t){if(t.key){var i=Lc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Or(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(t){return t.type==="keypress"?Or(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Or(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fc=Ht(rn),Hc=w({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xi=Ht(Hc),u=w({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),g=Ht(u),b=w({},Yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),x=Ht(b),P=w({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ht(P),ie=w({},Yi,{newState:0,oldState:0}),Ne=Ht(ie),vt=[9,13,27,32],Ye=jn&&"CompositionEvent"in window,ht=null;jn&&"documentMode"in document&&(ht=document.documentMode);var Pn=jn&&"TextEvent"in window&&!ht,Oi=jn&&(!Ye||ht&&8<ht&&11>=ht),ri=" ",ai=!1;function jr(t,i){switch(t){case"keyup":return vt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ia=!1;function cx(t,i){switch(t){case"compositionend":return Na(i);case"keypress":return i.which!==32?null:(ai=!0,ri);case"textInput":return t=i.data,t===ri&&ai?null:t;default:return null}}function ux(t,i){if(Ia)return t==="compositionend"||!Ye&&jr(t,i)?(t=Yo(),Dr=Qo=Ii=null,Ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Oi&&i.locale!=="ko"?null:i.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!hx[t.type]:i==="textarea"}function pg(t,i,a,l){Ss?Ni?Ni.push(l):Ni=[l]:Ss=l,i=Ou(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Zo=null,el=null;function fx(t){J_(t,0)}function Gc(t){var i=En(t);if(Nr(i))return t}function gg(t,i){if(t==="change")return i}var yg=!1;if(jn){var mf;if(jn){var pf="oninput"in document;if(!pf){var _g=document.createElement("div");_g.setAttribute("oninput","return;"),pf=typeof _g.oninput=="function"}mf=pf}else mf=!1;yg=mf&&(!document.documentMode||9<document.documentMode)}function vg(){Zo&&(Zo.detachEvent("onpropertychange",bg),el=Zo=null)}function bg(t){if(t.propertyName==="value"&&Gc(el)){var i=[];pg(i,el,t,Vn(t)),Rs(fx,i)}}function dx(t,i,a){t==="focusin"?(vg(),Zo=i,el=a,Zo.attachEvent("onpropertychange",bg)):t==="focusout"&&vg()}function mx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(el)}function px(t,i){if(t==="click")return Gc(i)}function gx(t,i){if(t==="input"||t==="change")return Gc(i)}function yx(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var xn=typeof Object.is=="function"?Object.is:yx;function tl(t,i){if(xn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!xt.call(i,h)||!xn(t[h],i[h]))return!1}return!0}function Eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Tg(t,i){var a=Eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Eg(a)}}function xg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?xg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ri(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ri(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var _x=jn&&"documentMode"in document&&11>=document.documentMode,Ca=null,yf=null,nl=null,_f=!1;function Ag(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;_f||Ca==null||Ca!==Ri(l)||(l=Ca,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Ou(yf,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Pr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ka={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},vf={},Sg={};jn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Ur(t){if(vf[t])return vf[t];if(!ka[t])return t;var i=ka[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sg)return vf[t]=i[a];return t}var Rg=Ur("animationend"),Ng=Ur("animationiteration"),Ig=Ur("animationstart"),vx=Ur("transitionrun"),bx=Ur("transitionstart"),Ex=Ur("transitioncancel"),Cg=Ur("transitionend"),kg=new Map,bf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");bf.push("scrollEnd");function oi(t,i){kg.set(t,i),Ai(i,[t])}var Kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Un=[],Da=0,Ef=0;function $c(){for(var t=Da,i=Ef=Da=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Dg(a,h,d)}}function Qc(t,i,a,l){Un[Da++]=t,Un[Da++]=i,Un[Da++]=a,Un[Da++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Qc(t,i,a,l),Yc(t)}function Lr(t,i){return Qc(t,null,null,i),Yc(t)}function Dg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-_t(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yc(t){if(50<wl)throw wl=0,kd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oa={};function Tx(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new Tx(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ji(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Og(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=Rw(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=wn(31,a,i,h),t.elementType=I,t.lanes=d,t;case te:return zr(a.children,h,d,i);case ee:v=8,h|=24;break;case he:return t=wn(12,a,i,h|2),t.elementType=he,t.lanes=d,t;case ce:return t=wn(13,a,i,h),t.elementType=ce,t.lanes=d,t;case me:return t=wn(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ge:v=10;break e;case be:v=9;break e;case q:v=11;break e;case N:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=wn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zr(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function wf(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function Mg(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function Af(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Vg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=Vg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Oo(i)},Vg.set(t,i),i)}return{value:t,source:i,stack:Oo(i)}}var Ma=[],Va=0,Jc=null,il=0,zn=[],Bn=0,ks=null,Mi=1,Vi="";function Wi(t,i){Ma[Va++]=il,Ma[Va++]=Jc,Jc=t,il=i}function jg(t,i,a){zn[Bn++]=Mi,zn[Bn++]=Vi,zn[Bn++]=ks,ks=t;var l=Mi;t=Vi;var h=32-_t(l)-1;l&=~(1<<h),a+=1;var d=32-_t(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Mi=1<<32-_t(i)+h|a<<h|l,Vi=d+t}else Mi=1<<d|a<<h|l,Vi=t}function Sf(t){t.return!==null&&(Wi(t,1),jg(t,1,0))}function Rf(t){for(;t===Jc;)Jc=Ma[--Va],Ma[Va]=null,il=Ma[--Va],Ma[Va]=null;for(;t===ks;)ks=zn[--Bn],zn[Bn]=null,Vi=zn[--Bn],zn[Bn]=null,Mi=zn[--Bn],zn[Bn]=null}function Pg(t,i){zn[Bn++]=Mi,zn[Bn++]=Vi,zn[Bn++]=ks,Mi=i.id,Vi=i.overflow,ks=t}var Gt=null,lt=null,Be=!1,Ds=null,qn=!1,Nf=Error(r(519));function Os(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sl(Ln(i,t)),Nf}function Ug(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Lt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Sl.length;a++)Ve(Sl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Cc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),ws(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||t0(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||Os(t,!0)}function Lg(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Gt=Gt.return}}function ja(t){if(t!==Gt)return!1;if(!Be)return Lg(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Kd(t.type,t.memoizedProps)),a=!a),a&&lt&&Os(t),Lg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=u0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));lt=u0(t)}else i===27?(i=lt,$s(t.type)?(t=Jd,Jd=null,lt=t):lt=i):lt=Gt?Hn(t.stateNode.nextSibling):null;return!0}function Br(){lt=Gt=null,Be=!1}function If(){var t=Ds;return t!==null&&(pn===null?pn=t:pn.push.apply(pn,t),Ds=null),t}function sl(t){Ds===null?Ds=[t]:Ds.push(t)}var Cf=O(null),qr=null,Zi=null;function Ms(t,i,a){re(Cf,i._currentValue),i._currentValue=a}function es(t){t._currentValue=Cf.current,Q(Cf)}function kf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Df(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),kf(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),kf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Pa(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;xn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===De.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&Df(i,t,a,l),i.flags|=262144}function Wc(t){for(t=t.firstContext;t!==null;){if(!xn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Fr(t){qr=t,Zi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Kt(t){return zg(qr,t)}function Zc(t,i){return qr===null&&Fr(t),zg(t,i)}function zg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Zi===null){if(t===null)throw Error(r(308));Zi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Zi=Zi.next=i;return a}var xx=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},wx=s.unstable_scheduleCallback,Ax=s.unstable_NormalPriority,Nt={$$typeof:ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Of(){return{controller:new xx,data:new Map,refCount:0}}function rl(t){t.refCount--,t.refCount===0&&wx(Ax,function(){t.controller.abort()})}var al=null,Mf=0,Ua=0,La=null;function Sx(t,i){if(al===null){var a=al=[];Mf=0,Ua=Pd(),La={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Mf++,i.then(Bg,Bg),i}function Bg(){if(--Mf===0&&al!==null){La!==null&&(La.status="fulfilled");var t=al;al=null,Ua=0,La=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Rx(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var qg=B.S;B.S=function(t,i){A_=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Sx(t,i),qg!==null&&qg(t,i)};var Hr=O(null);function Vf(){var t=Hr.current;return t!==null?t:at.pooledCache}function eu(t,i){i===null?re(Hr,Hr.current):re(Hr,i.pool)}function Fg(){var t=Vf();return t===null?null:{parent:Nt._currentValue,pool:t}}var za=Error(r(460)),jf=Error(r(474)),tu=Error(r(542)),nu={then:function(){}};function Hg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Gg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ni,ni),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t;default:if(typeof i.status=="string")i.then(ni,ni);else{if(t=at,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,$g(t),t}throw Kr=i,za}}function Gr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Kr=a,za):a}}var Kr=null;function Kg(){if(Kr===null)throw Error(r(459));var t=Kr;return Kr=null,t}function $g(t){if(t===za||t===tu)throw Error(r(483))}var Ba=null,ol=0;function iu(t){var i=ol;return ol+=1,Ba===null&&(Ba=[]),Gg(Ba,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function su(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(j,D){if(t){var U=j.deletions;U===null?(j.deletions=[D],j.flags|=16):U.push(D)}}function a(j,D){if(!t)return null;for(;D!==null;)i(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function h(j,D){return j=Ji(j,D),j.index=0,j.sibling=null,j}function d(j,D,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<D?(j.flags|=67108866,D):U):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,D,U,$){return D===null||D.tag!==6?(D=wf(U,j.mode,$),D.return=j,D):(D=h(D,U),D.return=j,D)}function C(j,D,U,$){var ye=U.type;return ye===te?K(j,D,U.props.children,$,U.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Gr(ye)===D.type)?(D=h(D,U.props),ll(D,U),D.return=j,D):(D=Xc(U.type,U.key,U.props,null,j.mode,$),ll(D,U),D.return=j,D)}function L(j,D,U,$){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Af(U,j.mode,$),D.return=j,D):(D=h(D,U.children||[]),D.return=j,D)}function K(j,D,U,$,ye){return D===null||D.tag!==7?(D=zr(U,j.mode,$,ye),D.return=j,D):(D=h(D,U),D.return=j,D)}function Y(j,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=wf(""+D,j.mode,U),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return U=Xc(D.type,D.key,D.props,null,j.mode,U),ll(U,D),U.return=j,U;case W:return D=Af(D,j.mode,U),D.return=j,D;case A:return D=Gr(D),Y(j,D,U)}if(se(D)||V(D))return D=zr(D,j.mode,U,null),D.return=j,D;if(typeof D.then=="function")return Y(j,iu(D),U);if(D.$$typeof===ge)return Y(j,Zc(j,D),U);su(j,D)}return null}function z(j,D,U,$){var ye=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return ye!==null?null:E(j,D,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===ye?C(j,D,U,$):null;case W:return U.key===ye?L(j,D,U,$):null;case A:return U=Gr(U),z(j,D,U,$)}if(se(U)||V(U))return ye!==null?null:K(j,D,U,$,null);if(typeof U.then=="function")return z(j,D,iu(U),$);if(U.$$typeof===ge)return z(j,D,Zc(j,U),$);su(j,U)}return null}function H(j,D,U,$,ye){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return j=j.get(U)||null,E(D,j,""+$,ye);if(typeof $=="object"&&$!==null){switch($.$$typeof){case G:return j=j.get($.key===null?U:$.key)||null,C(D,j,$,ye);case W:return j=j.get($.key===null?U:$.key)||null,L(D,j,$,ye);case A:return $=Gr($),H(j,D,U,$,ye)}if(se($)||V($))return j=j.get(U)||null,K(D,j,$,ye,null);if(typeof $.then=="function")return H(j,D,U,iu($),ye);if($.$$typeof===ge)return H(j,D,U,Zc(D,$),ye);su(D,$)}return null}function ue(j,D,U,$){for(var ye=null,$e=null,fe=D,Ce=D=0,Pe=null;fe!==null&&Ce<U.length;Ce++){fe.index>Ce?(Pe=fe,fe=null):Pe=fe.sibling;var Qe=z(j,fe,U[Ce],$);if(Qe===null){fe===null&&(fe=Pe);break}t&&fe&&Qe.alternate===null&&i(j,fe),D=d(Qe,D,Ce),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe,fe=Pe}if(Ce===U.length)return a(j,fe),Be&&Wi(j,Ce),ye;if(fe===null){for(;Ce<U.length;Ce++)fe=Y(j,U[Ce],$),fe!==null&&(D=d(fe,D,Ce),$e===null?ye=fe:$e.sibling=fe,$e=fe);return Be&&Wi(j,Ce),ye}for(fe=l(fe);Ce<U.length;Ce++)Pe=H(fe,j,Ce,U[Ce],$),Pe!==null&&(t&&Pe.alternate!==null&&fe.delete(Pe.key===null?Ce:Pe.key),D=d(Pe,D,Ce),$e===null?ye=Pe:$e.sibling=Pe,$e=Pe);return t&&fe.forEach(function(Ws){return i(j,Ws)}),Be&&Wi(j,Ce),ye}function ve(j,D,U,$){if(U==null)throw Error(r(151));for(var ye=null,$e=null,fe=D,Ce=D=0,Pe=null,Qe=U.next();fe!==null&&!Qe.done;Ce++,Qe=U.next()){fe.index>Ce?(Pe=fe,fe=null):Pe=fe.sibling;var Ws=z(j,fe,Qe.value,$);if(Ws===null){fe===null&&(fe=Pe);break}t&&fe&&Ws.alternate===null&&i(j,fe),D=d(Ws,D,Ce),$e===null?ye=Ws:$e.sibling=Ws,$e=Ws,fe=Pe}if(Qe.done)return a(j,fe),Be&&Wi(j,Ce),ye;if(fe===null){for(;!Qe.done;Ce++,Qe=U.next())Qe=Y(j,Qe.value,$),Qe!==null&&(D=d(Qe,D,Ce),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe);return Be&&Wi(j,Ce),ye}for(fe=l(fe);!Qe.done;Ce++,Qe=U.next())Qe=H(fe,j,Ce,Qe.value,$),Qe!==null&&(t&&Qe.alternate!==null&&fe.delete(Qe.key===null?Ce:Qe.key),D=d(Qe,D,Ce),$e===null?ye=Qe:$e.sibling=Qe,$e=Qe);return t&&fe.forEach(function(Uw){return i(j,Uw)}),Be&&Wi(j,Ce),ye}function rt(j,D,U,$){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var ye=U.key;D!==null;){if(D.key===ye){if(ye=U.type,ye===te){if(D.tag===7){a(j,D.sibling),$=h(D,U.props.children),$.return=j,j=$;break e}}else if(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===A&&Gr(ye)===D.type){a(j,D.sibling),$=h(D,U.props),ll($,U),$.return=j,j=$;break e}a(j,D);break}else i(j,D);D=D.sibling}U.type===te?($=zr(U.props.children,j.mode,$,U.key),$.return=j,j=$):($=Xc(U.type,U.key,U.props,null,j.mode,$),ll($,U),$.return=j,j=$)}return v(j);case W:e:{for(ye=U.key;D!==null;){if(D.key===ye)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(j,D.sibling),$=h(D,U.children||[]),$.return=j,j=$;break e}else{a(j,D);break}else i(j,D);D=D.sibling}$=Af(U,j.mode,$),$.return=j,j=$}return v(j);case A:return U=Gr(U),rt(j,D,U,$)}if(se(U))return ue(j,D,U,$);if(V(U)){if(ye=V(U),typeof ye!="function")throw Error(r(150));return U=ye.call(U),ve(j,D,U,$)}if(typeof U.then=="function")return rt(j,D,iu(U),$);if(U.$$typeof===ge)return rt(j,D,Zc(j,U),$);su(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(j,D.sibling),$=h(D,U),$.return=j,j=$):(a(j,D),$=wf(U,j.mode,$),$.return=j,j=$),v(j)):a(j,D)}return function(j,D,U,$){try{ol=0;var ye=rt(j,D,U,$);return Ba=null,ye}catch(fe){if(fe===za||fe===tu)throw fe;var $e=wn(29,fe,null,j.mode);return $e.lanes=$,$e.return=j,$e}finally{}}}var $r=Qg(!0),Yg=Qg(!1),Vs=!1;function Pf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function js(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yc(t),Dg(t,null,a),i}return Qc(t,l,i,a),Yc(t)}function cl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}function Lf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var zf=!1;function ul(){if(zf){var t=La;if(t!==null)throw t}}function hl(t,i,a,l){zf=!1;var h=t.updateQueue;Vs=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,v===null?d=L:v.next=L,v=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=L:E.next=L,K.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;v=0,K=L=C=null,E=d;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(je&z)===z:(l&z)===z){z!==0&&z===Ua&&(zf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ue=t,ve=E;z=i;var rt=a;switch(ve.tag){case 1:if(ue=ve.payload,typeof ue=="function"){Y=ue.call(rt,Y,z);break e}Y=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ve.payload,z=typeof ue=="function"?ue.call(rt,Y,z):ue,z==null)break e;Y=w({},Y,z);break e;case 2:Vs=!0}}z=E.callback,z!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(L=K=H,C=Y):K=K.next=H,v|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),qs|=v,t.lanes=v,t.memoizedState=Y}}function Xg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Jg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xg(a[t],i)}var qa=O(null),ru=O(0);function Wg(t,i){t=cs,re(ru,t),re(qa,i),cs=t|i.baseLanes}function Bf(){re(ru,cs),re(qa,qa.current)}function qf(){cs=ru.current,Q(qa),Q(ru)}var An=O(null),Fn=null;function Us(t){var i=t.alternate;re(bt,bt.current&1),re(An,t),Fn===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(Fn=t)}function Ff(t){re(bt,bt.current),re(An,t),Fn===null&&(Fn=t)}function Zg(t){t.tag===22?(re(bt,bt.current),re(An,t),Fn===null&&(Fn=t)):Ls()}function Ls(){re(bt,bt.current),re(An,An.current)}function Sn(t){Q(An),Fn===t&&(Fn=null),Q(bt)}var bt=O(0);function au(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Yd(a)||Xd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ts=0,Ie=null,it=null,It=null,ou=!1,Fa=!1,Qr=!1,lu=0,fl=0,Ha=null,Nx=0;function gt(){throw Error(r(321))}function Hf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!xn(t[a],i[a]))return!1;return!0}function Gf(t,i,a,l,h,d){return ts=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=t===null||t.memoizedState===null?jy:ad,Qr=!1,d=a(l,h),Qr=!1,Fa&&(d=ty(i,a,l,h)),ey(t),d}function ey(t){B.H=pl;var i=it!==null&&it.next!==null;if(ts=0,It=it=Ie=null,ou=!1,fl=0,Ha=null,i)throw Error(r(300));t===null||Ct||(t=t.dependencies,t!==null&&Wc(t)&&(Ct=!0))}function ty(t,i,a,l){Ie=t;var h=0;do{if(Fa&&(Ha=null),fl=0,Fa=!1,25<=h)throw Error(r(301));if(h+=1,It=it=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}B.H=Py,d=i(a,l)}while(Fa);return d}function Ix(){var t=B.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(it!==null?it.memoizedState:null)!==t&&(Ie.flags|=1024),i}function Kf(){var t=lu!==0;return lu=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Qf(t){if(ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ou=!1}ts=0,It=it=Ie=null,Fa=!1,fl=lu=0,Ha=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ie.memoizedState=It=t:It=It.next=t,It}function Et(){if(it===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=it.next;var i=It===null?Ie.memoizedState:It.next;if(i!==null)It=i,it=t;else{if(t===null)throw Ie.alternate===null?Error(r(467)):Error(r(310));it=t,t={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},It===null?Ie.memoizedState=It=t:It=It.next=t}return It}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function dl(t){var i=fl;return fl+=1,Ha===null&&(Ha=[]),t=Gg(Ha,t,i),i=Ie,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?jy:ad),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===ge)return Kt(t)}throw Error(r(438,String(t)))}function Yf(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cu(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function ns(t,i){return typeof i=="function"?i(t):i}function hu(t){var i=Et();return Xf(i,it,t)}function Xf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,C=null,L=i,K=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(je&Y)===Y:(ts&Y)===Y){var z=L.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===Ua&&(K=!0);else if((ts&z)===z){L=L.next,z===Ua&&(K=!0);continue}else Y={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=Y,v=d):C=C.next=Y,Ie.lanes|=z,qs|=z;Y=L.action,Qr&&a(d,Y),d=L.hasEagerState?L.eagerState:a(d,Y)}else z={lane:Y,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=z,v=d):C=C.next=z,Ie.lanes|=Y,qs|=Y;L=L.next}while(L!==null&&L!==i);if(C===null?v=d:C.next=E,!xn(d,t.memoizedState)&&(Ct=!0,K&&(a=La,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var i=Et(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);xn(d,i.memoizedState)||(Ct=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ny(t,i,a){var l=Ie,h=Et(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!xn((it||h).memoizedState,a);if(v&&(h.memoizedState=a,Ct=!0),h=h.queue,ed(ry.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Ga(9,{destroy:void 0},sy.bind(null,l,h,a,i),null),at===null)throw Error(r(349));d||(ts&127)!==0||iy(l,i,a)}return a}function iy(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=cu(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function sy(t,i,a,l){i.value=a,i.getSnapshot=l,ay(i)&&oy(t)}function ry(t,i,a){return a(function(){ay(i)&&oy(t)})}function ay(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!xn(t,a)}catch{return!0}}function oy(t){var i=Lr(t,2);i!==null&&gn(i,t,2)}function Wf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Qr){On(!0);try{a()}finally{On(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},i}function ly(t,i,a,l){return t.baseState=a,Xf(t,it,typeof l=="function"?l:ns)}function Cx(t,i,a,l,h){if(mu(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};B.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,cy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function cy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=B.T,v={};B.T=v;try{var E=a(h,l),C=B.S;C!==null&&C(v,E),uy(t,i,E)}catch(L){Zf(t,i,L)}finally{d!==null&&v.types!==null&&(d.types=v.types),B.T=d}}else try{d=a(h,l),uy(t,i,d)}catch(L){Zf(t,i,L)}}function uy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){hy(t,i,l)},function(l){return Zf(t,i,l)}):hy(t,i,a)}function hy(t,i,a){i.status="fulfilled",i.value=a,fy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,cy(t,a)))}function Zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,fy(i),i=i.next;while(i!==l)}t.action=null}function fy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function dy(t,i){return i}function my(t,i){if(Be){var a=at.formState;if(a!==null){e:{var l=Ie;if(Be){if(lt){t:{for(var h=lt,d=qn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Hn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){lt=Hn(h.nextSibling),l=h.data==="F!";break e}}Os(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:dy,lastRenderedState:i},a.queue=l,a=Oy.bind(null,Ie,l),l.dispatch=a,l=Wf(!1),d=rd.bind(null,Ie,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Cx.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function py(t){var i=Et();return gy(i,it,t)}function gy(t,i,a){if(i=Xf(t,i,dy)[0],t=hu(ns)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=dl(i)}catch(v){throw v===za?tu:v}else l=i;i=Et();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,Ga(9,{destroy:void 0},kx.bind(null,h,a),null)),[l,d,t]}function kx(t,i){t.action=i}function yy(t){var i=Et(),a=it;if(a!==null)return gy(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=cu(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function _y(){return Et().memoizedState}function fu(t,i,a,l){var h=an();Ie.flags|=t,h.memoizedState=Ga(1|i,{destroy:void 0},a,l===void 0?null:l)}function du(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;it!==null&&l!==null&&Hf(l,it.memoizedState.deps)?h.memoizedState=Ga(i,d,a,l):(Ie.flags|=t,h.memoizedState=Ga(1|i,d,a,l))}function vy(t,i){fu(8390656,8,t,i)}function ed(t,i){du(2048,8,t,i)}function Dx(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=cu(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function by(t){var i=Et().memoizedState;return Dx({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ey(t,i){return du(4,2,t,i)}function Ty(t,i){return du(4,4,t,i)}function xy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,du(4,4,xy.bind(null,i,t),a)}function td(){}function Ay(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Hf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Sy(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Hf(i,l[1]))return l[0];if(l=t(),Qr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l}function nd(t,i,a){return a===void 0||(ts&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=R_(),Ie.lanes|=t,qs|=t,a)}function Ry(t,i,a,l){return xn(a,i)?a:qa.current!==null?(t=nd(t,a,l),xn(t,i)||(Ct=!0),t):(ts&42)===0||(ts&1073741824)!==0&&(je&261930)===0?(Ct=!0,t.memoizedState=a):(t=R_(),Ie.lanes|=t,qs|=t,i)}function Ny(t,i,a,l,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var v=B.T,E={};B.T=E,rd(t,!1,i,a);try{var C=h(),L=B.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=Rx(C,l);ml(t,i,K,In(t))}else ml(t,i,l,In(t))}catch(Y){ml(t,i,{then:function(){},status:"rejected",reason:Y},In())}finally{Z.p=d,v!==null&&E.types!==null&&(v.types=E.types),B.T=v}}function Ox(){}function id(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Iy(t).queue;Ny(t,h,i,de,a===null?Ox:function(){return Cy(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:de,baseState:de,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:de},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Cy(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),ml(t,i.next.queue,{},In())}function sd(){return Kt(kl)}function ky(){return Et().memoizedState}function Dy(){return Et().memoizedState}function Mx(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=js(a);var l=Ps(i,t,a);l!==null&&(gn(l,i,a),cl(l,i,a)),i={cache:Of()},t.payload=i;return}i=i.return}}function Vx(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mu(t)?My(i,a):(a=Tf(t,i,a,l),a!==null&&(gn(a,t,l),Vy(a,i,l)))}function Oy(t,i,a){var l=In();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(t))My(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,xn(E,v))return Qc(t,i,h,0),at===null&&$c(),!1}catch{}finally{}if(a=Tf(t,i,h,l),a!==null)return gn(a,t,l),Vy(a,i,l),!0}return!1}function rd(t,i,a,l){if(l={lane:2,revertLane:Pd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(i)throw Error(r(479))}else i=Tf(t,a,l,2),i!==null&&gn(i,t,2)}function mu(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function My(t,i){Fa=ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Vy(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,jo(t,a)}}var pl={readContext:Kt,use:uu,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt};pl.useEffectEvent=gt;var jy={readContext:Kt,use:uu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Kt,useEffect:vy,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fu(4194308,4,xy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fu(4194308,4,t,i)},useInsertionEffect:function(t,i){fu(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Qr){On(!0);try{t()}finally{On(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Qr){On(!0);try{a(i)}finally{On(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Vx.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Wf(t);var i=t.queue,a=Oy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:td,useDeferredValue:function(t,i){var a=an();return nd(a,t,i)},useTransition:function(){var t=Wf(!1);return t=Ny.bind(null,Ie,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=an();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),at===null)throw Error(r(349));(je&127)!==0||iy(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,vy(ry.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,{destroy:void 0},sy.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=at.identifierPrefix;if(Be){var a=Vi,l=Mi;a=(l&~(1<<32-_t(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Nx++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:sd,useFormState:my,useActionState:my,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=rd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:Yf,useCacheRefresh:function(){return an().memoizedState=Mx.bind(null,Ie)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},ad={readContext:Kt,use:uu,useCallback:Ay,useContext:Kt,useEffect:ed,useImperativeHandle:wy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Sy,useReducer:hu,useRef:_y,useState:function(){return hu(ns)},useDebugValue:td,useDeferredValue:function(t,i){var a=Et();return Ry(a,it.memoizedState,t,i)},useTransition:function(){var t=hu(ns)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:sd,useFormState:py,useActionState:py,useOptimistic:function(t,i){var a=Et();return ly(a,it,t,i)},useMemoCache:Yf,useCacheRefresh:Dy};ad.useEffectEvent=by;var Py={readContext:Kt,use:uu,useCallback:Ay,useContext:Kt,useEffect:ed,useImperativeHandle:wy,useInsertionEffect:Ey,useLayoutEffect:Ty,useMemo:Sy,useReducer:Jf,useRef:_y,useState:function(){return Jf(ns)},useDebugValue:td,useDeferredValue:function(t,i){var a=Et();return it===null?nd(a,t,i):Ry(a,it.memoizedState,t,i)},useTransition:function(){var t=Jf(ns)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:ny,useId:ky,useHostTransitionStatus:sd,useFormState:yy,useActionState:yy,useOptimistic:function(t,i){var a=Et();return it!==null?ly(a,it,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Yf,useCacheRefresh:Dy};Py.useEffectEvent=by;function od(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:w({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ld={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=js(l);h.payload=i,a!=null&&(h.callback=a),i=Ps(t,h,l),i!==null&&(gn(i,t,l),cl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=js(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ps(t,h,l),i!==null&&(gn(i,t,l),cl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=js(a);l.tag=2,i!=null&&(l.callback=i),i=Ps(t,l,a),i!==null&&(gn(i,t,a),cl(i,t,a))}};function Uy(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function Ly(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&ld.enqueueReplaceState(i,i.state,null)}function Yr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=w({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function zy(t){Kc(t)}function By(t){console.error(t)}function qy(t){Kc(t)}function pu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Fy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function cd(t,i,a){return a=js(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,i)},a}function Hy(t){return t=js(t),t.tag=3,t}function Gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Fy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Fy(i,a,l),typeof h!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function jx(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Pa(i,a,h,!0),a=An.current,a!==null){switch(a.tag){case 31:case 13:return Fn===null?Ru():a.alternate===null&&yt===0&&(yt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(t,l,h)),!1;case 22:return a.flags|=65536,l===nu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(t,l,h)),!1}throw Error(r(435,a.tag))}return Md(t,l,h),Ru(),!1}if(Be)return i=An.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Nf&&(t=Error(r(422),{cause:l}),sl(Ln(t,a)))):(l!==Nf&&(i=Error(r(423),{cause:l}),sl(Ln(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=cd(t.stateNode,l,h),Lf(t,h),yt!==4&&(yt=2)),!1;var d=Error(r(520),{cause:l});if(d=Ln(d,a),xl===null?xl=[d]:xl.push(d),yt!==4&&(yt=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=cd(a.stateNode,l,t),Lf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Hy(h),Gy(h,t,a,l),Lf(a,h),!1}a=a.return}while(a!==null);return!1}var ud=Error(r(461)),Ct=!1;function $t(t,i,a,l){i.child=t===null?Yg(i,null,a,l):$r(i,t.child,a,l)}function Ky(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return Fr(i),l=Gf(t,i,a,v,d,h),E=Kf(),t!==null&&!Ct?($f(t,i,h),is(t,i,h)):(Be&&E&&Sf(i),i.flags|=1,$t(t,i,l,h),i.child)}function $y(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,h)):(t=Xc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!_d(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(v,l)&&t.ref===i.ref)return is(t,i,h)}return i.flags|=1,t=Ji(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(Ct=!1,i.pendingProps=l=d,_d(t,h))(t.flags&131072)!==0&&(Ct=!0);else return i.lanes=t.lanes,is(t,i,h)}return hd(t,i,a,l,h)}function Yy(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Xy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(i,d!==null?d.cachePool:null),d!==null?Wg(i,d):Bf(),Zg(i);else return l=i.lanes=536870912,Xy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(eu(i,d.cachePool),Wg(i,d),Ls(),i.memoizedState=null):(t!==null&&eu(i,null),Bf(),Ls());return $t(t,i,h,a),i.child}function gl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Xy(t,i,a,l,h){var d=Vf();return d=d===null?null:{parent:Nt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&eu(i,null),Bf(),Zg(i),t!==null&&Pa(t,i,l,!0),i.childLanes=h,null}function gu(t,i){return i=_u({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Jy(t,i,a){return $r(i,t.child,null,a),t=gu(i,i.pendingProps),t.flags|=2,Sn(i),i.memoizedState=null,t}function Px(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=gu(i,l),i.lanes=536870912,gl(null,t);if(Ff(i),(t=lt)?(t=c0(t,qn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Gt=i,lt=null)):t=null,t===null)throw Os(i);return i.lanes=536870912,null}return gu(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Ff(i),h)if(i.flags&256)i.flags&=-257,i=Jy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Ct||Pa(t,i,a,!1),h=(a&t.childLanes)!==0,Ct||h){if(l=at,l!==null&&(v=Po(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Lr(t,v),gn(l,t,v),ud;Ru(),i=Jy(t,i,a)}else t=d.treeContext,lt=Hn(v.nextSibling),Gt=i,Be=!0,Ds=null,qn=!1,t!==null&&Pg(i,t),i=gu(i,l),i.flags|=4096;return i}return t=Ji(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function hd(t,i,a,l,h){return Fr(i),a=Gf(t,i,a,l,void 0,h),l=Kf(),t!==null&&!Ct?($f(t,i,h),is(t,i,h)):(Be&&l&&Sf(i),i.flags|=1,$t(t,i,a,h),i.child)}function Wy(t,i,a,l,h,d){return Fr(i),i.updateQueue=null,a=ty(i,l,a,h),ey(t),l=Kf(),t!==null&&!Ct?($f(t,i,d),is(t,i,d)):(Be&&l&&Sf(i),i.flags|=1,$t(t,i,a,d),i.child)}function Zy(t,i,a,l,h){if(Fr(i),i.stateNode===null){var d=Oa,v=a.contextType;typeof v=="object"&&v!==null&&(d=Kt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=ld,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Pf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Kt(v):Oa,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(od(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&ld.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,C=Yr(a,E);d.props=C;var L=d.context,K=a.contextType;v=Oa,typeof K=="object"&&K!==null&&(v=Kt(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Ly(i,d,l,v),Vs=!1;var z=i.memoizedState;d.state=z,hl(i,l,d,h),ul(),L=i.memoizedState,E||z!==L||Vs?(typeof Y=="function"&&(od(i,a,Y,l),L=i.memoizedState),(C=Vs||Uy(i,a,C,l,z,L,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Uf(t,i),v=i.memoizedProps,K=Yr(a,v),d.props=K,Y=i.pendingProps,z=d.context,L=a.contextType,C=Oa,typeof L=="object"&&L!==null&&(C=Kt(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||z!==C)&&Ly(i,d,l,C),Vs=!1,z=i.memoizedState,d.state=z,hl(i,l,d,h),ul();var H=i.memoizedState;v!==Y||z!==H||Vs||t!==null&&t.dependencies!==null&&Wc(t.dependencies)?(typeof E=="function"&&(od(i,a,E,l),H=i.memoizedState),(K=Vs||Uy(i,a,K,l,z,H,C)||t!==null&&t.dependencies!==null&&Wc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&z===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$r(i,t.child,null,h),i.child=$r(i,null,a,h)):$t(t,i,a,h),i.memoizedState=d.state,t=i.child):t=is(t,i,h),t}function e_(t,i,a,l){return Br(),i.flags|=256,$t(t,i,a,l),i.child}var fd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dd(t){return{baseLanes:t,cachePool:Fg()}}function md(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Nn),t}function t_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(bt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Us(i):Ls(),(t=lt)?(t=c0(t,qn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:ks!==null?{id:Mi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},a=Mg(t),a.return=i,i.child=a,Gt=i,lt=null)):t=null,t===null)throw Os(i);return Xd(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(Ls(),h=i.mode,E=_u({mode:"hidden",children:E},h),l=zr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,gl(null,l)):(Us(i),pd(i,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Us(i),i.flags&=-257,i=gd(t,i,a)):i.memoizedState!==null?(Ls(),i.child=t.child,i.flags|=128,i=null):(Ls(),E=l.fallback,h=i.mode,l=_u({mode:"visible",children:l.children},h),E=zr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,$r(i,t.child,null,a),l=i.child,l.memoizedState=dd(a),l.childLanes=md(t,v,a),i.memoizedState=fd,i=gl(null,l));else if(Us(i),Xd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(r(419)),l.stack="",l.digest=v,sl({value:l,source:null,stack:null}),i=gd(t,i,a)}else if(Ct||Pa(t,i,a,!1),v=(a&t.childLanes)!==0,Ct||v){if(v=at,v!==null&&(l=Po(v,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,Lr(t,l),gn(v,t,l),ud;Yd(E)||Ru(),i=gd(t,i,a)}else Yd(E)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,lt=Hn(E.nextSibling),Gt=i,Be=!0,Ds=null,qn=!1,t!==null&&Pg(i,t),i=pd(i,l.children),i.flags|=4096);return i}return h?(Ls(),E=l.fallback,h=i.mode,C=t.child,L=C.sibling,l=Ji(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Ji(L,E):(E=zr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,gl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=dd(a):(h=E.cachePool,h!==null?(C=Nt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Fg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=md(t,v,a),i.memoizedState=fd,gl(t.child,l)):(Us(i),a=t.child,t=a.sibling,a=Ji(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function pd(t,i){return i=_u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _u(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function gd(t,i,a){return $r(i,t.child,null,a),t=pd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function n_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),kf(t.return,i,a)}function yd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function i_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=bt.current,E=(v&2)!==0;if(E?(v=v&1|2,i.flags|=128):v&=1,re(bt,v),$t(t,i,l,a),l=Be?il:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,a,i);else if(t.tag===19)n_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),yd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&au(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}yd(i,!0,a,null,d,l);break;case"together":yd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function is(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qs|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Pa(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Ji(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ji(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function _d(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wc(t)))}function Ux(t,i,a){switch(i.tag){case 3:dt(i,i.stateNode.containerInfo),Ms(i,Nt,t.memoizedState.cache),Br();break;case 27:case 5:Dn(i);break;case 4:dt(i,i.stateNode.containerInfo);break;case 10:Ms(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Ff(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Us(i),i.flags|=128,null):(a&i.child.childLanes)!==0?t_(t,i,a):(Us(i),t=is(t,i,a),t!==null?t.sibling:null);Us(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Pa(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return i_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),re(bt,bt.current),l)break;return null;case 22:return i.lanes=0,Yy(t,i,a,i.pendingProps);case 24:Ms(i,Nt,t.memoizedState.cache)}return is(t,i,a)}function s_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Ct=!0;else{if(!_d(t,a)&&(i.flags&128)===0)return Ct=!1,Ux(t,i,a);Ct=(t.flags&131072)!==0}else Ct=!1,Be&&(i.flags&1048576)!==0&&jg(i,il,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Gr(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=Yr(t,l),i.tag=1,i=Zy(null,i,t,l,a)):(i.tag=0,i=hd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===q){i.tag=11,i=Ky(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=$y(null,i,t,l,a);break e}}throw i=Ge(t)||t,Error(r(306,i,""))}}return i;case 0:return hd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Yr(l,i.pendingProps),Zy(t,i,l,h,a);case 3:e:{if(dt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Uf(t,i),hl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Ms(i,Nt,l),l!==d.cache&&Df(i,[Nt],a,!0),ul(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=e_(t,i,l,a);break e}else if(l!==h){h=Ln(Error(r(424)),i),sl(h),i=e_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(lt=Hn(t.firstChild),Gt=i,Be=!0,Ds=null,qn=!0,a=Yg(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Br(),l===h){i=is(t,i,a);break e}$t(t,i,l,a)}i=i.child}return i;case 26:return yu(t,i),t===null?(a=p0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Mu(Ae.current).createElement(a),l[At]=i,l[Lt]=t,Qt(l,a,t),St(l),i.stateNode=l):i.memoizedState=p0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Dn(i),t===null&&Be&&(l=i.stateNode=f0(i.type,i.pendingProps,Ae.current),Gt=i,qn=!0,h=lt,$s(i.type)?(Jd=h,lt=Hn(l.firstChild)):lt=h),$t(t,i,i.pendingProps.children,a),yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=lt)&&(l=mw(l,i.type,i.pendingProps,qn),l!==null?(i.stateNode=l,Gt=i,lt=Hn(l.firstChild),qn=!1,h=!0):h=!1),h||Os(i)),Dn(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Kd(h,d)?l=null:v!==null&&Kd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Gf(t,i,Ix,null,null,a),kl._currentValue=h),yu(t,i),$t(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=lt)&&(a=pw(a,i.pendingProps,qn),a!==null?(i.stateNode=a,Gt=i,lt=null,t=!0):t=!1),t||Os(i)),null;case 13:return t_(t,i,a);case 4:return dt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$r(i,null,l,a):$t(t,i,l,a),i.child;case 11:return Ky(t,i,i.type,i.pendingProps,a);case 7:return $t(t,i,i.pendingProps,a),i.child;case 8:return $t(t,i,i.pendingProps.children,a),i.child;case 12:return $t(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Ms(i,i.type,l.value),$t(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Fr(i),h=Kt(h),l=l(h),i.flags|=1,$t(t,i,l,a),i.child;case 14:return $y(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return i_(t,i,a);case 31:return Px(t,i,a);case 22:return Yy(t,i,a,i.pendingProps);case 24:return Fr(i),l=Kt(Nt),t===null?(h=Vf(),h===null&&(h=at,d=Of(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Pf(i),Ms(i,Nt,h)):((t.lanes&a)!==0&&(Uf(t,i),hl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Ms(i,Nt,l)):(l=d.cache,Ms(i,Nt,l),l!==h.cache&&Df(i,[Nt],a,!0))),$t(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ss(t){t.flags|=4}function vd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(k_())t.flags|=8192;else throw Kr=nu,jf}else t.flags&=-16777217}function r_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!b0(i))if(k_())t.flags|=8192;else throw Kr=nu,jf}function vu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ac():536870912,t.lanes|=i,Ya|=i)}function yl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Lx(t,i,a){var l=i.pendingProps;switch(Rf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(i),null;case 1:return ct(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),es(Nt),tt(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ja(i)?ss(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,If())),ct(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(ss(i),d!==null?(ct(i),r_(i,d)):(ct(i),vd(i,h,null,l,a))):d?d!==t.memoizedState?(ss(i),ct(i),r_(i,d)):(ct(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&ss(i),ct(i),vd(i,h,t,l,a)),null;case 27:if(_s(i),a=Ae.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ss(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ct(i),null}t=ae.current,ja(i)?Ug(i):(t=f0(h,l,a),i.stateNode=t,ss(i))}return ct(i),null;case 5:if(_s(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&ss(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ct(i),null}if(d=ae.current,ja(i))Ug(i);else{var v=Mu(Ae.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[At]=i,d[Lt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&ss(i)}}return ct(i),vd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&ss(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=Ae.current,ja(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||t0(t.nodeValue,a)),t||Os(i,!0)}else t=Mu(t).createTextNode(l),t[At]=i,i.stateNode=t}return ct(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=ja(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[At]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),t=!1}else a=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(Sn(i),i):(Sn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ct(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ja(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[At]=i}else Br(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ct(i),h=!1}else h=If(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Sn(i),i):(Sn(i),null)}return Sn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vu(i,i.updateQueue),ct(i),null);case 4:return tt(),t===null&&Bd(i.stateNode.containerInfo),ct(i),null;case 10:return es(i.type),ct(i),null;case 19:if(Q(bt),l=i.memoizedState,l===null)return ct(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)yl(l,!1);else{if(yt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=au(t),d!==null){for(i.flags|=128,yl(l,!1),t=d.updateQueue,i.updateQueue=t,vu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Og(a,t),a=a.sibling;return re(bt,bt.current&1|2),Be&&Wi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>wu&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304)}else{if(!h)if(t=au(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vu(i,t),yl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return ct(i),null}else 2*sn()-l.renderingStartTime>wu&&a!==536870912&&(i.flags|=128,h=!0,yl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=bt.current,re(bt,h?a&1|2:a&1),Be&&Wi(i,l.treeForkCount),t):(ct(i),null);case 22:case 23:return Sn(i),qf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ct(i),i.subtreeFlags&6&&(i.flags|=8192)):ct(i),a=i.updateQueue,a!==null&&vu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&Q(Hr),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),es(Nt),ct(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function zx(t,i){switch(Rf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return es(Nt),tt(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _s(i),null;case 31:if(i.memoizedState!==null){if(Sn(i),i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(Sn(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Br()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return Q(bt),null;case 4:return tt(),null;case 10:return es(i.type),null;case 22:case 23:return Sn(i),qf(),t!==null&&Q(Hr),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return es(Nt),null;case 25:return null;default:return null}}function a_(t,i){switch(Rf(i),i.tag){case 3:es(Nt),tt();break;case 26:case 27:case 5:_s(i);break;case 4:tt();break;case 31:i.memoizedState!==null&&Sn(i);break;case 13:Sn(i);break;case 19:Q(bt);break;case 10:es(i.type);break;case 22:case 23:Sn(i),qf(),t!==null&&Q(Hr);break;case 24:es(Nt)}}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){et(i,i.return,E)}}function zs(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var C=a,L=E;try{L()}catch(K){et(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){et(i,i.return,K)}}function o_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Jg(i,a)}catch(l){et(t,t.return,l)}}}function l_(t,i,a){a.props=Yr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function vl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function ji(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function c_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function bd(t,i,a){try{var l=t.stateNode;lw(l,t.type,a,i),l[Lt]=i}catch(h){et(t,t.return,h)}}function u_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$s(t.type)||t.tag===4}function Ed(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||u_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$s(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Td(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ni));else if(l!==4&&(l===27&&$s(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Td(t,i,a),t=t.sibling;t!==null;)Td(t,i,a),t=t.sibling}function bu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&$s(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bu(t,i,a),t=t.sibling;t!==null;)bu(t,i,a),t=t.sibling}function h_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[At]=t,i[Lt]=a}catch(d){et(t,t.return,d)}}var rs=!1,kt=!1,xd=!1,f_=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function Bx(t,i){if(t=t.containerInfo,Hd=Bu,t=wg(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,C=-1,L=0,K=0,Y=t,z=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(C=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(H=Y.firstChild)!==null;)z=Y,Y=H;for(;;){if(Y===t)break t;if(z===a&&++L===h&&(E=v),z===d&&++K===l&&(C=v),(H=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Bu=!1,Bt=i;Bt!==null;)if(i=Bt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Bt=t;else for(;Bt!==null;){switch(i=Bt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ue=Yr(a.type,h);t=l.getSnapshotBeforeUpdate(ue,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){et(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,Bt=t;break}Bt=i.return}}function d_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:os(t,a),l&4&&_l(5,a);break;case 1:if(os(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Yr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&o_(a),l&512&&vl(a,a.return);break;case 3:if(os(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Jg(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&h_(a);case 26:case 5:os(t,a),i===null&&l&4&&c_(a),l&512&&vl(a,a.return);break;case 12:os(t,a);break;case 31:os(t,a),l&4&&g_(t,a);break;case 13:os(t,a),l&4&&y_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Xx.bind(null,a),gw(t,a))));break;case 22:if(l=a.memoizedState!==null||rs,!l){i=i!==null&&i.memoizedState!==null||kt,h=rs;var d=kt;rs=l,(kt=i)&&!d?ls(t,a,(a.subtreeFlags&8772)!==0):os(t,a),rs=h,kt=d}break;case 30:break;default:os(t,a)}}function m_(t){var i=t.alternate;i!==null&&(t.alternate=null,m_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&va(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ft=null,fn=!1;function as(t,i,a){for(a=a.child;a!==null;)p_(t,i,a),a=a.sibling}function p_(t,i,a){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(Wn,a)}catch{}switch(a.tag){case 26:kt||ji(a,i),as(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:kt||ji(a,i);var l=ft,h=fn;$s(a.type)&&(ft=a.stateNode,fn=!1),as(t,i,a),Nl(a.stateNode),ft=l,fn=h;break;case 5:kt||ji(a,i);case 6:if(l=ft,h=fn,ft=null,as(t,i,a),ft=l,fn=h,ft!==null)if(fn)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{ft.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:ft!==null&&(fn?(t=ft,o0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),io(t)):o0(ft,a.stateNode));break;case 4:l=ft,h=fn,ft=a.stateNode.containerInfo,fn=!0,as(t,i,a),ft=l,fn=h;break;case 0:case 11:case 14:case 15:zs(2,a,i),kt||zs(4,a,i),as(t,i,a);break;case 1:kt||(ji(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&l_(a,i,l)),as(t,i,a);break;case 21:as(t,i,a);break;case 22:kt=(l=kt)||a.memoizedState!==null,as(t,i,a),kt=l;break;default:as(t,i,a)}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{io(t)}catch(a){et(i,i.return,a)}}}function y_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{io(t)}catch(a){et(i,i.return,a)}}function qx(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new f_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new f_),i;default:throw Error(r(435,t.tag))}}function Eu(t,i){var a=qx(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Jx.bind(null,t,l);l.then(h,h)}})}function dn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if($s(E.type)){ft=E.stateNode,fn=!1;break e}break;case 5:ft=E.stateNode,fn=!1;break e;case 3:case 4:ft=E.stateNode.containerInfo,fn=!0;break e}E=E.return}if(ft===null)throw Error(r(160));p_(d,v,h),ft=null,fn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)__(i,t),i=i.sibling}var li=null;function __(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:dn(i,t),mn(t),l&4&&(zs(3,t,t.return),_l(3,t),zs(5,t,t.return));break;case 1:dn(i,t),mn(t),l&512&&(kt||a===null||ji(a,a.return)),l&64&&rs&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(dn(i,t),mn(t),l&512&&(kt||a===null||ji(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ti]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[At]=t,St(d),l=d;break e;case"link":var v=_0("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=_0("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[At]=t,St(d),l=d}t.stateNode=l}else v0(h,t.type,t.stateNode);else t.stateNode=y0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?v0(h,t.type,t.stateNode):y0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&bd(t,t.memoizedProps,a.memoizedProps)}break;case 27:dn(i,t),mn(t),l&512&&(kt||a===null||ji(a,a.return)),a!==null&&l&4&&bd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(dn(i,t),mn(t),l&512&&(kt||a===null||ji(a,a.return)),t.flags&32){h=t.stateNode;try{hn(h,"")}catch(ue){et(t,t.return,ue)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,bd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(dn(i,t),mn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ue){et(t,t.return,ue)}}break;case 3:if(Pu=null,h=li,li=Vu(i.containerInfo),dn(i,t),li=h,mn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{io(i.containerInfo)}catch(ue){et(t,t.return,ue)}xd&&(xd=!1,v_(t));break;case 4:l=li,li=Vu(t.stateNode.containerInfo),dn(i,t),mn(t),li=l;break;case 12:dn(i,t),mn(t);break;case 31:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 13:dn(i,t),mn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(xu=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,L=rs,K=kt;if(rs=L||h,kt=K||C,dn(i,t),kt=K,rs=L,mn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||rs||kt||Xr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){et(C,C.return,ue)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ue){et(C,C.return,ue)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?l0(H,!0):l0(C.stateNode,!1)}catch(ue){et(C,C.return,ue)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eu(t,a))));break;case 19:dn(i,t),mn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 30:break;case 21:break;default:dn(i,t),mn(t)}}function mn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(u_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Ed(t);bu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(hn(v,""),a.flags&=-33);var E=Ed(t);bu(t,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,L=Ed(t);Td(t,L,C);break;default:throw Error(r(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function v_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;v_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function os(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)d_(t,i.alternate,i),i=i.sibling}function Xr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zs(4,i,i.return),Xr(i);break;case 1:ji(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&l_(i,i.return,a),Xr(i);break;case 27:Nl(i.stateNode);case 26:case 5:ji(i,i.return),Xr(i);break;case 22:i.memoizedState===null&&Xr(i);break;case 30:Xr(i);break;default:Xr(i)}t=t.sibling}}function ls(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:ls(h,d,a),_l(4,d);break;case 1:if(ls(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){et(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Xg(C[h],E)}catch(L){et(l,l.return,L)}}a&&v&64&&o_(d),vl(d,d.return);break;case 27:h_(d);case 26:case 5:ls(h,d,a),a&&l===null&&v&4&&c_(d),vl(d,d.return);break;case 12:ls(h,d,a);break;case 31:ls(h,d,a),a&&v&4&&g_(h,d);break;case 13:ls(h,d,a),a&&v&4&&y_(h,d);break;case 22:d.memoizedState===null&&ls(h,d,a),vl(d,d.return);break;case 30:break;default:ls(h,d,a)}i=i.sibling}}function wd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&rl(a))}function Ad(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t))}function ci(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(t,i,a,l),i=i.sibling}function b_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ci(t,i,a,l),h&2048&&_l(9,i);break;case 1:ci(t,i,a,l);break;case 3:ci(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&rl(t)));break;case 12:if(h&2048){ci(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){et(i,i.return,C)}}else ci(t,i,a,l);break;case 31:ci(t,i,a,l);break;case 13:ci(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ci(t,i,a,l):bl(t,i):d._visibility&2?ci(t,i,a,l):(d._visibility|=2,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&wd(v,i);break;case 24:ci(t,i,a,l),h&2048&&Ad(i.alternate,i);break;default:ci(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,E=a,C=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ka(d,v,E,C,h),_l(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ka(d,v,E,C,h):bl(d,v):(K._visibility|=2,Ka(d,v,E,C,h)),h&&L&2048&&wd(v.alternate,v);break;case 24:Ka(d,v,E,C,h),h&&L&2048&&Ad(v.alternate,v);break;default:Ka(d,v,E,C,h)}i=i.sibling}}function bl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:bl(a,l),h&2048&&wd(l.alternate,l);break;case 24:bl(a,l),h&2048&&Ad(l.alternate,l);break;default:bl(a,l)}i=i.sibling}}var El=8192;function $a(t,i,a){if(t.subtreeFlags&El)for(t=t.child;t!==null;)E_(t,i,a),t=t.sibling}function E_(t,i,a){switch(t.tag){case 26:$a(t,i,a),t.flags&El&&t.memoizedState!==null&&Nw(a,li,t.memoizedState,t.memoizedProps);break;case 5:$a(t,i,a);break;case 3:case 4:var l=li;li=Vu(t.stateNode.containerInfo),$a(t,i,a),li=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=El,El=16777216,$a(t,i,a),El=l):$a(t,i,a));break;default:$a(t,i,a)}}function T_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Tl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,w_(l,t)}T_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 0:case 11:case 15:Tl(t),t.flags&2048&&zs(9,t,t.return);break;case 3:Tl(t);break;case 12:Tl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tu(t)):Tl(t);break;default:Tl(t)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Bt=l,w_(l,t)}T_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zs(8,i,i.return),Tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(i));break;default:Tu(i)}t=t.sibling}}function w_(t,i){for(;Bt!==null;){var a=Bt;switch(a.tag){case 0:case 11:case 15:zs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:rl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Bt=l;else e:for(a=t;Bt!==null;){l=Bt;var h=l.sibling,d=l.return;if(m_(l),l===a){Bt=null;break e}if(h!==null){h.return=d,Bt=h;break e}Bt=d}}}var Fx={getCacheForType:function(t){var i=Kt(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Kt(Nt).controller.signal}},Hx=typeof WeakMap=="function"?WeakMap:Map,Xe=0,at=null,Me=null,je=0,Ze=0,Rn=null,Bs=!1,Qa=!1,Sd=!1,cs=0,yt=0,qs=0,Jr=0,Rd=0,Nn=0,Ya=0,xl=null,pn=null,Nd=!1,xu=0,A_=0,wu=1/0,Au=null,Fs=null,Pt=0,Hs=null,Xa=null,us=0,Id=0,Cd=null,S_=null,wl=0,kd=null;function In(){return(Xe&2)!==0&&je!==0?je&-je:B.T!==null?Pd():Sc()}function R_(){if(Nn===0)if((je&536870912)===0||Be){var t=wr;wr<<=1,(wr&3932160)===0&&(wr=262144),Nn=t}else Nn=536870912;return t=An.current,t!==null&&(t.flags|=32),Nn}function gn(t,i,a){(t===at&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Gs(t,je,Nn,!1)),Ar(t,a),((Xe&2)===0||t!==at)&&(t===at&&((Xe&2)===0&&(Jr|=a),yt===4&&Gs(t,je,Nn,!1)),Pi(t))}function N_(t,i,a){if((Xe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Zn(t,i),h=l?$x(t,i):Od(t,i,!0),d=l;do{if(h===0){Qa&&!l&&Gs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Gx(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=xl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ja(E,v).flags|=256),v=Od(E,v,!1),v!==2){if(Sd&&!C){E.errorRecoveryDisabledLanes|=d,Jr|=d,h=4;break e}d=pn,pn=h,d!==null&&(pn===null?pn=d:pn.push.apply(pn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),Gs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Gs(l,i,Nn,!Bs);break e;case 2:pn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=xu+300-sn(),10<h)){if(Gs(l,i,Nn,!Bs),vi(l,0,!0)!==0)break e;us=i,l.timeoutHandle=r0(I_.bind(null,l,a,pn,Au,Nd,i,Nn,Jr,Ya,Bs,d,"Throttled",-0,0),h);break e}I_(l,a,pn,Au,Nd,i,Nn,Jr,Ya,Bs,d,null,-0,0)}}break}while(!0);Pi(t)}function I_(t,i,a,l,h,d,v,E,C,L,K,Y,z,H){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},E_(i,d,Y);var ue=(d&62914560)===d?xu-sn():(d&4194048)===d?A_-sn():0;if(ue=Iw(Y,ue),ue!==null){us=d,t.cancelPendingCommit=ue(P_.bind(null,t,i,d,a,l,h,v,E,C,K,Y,null,z,H)),Gs(t,d,v,!L);return}}P_(t,i,d,a,l,h,v,E,C)}function Gx(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!xn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Gs(t,i,a,l){i&=~Rd,i&=~Jr,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-_t(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Sr(t,a,i)}function Su(){return(Xe&6)===0?(Al(0),!1):!0}function Dd(){if(Me!==null){if(Ze===0)var t=Me.return;else t=Me,Zi=qr=null,Qf(t),Ba=null,ol=0,t=Me;for(;t!==null;)a_(t.alternate,t),t=t.return;Me=null}}function Ja(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,hw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),us=0,Dd(),at=t,Me=a=Ji(t.current,null),je=i,Ze=0,Rn=null,Bs=!1,Qa=Zn(t,i),Sd=!1,Ya=Nn=Rd=Jr=qs=yt=0,pn=xl=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-_t(l),d=1<<h;i|=t[h],l&=~d}return cs=i,$c(),a}function C_(t,i){Ie=null,B.H=pl,i===za||i===tu?(i=Kg(),Ze=3):i===jf?(i=Kg(),Ze=4):Ze=i===ud?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Rn=i,Me===null&&(yt=1,pu(t,Ln(i,t.current)))}function k_(){var t=An.current;return t===null?!0:(je&4194048)===je?Fn===null:(je&62914560)===je||(je&536870912)!==0?t===Fn:!1}function D_(){var t=B.H;return B.H=pl,t===null?pl:t}function O_(){var t=B.A;return B.A=Fx,t}function Ru(){yt=4,Bs||(je&4194048)!==je&&An.current!==null||(Qa=!0),(qs&134217727)===0&&(Jr&134217727)===0||at===null||Gs(at,je,Nn,!1)}function Od(t,i,a){var l=Xe;Xe|=2;var h=D_(),d=O_();(at!==t||je!==i)&&(Au=null,Ja(t,i)),i=!1;var v=yt;e:do try{if(Ze!==0&&Me!==null){var E=Me,C=Rn;switch(Ze){case 8:Dd(),v=6;break e;case 3:case 2:case 9:case 6:An.current===null&&(i=!0);var L=Ze;if(Ze=0,Rn=null,Wa(t,E,C,L),a&&Qa){v=0;break e}break;default:L=Ze,Ze=0,Rn=null,Wa(t,E,C,L)}}Kx(),v=yt;break}catch(K){C_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Zi=qr=null,Xe=l,B.H=h,B.A=d,Me===null&&(at=null,je=0,$c()),v}function Kx(){for(;Me!==null;)M_(Me)}function $x(t,i){var a=Xe;Xe|=2;var l=D_(),h=O_();at!==t||je!==i?(Au=null,wu=sn()+500,Ja(t,i)):Qa=Zn(t,i);e:do try{if(Ze!==0&&Me!==null){i=Me;var d=Rn;t:switch(Ze){case 1:Ze=0,Rn=null,Wa(t,i,d,1);break;case 2:case 9:if(Hg(d)){Ze=0,Rn=null,V_(i);break}i=function(){Ze!==2&&Ze!==9||at!==t||(Ze=7),Pi(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Hg(d)?(Ze=0,Rn=null,V_(i)):(Ze=0,Rn=null,Wa(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var E=Me;if(v?b0(v):E.stateNode.complete){Ze=0,Rn=null;var C=E.sibling;if(C!==null)Me=C;else{var L=E.return;L!==null?(Me=L,Nu(L)):Me=null}break t}}Ze=0,Rn=null,Wa(t,i,d,5);break;case 6:Ze=0,Rn=null,Wa(t,i,d,6);break;case 8:Dd(),yt=6;break e;default:throw Error(r(462))}}Qx();break}catch(K){C_(t,K)}while(!0);return Zi=qr=null,B.H=l,B.A=h,Xe=a,Me!==null?0:(at=null,je=0,$c(),yt)}function Qx(){for(;Me!==null&&!cf();)M_(Me)}function M_(t){var i=s_(t.alternate,t,cs);t.memoizedProps=t.pendingProps,i===null?Nu(t):Me=i}function V_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Wy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Wy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Qf(i);default:a_(a,i),i=Me=Og(i,cs),i=s_(a,i,cs)}t.memoizedProps=t.pendingProps,i===null?Nu(t):Me=i}function Wa(t,i,a,l){Zi=qr=null,Qf(i),Ba=null,ol=0;var h=i.return;try{if(jx(t,h,i,a,je)){yt=1,pu(t,Ln(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;yt=1,pu(t,Ln(a,t.current)),Me=null;return}i.flags&32768?(Be||l===1?t=!0:Qa||(je&536870912)!==0?t=!1:(Bs=t=!0,(l===2||l===9||l===3||l===6)&&(l=An.current,l!==null&&l.tag===13&&(l.flags|=16384))),j_(i,t)):Nu(i)}function Nu(t){var i=t;do{if((i.flags&32768)!==0){j_(i,Bs);return}t=i.return;var a=Lx(i.alternate,i,cs);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);yt===0&&(yt=5)}function j_(t,i){do{var a=zx(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);yt=6,Me=null}function P_(t,i,a,l,h,d,v,E,C){t.cancelPendingCommit=null;do Iu();while(Pt!==0);if((Xe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Ef,ff(t,a,d,v,E,C),t===at&&(Me=at=null,je=0),Xa=i,Hs=t,us=a,Id=d,Cd=h,S_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Wx(Es,function(){return q_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null,h=Z.p,Z.p=2,v=Xe,Xe|=4;try{Bx(t,i,a)}finally{Xe=v,Z.p=h,B.T=l}}Pt=1,U_(),L_(),z_()}}function U_(){if(Pt===1){Pt=0;var t=Hs,i=Xa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=B.T,B.T=null;var l=Z.p;Z.p=2;var h=Xe;Xe|=4;try{__(i,t);var d=Gd,v=wg(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&xg(E.ownerDocument.documentElement,E)){if(C!==null&&gf(E)){var L=C.start,K=C.end;if(K===void 0&&(K=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(K,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var H=z.getSelection(),ue=E.textContent.length,ve=Math.min(C.start,ue),rt=C.end===void 0?ve:Math.min(C.end,ue);!H.extend&&ve>rt&&(v=rt,rt=ve,ve=v);var j=Tg(E,ve),D=Tg(E,rt);if(j&&D&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),ve>rt?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var $=Y[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Bu=!!Hd,Gd=Hd=null}finally{Xe=h,Z.p=l,B.T=a}}t.current=i,Pt=2}}function L_(){if(Pt===2){Pt=0;var t=Hs,i=Xa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=B.T,B.T=null;var l=Z.p;Z.p=2;var h=Xe;Xe|=4;try{d_(t,i.alternate,i)}finally{Xe=h,Z.p=l,B.T=a}}Pt=3}}function z_(){if(Pt===4||Pt===3){Pt=0,vc();var t=Hs,i=Xa,a=us,l=S_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Pt=5:(Pt=0,Xa=Hs=null,B_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Fs=null),$i(a),i=i.stateNode,Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(Wn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=B.T,h=Z.p,Z.p=2,B.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{B.T=i,Z.p=h}}(us&3)!==0&&Iu(),Pi(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===kd?wl++:(wl=0,kd=t):wl=0,Al(0)}}function B_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,rl(i)))}function Iu(){return U_(),L_(),z_(),q_()}function q_(){if(Pt!==5)return!1;var t=Hs,i=Id;Id=0;var a=$i(us),l=B.T,h=Z.p;try{Z.p=32>a?32:a,B.T=null,a=Cd,Cd=null;var d=Hs,v=us;if(Pt=0,Xa=Hs=null,us=0,(Xe&6)!==0)throw Error(r(331));var E=Xe;if(Xe|=4,x_(d.current),b_(d,d.current,v,a),Xe=E,Al(0,!1),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(Wn,d)}catch{}return!0}finally{Z.p=h,B.T=l,B_(t,i)}}function F_(t,i,a){i=Ln(a,i),i=cd(t.stateNode,i,2),t=Ps(t,i,2),t!==null&&(Ar(t,2),Pi(t))}function et(t,i,a){if(t.tag===3)F_(t,t,a);else for(;i!==null;){if(i.tag===3){F_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){t=Ln(a,t),a=Hy(2),l=Ps(i,a,2),l!==null&&(Gy(a,l,i,t),Ar(l,2),Pi(l));break}}i=i.return}}function Md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Hx;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=Yx.bind(null,t,i,a),i.then(t,t))}function Yx(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,at===t&&(je&a)===a&&(yt===4||yt===3&&(je&62914560)===je&&300>sn()-xu?(Xe&2)===0&&Ja(t,0):Rd|=a,Ya===je&&(Ya=0)),Pi(t)}function H_(t,i){i===0&&(i=Ac()),t=Lr(t,i),t!==null&&(Ar(t,i),Pi(t))}function Xx(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),H_(t,a)}function Jx(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),H_(t,a)}function Wx(t,i){return jt(t,i)}var Cu=null,Za=null,Vd=!1,ku=!1,jd=!1,Ks=0;function Pi(t){t!==Za&&t.next===null&&(Za===null?Cu=Za=t:Za=Za.next=t),ku=!0,Vd||(Vd=!0,ew())}function Al(t,i){if(!jd&&ku){jd=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-_t(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=je,d=vi(l,l===at?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Zn(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);jd=!1}}function Zx(){G_()}function G_(){ku=Vd=!1;var t=0;Ks!==0&&uw()&&(t=Ks);for(var i=sn(),a=null,l=Cu;l!==null;){var h=l.next,d=K_(l,i);d===0?(l.next=null,a===null?Cu=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(ku=!0)),l=h}Pt!==0&&Pt!==5||Al(t),Ks!==0&&(Ks=0)}function K_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-_t(d),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&l)!==0)&&(h[v]=hf(E,i)):C<=i&&(t.expiredLanes|=E),d&=~E}if(i=at,a=je,a=vi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&bs(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Zn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&bs(l),$i(a)){case 2:case 8:a=Vo;break;case 32:a=Es;break;case 268435456:a=bc;break;default:a=Es}return l=$_.bind(null,t),a=jt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&bs(l),t.callbackPriority=2,t.callbackNode=null,2}function $_(t,i){if(Pt!==0&&Pt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Iu()&&t.callbackNode!==a)return null;var l=je;return l=vi(t,t===at?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(N_(t,l,i),K_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?$_.bind(null,t):null)}function Q_(t,i){if(Iu())return null;N_(t,i,!0)}function ew(){fw(function(){(Xe&6)!==0?jt(Mo,Zx):G_()})}function Pd(){if(Ks===0){var t=Ua;t===0&&(t=yi,yi<<=1,(yi&261888)===0&&(yi=256)),Ks=t}return Ks}function Y_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:xa(""+t)}function X_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function tw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Y_((h[Lt]||null).action),v=l.submitter;v&&(i=(i=v[Lt]||null)?Y_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Ci("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var C=v?X_(h,v):new FormData(h);id(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=v?X_(h,v):new FormData(h),id(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ud=0;Ud<bf.length;Ud++){var Ld=bf[Ud],nw=Ld.toLowerCase(),iw=Ld[0].toUpperCase()+Ld.slice(1);oi(nw,"on"+iw)}oi(Rg,"onAnimationEnd"),oi(Ng,"onAnimationIteration"),oi(Ig,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(vx,"onTransitionRun"),oi(bx,"onTransitionStart"),oi(Ex,"onTransitionCancel"),oi(Cg,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ai("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sl));function J_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(K){Kc(K)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,L=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(K){Kc(K)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[_a];a===void 0&&(a=i[_a]=new Set);var l=t+"__bubble";a.has(l)||(W_(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),W_(a,t,l,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Du]){t[Du]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(sw.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,zd("selectionchange",!1,i))}}function W_(t,i,a,l){switch(R0(i)){case 2:var h=Dw;break;case 8:h=Ow;break;default:h=nm}a=h.bind(null,i,a,t),h=void 0,!kr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function qd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=xi(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}E=E.parentNode}}l=l.return}Rs(function(){var L=d,K=Vn(a),Y=[];e:{var z=kg.get(t);if(z!==void 0){var H=Ci,ue=t;switch(t){case"keypress":if(Or(a)===0)break e;case"keydown":case"keyup":H=Fc;break;case"focusin":ue="focus",H=Vr;break;case"focusout":ue="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=g;break;case Rg:case Ng:case Ig:H=jc;break;case Cg:H=x;break;case"scroll":case"scrollend":H=Xo;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Xi;break;case"toggle":case"beforetoggle":H=Ne}var ve=(i&4)!==0,rt=!ve&&(t==="scroll"||t==="scrollend"),j=ve?z!==null?z+"Capture":null:z;ve=[];for(var D=L,U;D!==null;){var $=D;if(U=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||U===null||j===null||($=ii(D,j),$!=null&&ve.push(Rl(D,$,U))),rt)break;D=D.return}0<ve.length&&(z=new H(z,ue,null,a,K),Y.push({event:z,listeners:ve}))}}if((i&7)===0){e:{if(z=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",z&&a!==$o&&(ue=a.relatedTarget||a.fromElement)&&(xi(ue)||ue[Ei]))break e;if((H||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ue=a.relatedTarget||a.toElement,H=L,ue=ue?xi(ue):null,ue!==null&&(rt=c(ue),ve=ue.tag,ue!==rt||ve!==5&&ve!==27&&ve!==6)&&(ue=null)):(H=null,ue=L),H!==ue)){if(ve=Jo,$="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Xi,$="onPointerLeave",j="onPointerEnter",D="pointer"),rt=H==null?z:En(H),U=ue==null?z:En(ue),z=new ve($,D+"leave",H,a,K),z.target=rt,z.relatedTarget=U,$=null,xi(K)===L&&(ve=new ve(j,D+"enter",ue,a,K),ve.target=U,ve.relatedTarget=rt,$=ve),rt=$,H&&ue)t:{for(ve=rw,j=H,D=ue,U=0,$=j;$;$=ve($))U++;$=0;for(var ye=D;ye;ye=ve(ye))$++;for(;0<U-$;)j=ve(j),U--;for(;0<$-U;)D=ve(D),$--;for(;U--;){if(j===D||D!==null&&j===D.alternate){ve=j;break t}j=ve(j),D=ve(D)}ve=null}else ve=null;H!==null&&Z_(Y,z,H,ve,!1),ue!==null&&rt!==null&&Z_(Y,rt,ue,ve,!0)}}e:{if(z=L?En(L):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var $e=gg;else if(mg(z))if(yg)$e=gx;else{$e=mx;var fe=dx}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&Ta(L.elementType)&&($e=gg):$e=px;if($e&&($e=$e(t,L))){pg(Y,$e,a,K);break e}fe&&fe(t,z,L),t==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&Ho(z,"number",z.value)}switch(fe=L?En(L):window,t){case"focusin":(mg(fe)||fe.contentEditable==="true")&&(Ca=fe,yf=L,nl=null);break;case"focusout":nl=yf=Ca=null;break;case"mousedown":_f=!0;break;case"contextmenu":case"mouseup":case"dragend":_f=!1,Ag(Y,a,K);break;case"selectionchange":if(_x)break;case"keydown":case"keyup":Ag(Y,a,K)}var Ce;if(Ye)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ia?jr(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Oi&&a.locale!=="ko"&&(Ia||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ia&&(Ce=Yo()):(Ii=K,Qo="value"in Ii?Ii.value:Ii.textContent,Ia=!0)),fe=Ou(L,Pe),0<fe.length&&(Pe=new Di(Pe,t,null,a,K),Y.push({event:Pe,listeners:fe}),Ce?Pe.data=Ce:(Ce=Na(a),Ce!==null&&(Pe.data=Ce)))),(Ce=Pn?cx(t,a):ux(t,a))&&(Pe=Ou(L,"onBeforeInput"),0<Pe.length&&(fe=new Di("onBeforeInput","beforeinput",null,a,K),Y.push({event:fe,listeners:Pe}),fe.data=Ce)),tw(Y,t,L,a,K)}J_(Y,i)})}function Rl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ou(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(t,a),h!=null&&l.unshift(Rl(t,h,d)),h=ii(t,i),h!=null&&l.push(Rl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function rw(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Z_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=ii(a,d),L!=null&&v.unshift(Rl(a,L,C))):h||(L=ii(a,d),L!=null&&v.push(Rl(a,L,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var aw=/\r\n?/g,ow=/\u0000|\uFFFD/g;function e0(t){return(typeof t=="string"?t:""+t).replace(aw,`
`).replace(ow,"")}function t0(t,i){return i=e0(i),e0(t)===i}function st(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||hn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&hn(t,""+l);break;case"className":Tn(t,"class",l);break;case"tabIndex":Tn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(t,a,l);break;case"style":Ko(t,l,d);break;case"data":if(i!=="object"){Tn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&st(t,i,"name",h.name,h,null),st(t,i,"formEncType",h.formEncType,h,null),st(t,i,"formMethod",h.formMethod,h,null),st(t,i,"formTarget",h.formTarget,h,null)):(st(t,i,"encType",h.encType,h,null),st(t,i,"method",h.method,h,null),st(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=xa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ni);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=xa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),ba(t,"popover",l);break;case"xlinkActuate":Rt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Rt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Rt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Rt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Rt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Rt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Rt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,ba(t,a,l))}}function Fd(t,i,a,l,h,d){switch(a){case"style":Ko(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?hn(t,l):(typeof l=="number"||typeof l=="bigint")&&hn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Lo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ba(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(t,i,d,v,a,null)}}h&&st(t,i,"srcSet",a.srcSet,a,null),l&&st(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=v=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":L=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:st(t,i,l,K,a,null)}}Cc(t,d,E,C,L,v,h,!1);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:st(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?xs(t,!!l,i,!1):a!=null&&xs(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:st(t,i,v,E,a,null)}ws(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:st(t,i,C,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Sl.length;l++)Ve(Sl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:st(t,i,L,l,a,null)}return;default:if(Ta(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Fd(t,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&st(t,i,E,l,a,null))}function lw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,C=null,L=null,K=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||st(t,i,H,null,l,Y)}}for(var z in l){var H=l[z];if(Y=a[z],l.hasOwnProperty(z)&&(H!=null||Y!=null))switch(z){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&st(t,i,z,H,l,Y)}}Ea(t,v,E,C,L,K,d,h);return;case"select":H=v=E=z=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||st(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":z=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==C&&st(t,i,h,d,l,C)}i=E,a=v,l=H,z!=null?xs(t,!!a,z,!1):!!l!=!!a&&(i!=null?xs(t,!!a,i,!0):xs(t,!!a,a?[]:"",!1));return;case"textarea":H=z=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:st(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&st(t,i,v,h,l,d)}kc(t,z,H);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!l.hasOwnProperty(ue))switch(ue){case"selected":t.selected=!1;break;default:st(t,i,ue,null,l,z)}for(C in l)if(z=l[C],H=a[C],l.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null))switch(C){case"selected":t.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:st(t,i,C,z,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)z=a[ve],a.hasOwnProperty(ve)&&z!=null&&!l.hasOwnProperty(ve)&&st(t,i,ve,null,l,z);for(L in l)if(z=l[L],H=a[L],l.hasOwnProperty(L)&&z!==H&&(z!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,i));break;default:st(t,i,L,z,l,H)}return;default:if(Ta(i)){for(var rt in a)z=a[rt],a.hasOwnProperty(rt)&&z!==void 0&&!l.hasOwnProperty(rt)&&Fd(t,i,rt,void 0,l,z);for(K in l)z=l[K],H=a[K],!l.hasOwnProperty(K)||z===H||z===void 0&&H===void 0||Fd(t,i,K,z,l,H);return}}for(var j in a)z=a[j],a.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&st(t,i,j,null,l,z);for(Y in l)z=l[Y],H=a[Y],!l.hasOwnProperty(Y)||z===H||z==null&&H==null||st(t,i,Y,z,l,H)}function n0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function cw(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,E=h.duration;if(d&&E&&n0(v)){for(v=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],L=C.startTime;if(L>E)break;var K=C.transferSize,Y=C.initiatorType;K&&n0(Y)&&(C=C.responseEnd,v+=K*(C<E?1:(E-L)/(C-L)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Hd=null,Gd=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function i0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function s0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Kd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function uw(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var r0=typeof setTimeout=="function"?setTimeout:void 0,hw=typeof clearTimeout=="function"?clearTimeout:void 0,a0=typeof Promise=="function"?Promise:void 0,fw=typeof queueMicrotask=="function"?queueMicrotask:typeof a0<"u"?function(t){return a0.resolve(null).then(t).catch(dw)}:r0;function dw(t){setTimeout(function(){throw t})}function $s(t){return t==="head"}function o0(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),io(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,E=d.nodeName;d[Ti]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);io(i)}function l0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),va(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function mw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ti])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Hn(t.nextSibling),t===null)break}return null}function pw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Hn(t.nextSibling),t===null))return null;return t}function c0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Hn(t.nextSibling),t===null))return null;return t}function Yd(t){return t.data==="$?"||t.data==="$~"}function Xd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function gw(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Hn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Jd=null;function u0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Hn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function h0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function f0(t,i,a){switch(i=Mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);va(t)}var Gn=new Map,d0=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var hs=Z.d;Z.d={f:yw,r:_w,D:vw,C:bw,L:Ew,m:Tw,X:ww,S:xw,M:Aw};function yw(){var t=hs.f(),i=Su();return t||i}function _w(t){var i=Mn(t);i!==null&&i.tag===5&&i.type==="form"?Cy(i):hs.r(t)}var eo=typeof document>"u"?null:document;function m0(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var h=un(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),d0.has(h)||(d0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function vw(t){hs.D(t),m0("dns-prefetch",t,null)}function bw(t,i){hs.C(t,i),m0("preconnect",t,i)}function Ew(t,i,a){hs.L(t,i,a);var l=eo;if(l&&t&&i){var h='link[rel="preload"][as="'+un(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+un(a.imageSizes)+'"]')):h+='[href="'+un(t)+'"]';var d=h;switch(i){case"style":d=to(t);break;case"script":d=no(t)}Gn.has(d)||(t=w({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Gn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(Cl(d))||(i=l.createElement("link"),Qt(i,"link",t),St(i),l.head.appendChild(i)))}}function Tw(t,i){hs.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+un(l)+'"][href="'+un(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!Gn.has(d)&&(t=w({rel:"modulepreload",href:t},i),Gn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Cl(d)))return}l=a.createElement("link"),Qt(l,"link",t),St(l),a.head.appendChild(l)}}}function xw(t,i,a){hs.S(t,i,a);var l=eo;if(l&&t){var h=wi(l).hoistableStyles,d=to(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Il(d)))E.loading=5;else{t=w({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Gn.get(d))&&Wd(t,a);var C=v=l.createElement("link");St(C),Qt(C,"link",t),C._p=new Promise(function(L,K){C.onload=L,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function ww(t,i){hs.X(t,i);var a=eo;if(a&&t){var l=wi(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=w({src:t,async:!0},i),(i=Gn.get(h))&&Zd(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Aw(t,i){hs.M(t,i);var a=eo;if(a&&t){var l=wi(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(Cl(h)),d||(t=w({src:t,async:!0,type:"module"},i),(i=Gn.get(h))&&Zd(t,i),d=a.createElement("script"),St(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function p0(t,i,a,l){var h=(h=Ae.current)?Vu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=wi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=wi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Gn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Gn.set(t,a),d||Sw(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=wi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function to(t){return'href="'+un(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function g0(t){return w({},t,{"data-precedence":t.precedence,precedence:null})}function Sw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),St(i),t.head.appendChild(i))}function no(t){return'[src="'+un(t)+'"]'}function Cl(t){return"script[async]"+t}function y0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+un(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Qt(l,"style",h),ju(l,a.precedence,t),i.instance=l;case"stylesheet":h=to(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=g0(a),(h=Gn.get(h))&&Wd(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Qt(d,"link",l),i.state.loading|=4,ju(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(h=t.querySelector(Cl(d)))?(i.instance=h,St(h),h):(l=a,(h=Gn.get(d))&&(l=w({},a),Zd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ju(l,a.precedence,t));return i.instance}function ju(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pu=null;function _0(t,i,a){if(Pu===null){var l=new Map,h=Pu=new Map;h.set(a,l)}else h=Pu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ti]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function v0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Rw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function b0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Nw(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=to(l.href),d=i.querySelector(Il(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=g0(l),(h=Gn.get(h))&&Wd(l,h),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var em=0;function Iw(t,i){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&em===0&&(em=62500*cw());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>em?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function zu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,i.forEach(Cw,t),Lu=null,Uu.call(t))}function Cw(t,i){if(!(i.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:ge,Provider:null,Consumer:null,_currentValue:de,_currentValue2:de,_threadCount:0};function kw(t,i,a,l,h,d,v,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function E0(t,i,a,l,h,d,v,E,C,L,K,Y){return t=new kw(t,i,a,v,C,L,K,Y,E),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=Of(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Pf(d),t}function T0(t){return t?(t=Oa,t):Oa}function x0(t,i,a,l,h,d){h=T0(h),l.context===null?l.context=h:l.pendingContext=h,l=js(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ps(t,l,i),a!==null&&(gn(a,t,i),cl(a,t,i))}function w0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function tm(t,i){w0(t,i),(t=t.alternate)&&w0(t,i)}function A0(t){if(t.tag===13||t.tag===31){var i=Lr(t,67108864);i!==null&&gn(i,t,67108864),tm(t,67108864)}}function S0(t){if(t.tag===13||t.tag===31){var i=In();i=Rr(i);var a=Lr(t,i);a!==null&&gn(a,t,i),tm(t,i)}}var Bu=!0;function Dw(t,i,a,l){var h=B.T;B.T=null;var d=Z.p;try{Z.p=2,nm(t,i,a,l)}finally{Z.p=d,B.T=h}}function Ow(t,i,a,l){var h=B.T;B.T=null;var d=Z.p;try{Z.p=8,nm(t,i,a,l)}finally{Z.p=d,B.T=h}}function nm(t,i,a,l){if(Bu){var h=im(l);if(h===null)qd(t,i,l,qu,a),N0(t,l);else if(Vw(h,t,i,a,l))l.stopPropagation();else if(N0(t,l),i&4&&-1<Mw.indexOf(t)){for(;h!==null;){var d=Mn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=_i(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-_t(v);E.entanglements[1]|=C,v&=~C}Pi(d),(Xe&6)===0&&(wu=sn()+500,Al(0))}}break;case 31:case 13:E=Lr(d,2),E!==null&&gn(E,d,2),Su(),tm(d,2)}if(d=im(l),d===null&&qd(t,i,l,qu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else qd(t,i,l,null,a)}}function im(t){return t=Vn(t),sm(t)}var qu=null;function sm(t){if(qu=null,t=xi(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function R0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xr()){case Mo:return 2;case Vo:return 8;case Es:case uf:return 32;case bc:return 268435456;default:return 32}default:return 32}}var rm=!1,Qs=null,Ys=null,Xs=null,Dl=new Map,Ol=new Map,Js=[],Mw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function N0(t,i){switch(t){case"focusin":case"focusout":Qs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Dl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ol.delete(i.pointerId)}}function Ml(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mn(i),i!==null&&A0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Vw(t,i,a,l,h){switch(i){case"focusin":return Qs=Ml(Qs,t,i,a,l,h),!0;case"dragenter":return Ys=Ml(Ys,t,i,a,l,h),!0;case"mouseover":return Xs=Ml(Xs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Dl.set(d,Ml(Dl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ol.set(d,Ml(Ol.get(d)||null,t,i,a,l,h)),!0}return!1}function I0(t){var i=xi(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,ei(t.priority,function(){S0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,ei(t.priority,function(){S0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=im(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=Mn(a),i!==null&&A0(i),t.blockedOn=a,!1;i.shift()}return!0}function C0(t,i,a){Fu(t)&&a.delete(i)}function jw(){rm=!1,Qs!==null&&Fu(Qs)&&(Qs=null),Ys!==null&&Fu(Ys)&&(Ys=null),Xs!==null&&Fu(Xs)&&(Xs=null),Dl.forEach(C0),Ol.forEach(C0)}function Hu(t,i){t.blockedOn===i&&(t.blockedOn=null,rm||(rm=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,jw)))}var Gu=null;function k0(t){Gu!==t&&(Gu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(sm(l||a)===null)continue;break}var d=Mn(a);d!==null&&(t.splice(i,3),i-=3,id(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function io(t){function i(C){return Hu(C,t)}Qs!==null&&Hu(Qs,t),Ys!==null&&Hu(Ys,t),Xs!==null&&Hu(Xs,t),Dl.forEach(i),Ol.forEach(i);for(var a=0;a<Js.length;a++){var l=Js[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Js.length&&(a=Js[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&Js.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Lt]||null;if(typeof d=="function")v||k0(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Lt]||null)E=v.formAction;else if(sm(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),k0(a)}}}function D0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function am(t){this._internalRoot=t}Ku.prototype.render=am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=In();x0(a,l,t,i,null,null)},Ku.prototype.unmount=am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;x0(t.current,2,null,t,null,null),Su(),i[Ei]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Js.length&&i!==0&&i<Js[a].priority;a++);Js.splice(a,0,t),a===0&&I0(t)}};var O0=e.version;if(O0!=="19.2.4")throw Error(r(527,O0,"19.2.4"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=_(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var Pw={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$u.isDisabled&&$u.supportsFiber)try{Wn=$u.inject(Pw),Ft=$u}catch{}}return jl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=zy,d=By,v=qy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=E0(t,1,!1,null,null,a,l,null,h,d,v,D0),t[Ei]=i.current,Bd(t),new am(i)},jl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=zy,v=By,E=qy,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=E0(t,1,!0,i,a??null,l,h,C,d,v,E,D0),i.context=T0(null),a=i.current,l=In(),l=Rr(l),h=js(l),h.callback=null,Ps(a,h,l),a=l,i.current.lanes=a,Ar(i,a),Pi(i),t[Ei]=i.current,Bd(t),new Ku(i)},jl.version="19.2.4",jl}var F0;function Qw(){if(F0)return cm.exports;F0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),cm.exports=$w(),cm.exports}var Yw=Qw();function Xw(s){return!(typeof s!="object"||s instanceof Array)}class Jw{filterOutNonSupportedKeys(e,n){const r=Object.create({});return Xw(e)?(Object.keys(e).forEach(o=>{n.indexOf(o)>=0?r[o]=e[o]:console.warn("Warning - unsupported key provided to configuration: ",o)}),r):Object.create({})}}const H0=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class lp extends Jw{constructor(e){super();const n=this.filterOutNonSupportedKeys(e,H0);Object.assign(this,{secure:!0},n)}extend(e){const n=this.filterOutNonSupportedKeys(e,H0);return new lp(Object.assign({},this,n))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}setQueryParams(e){return this.queryParams=e,this}}class Yn{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(n=>this.hasValue(n)),this}setDelimiter(e){return this.delimiter=e,this}}class Ww extends Error{constructor(e="Unsupported"){super(e)}}function cp(s){return new Ww(s)}function Zw(){return this._qualifierModel||{error:cp(`unsupported qualifier ${this.constructor.name}`)}}class eA{constructor(){this._qualifierModel={}}toJson(){return Zw.apply(this)}}class on extends eA{constructor(e,n){super(),this.delimiter="_",this.key=e,n instanceof Yn?this.qualifierValue=n:(this.qualifierValue=new Yn,this.qualifierValue.addValue(n))}toString(){const{key:e,delimiter:n,qualifierValue:r}=this;return`${e}${n}${r.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class Qn extends on{constructor(e,n){let r;n?r=new Yn([e,`${n}`]).setDelimiter(":"):r=e,super("fl",r),this.flagValue=n}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function tA(s,e){const n=Array.from(s.entries());return e.forEach(r=>{n.push(["fl",r])}),n.sort().map(r=>r[1])}function nA(){var s,e,n;const r=this._actionModel&&Object.keys(this._actionModel).length,o=(n=(e=(s=this._actionModel)===null||s===void 0?void 0:s.source)===null||e===void 0?void 0:e.transformation)===null||n===void 0?void 0:n.error;return o&&o instanceof Error?{error:o}:r?this._actionModel:{error:cp(`unsupported action ${this.constructor.name}`)}}class iA{constructor(){this._actionModel={}}toJson(){return nA.apply(this)}}class jh extends iA{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),tA(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[n,r]=e.toLowerCase().split("_");n==="fl"?this.flags.push(new Qn(r)):this.qualifiers.set(n,new on(n,r))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new Qn(e)):e instanceof Qn&&this.flags.push(e),this}addValueToQualifier(e,n){return this.qualifiers.get(e).addValue(n),this}}function sA(s){return s&&(s.match(/^#/)?`rgb:${s.substr(1)}`:s)}class rA extends jh{constructor(e){super(),this._actionModel={},this.addQualifier(new on("b",new Yn(sA(e)).setDelimiter("_"))),this._actionModel.color=e,this._actionModel.actionType="backgroundColor"}static fromJson(e){const{color:n}=e;return new this(n)}}class G0{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:cp(`unsupported action ${this.constructor.name}`)}}}function aA(s){const e=s;return"error"in e&&!!e.error}function oA(){return new Qn("ignore_aspect_ratio")}function lA(){return new Qn("lossy")}function cA(){return new Qn("preserve_transparency")}function uA(s){return new Qn("progressive",s)}function hA(){return new Qn("region_relative")}function fA(){return new Qn("relative")}class Xb extends Yn{constructor(e){super(e),this.val=e}getValue(){return this.val}}function ca(s){const e={};return Object.keys(s).forEach(n=>{e[s[n]]=n}),e}const Jb={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},dA={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},mA={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Wb={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},pA={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Zb={444:"CHROMA_444",420:"CHROMA_420"},gA={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},yA=ca(Zb);ca(gA);const _A=ca(Jb),vA=ca(dA);ca(mA);ca(Wb);ca(pA);class e1 extends jh{constructor(e,n,r){super(),this._actionModel={};let o;n instanceof Xb?o=n.getValue():o=n,this._actionModel.actionType=vA[e],this._actionModel[r]=o,this.addQualifier(new on(e,n))}}class bA extends Qn{constructor(e){super("progressive",e)}}class Jl extends e1{constructor(e,n){super(e,n,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(lA()),this}progressive(e){return e instanceof bA?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(uA(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(cA()),this}static fromJson(e){const{formatType:n,lossy:r,progressive:o,preserveTransparency:c}=e;let f;return n?f=new this("f",n):f=new this("f"),o&&(o.mode?f.progressive(o.mode):f.progressive()),r&&f.lossy(),c&&f.preserveTransparency(),f}}class Ph{constructor(){this.actions=[]}addAction(e){let n;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";n=new G0(e)}else n=e;return this.actions.push(n),this}addTransformation(e){return e instanceof Ph?this.actions=this.actions.concat(e.actions):this.actions.push(new G0(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new Jl("q",e)),this}format(e){return this.addAction(new Jl("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new rA(e))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const n=new jh;let r=e;return typeof e=="string"&&(r=new Qn(e)),n.addQualifier(r),this.addAction(n)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const n of this.actions){const r=n.toJson();if(aA(r))return r;e.push(r)}return{actions:e}}}class EA extends Ph{}class TA extends Ph{}function K0(s){const e=s.toString();return e.match(/[A-Z]/gi)||e.length>1&&e[0]==="0"?e:!isNaN(parseFloat(e))&&e.indexOf(":")===-1&&e.indexOf(".")===-1?`${e}.0`:e}class xA extends Yn{}class wA extends jh{constructor(e,n,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=_A[e]||e,this.addQualifier(new on("c",e)),n&&this.width(n),r&&this.height(r)}height(e){return this._actionModel.dimensions.height=e,this.addQualifier(new on("h",e))}width(e){return this._actionModel.dimensions.width=e,this.addQualifier(new on("w",e))}aspectRatio(e){if(e instanceof xA)return this._actionModel.dimensions.aspectRatio=`${e}`,this.addQualifier(new on("ar",e));if(typeof e=="number"||typeof e=="string")return this._actionModel.dimensions.aspectRatio=K0(e),this.addQualifier(new on("ar",K0(e)));if(e instanceof Qn)return this._actionModel.dimensions.aspectRatio=`${e.qualifierValue}`,this.addFlag(e)}relative(){return this._actionModel.relative=!0,this.addFlag(fA())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(hA())}static fromJson(e){const{actionType:n,dimensions:r,relative:o,regionRelative:c}=e,{aspectRatio:f,width:m,height:y}=r,_=Jb[n]||n,T=new this(_,m,y);return f&&T.aspectRatio(f==="ignore_aspect_ratio"?oA():f),o&&T.relative(),c&&T.regionRelative(),T}}class up extends on{constructor(e){super("g",new Yn(e))}}class t1 extends up{constructor(){super("auto")}autoFocus(...e){return this.addValue(e),this}}class n1 extends up{constructor(e){super(e)}fallbackGravity(e){return this.addValue(e.qualifierValue),this}}class AA extends up{constructor(e){super(e)}}function i1(...s){const e=[...s];return new n1(e)}function hp(){return new t1}class yo extends Yn{constructor(e){super(),this.name=e}toString(){return this.name}}function SA(){return new yo("ocr_text")}function RA(s){return s&&`${s}`.split(":")[0]==="auto"}function NA(s){const e=fp(s);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}function fp(s){return`${s}`.replace("g_","")}function IA(s){return{compass:fp(s),gravityType:"direction"}}function CA(s){return fp(s)==="ocr_text"}function kA(){return{gravityType:"ocr"}}function DA(s){return`${s.qualifierValue}`.split(":")[0]==="auto"}function OA(s){const n=s.toString().split("_"),r={object:n[0]};return n.length>1&&(n[1]==="avoid"?r.avoid=!0:r.weight=+n[1]),r}function s1(s){let e;const n=s==="auto"?new t1:s;return`${s}`.startsWith("auto:")?e=`${s}`.split(":").filter(o=>o!=="auto"):e=n.qualifierValue.values.filter(o=>o!=="auto"),{gravityType:"auto",autoFocus:e.map(OA)}}function MA(s){const e=`${s}`.split(":").includes("auto"),n=s.qualifierValue.values,o={gravityType:"object",focusOnObjects:(e?n.slice(0,n.length-1):n).map(c=>`${c}`)};if(e){const c=n[n.length-1].values.slice(1),f=hp().autoFocus(...c);o.fallbackGravity=s1(f)}return o}function VA(s){const n=s.split(":").map(r=>new yo(r));return new n1(n)}function jA(s){return NA(s)?IA(s):CA(s)?kA():RA(s)||DA(s)?s1(s):MA(typeof s=="string"?VA(s):s)}class dp extends Yn{constructor(e,n){super(),this._weight=n,this.focusOn=e,this.shouldAvoid=!1}static focusOn(e,n){const r=e instanceof yo?e:new yo(e);return new dp(r,n)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(e){return this._weight=e,this}avoid(){return this.shouldAvoid=!0,this}}class PA extends Yn{constructor(e){super(),this.val=e}toString(){return this.val}}function UA(s){return s.gravityType==="direction"}function LA(s){return s.gravityType==="ocr"}function zA(s){return s.gravityType==="auto"}function BA(s){const{object:e,weight:n,avoid:r}=s,o=new dp(new yo(e));return(n||n===0)&&o.weight(n),r&&o.avoid(),o}function r1(s){const n=(s.autoFocus||[]).map(BA);return hp().autoFocus(...n)}function qA(s){const e=(s.focusOnObjects||[]).map(r=>new yo(r)),n=i1(...e);if(s.fallbackGravity){const r=r1(s.fallbackGravity);n.fallbackGravity(r)}return n}function FA(s){return UA(s)?new AA(new PA(s.compass)):LA(s)?i1(SA()):zA(s)?r1(s):qA(s)}class HA extends wA{gravity(e){this._actionModel.gravity=jA(e);const n=typeof e=="string"?new on("g",e):e;return this.addQualifier(n)}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.gravity&&n.gravity(FA(e.gravity)),n}}function GA(){return new Xb("auto")}class KA extends HA{x(e){return this._actionModel.x=e,this.addQualifier(new on("x",e))}y(e){return this._actionModel.y=e,this.addQualifier(new on("y",e))}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.x&&n.x(e.x),e.y&&n.y(e.y),n}}function $A(s,e){return new KA("fill",s,e)}class QA extends e1{constructor(e){super("q",e.toString(),"level")}chromaSubSampling(e){this._actionModel.chromaSubSampling=Zb[e];const n=new Yn([this._actionModel.level,e]);return n.setDelimiter(":"),this.addQualifier(new on("q",n))}quantization(e){this._actionModel.quantization=e;const n=new Yn([this._actionModel.level,`qmax_${e}`]).setDelimiter(":");return this.addQualifier(new on("q",n))}static fromJson(e){const{level:n,chromaSubSampling:r,quantization:o}=e,c=Wb[n]||n,f=new this(c);if(r){const m=yA[r.toUpperCase()];m&&f.chromaSubSampling(+m)}return o&&f.quantization(o),f}}function YA(s){return new Jl("f",s)}function XA(s){return new QA(s)}function JA(s){return s.match(/^https?:\//)}function WA(s){return s.indexOf("/")<0}function ZA(s){return s.match(/^v[0-9]+/)}function eS(s,e){const n=e.secure,r=e.privateCdn,o=e.cname,c=e.secureDistribution;return!n&&!o?`http://res.cloudinary.com/${s}`:n&&!c&&r?`https://${s}-res.cloudinary.com`:n&&!c?`https://res.cloudinary.com/${s}`:n&&c&&r?`https://${c}`:n&&c?`https://${c}/${s}`:!n&&o?`http://${o}/${s}`:"ERROR"}function tS(s){return s||"image"}function nS(s){return s||"upload"}function iS(s,e,n){const r=n!==!1;return e?`v${e}`:ZA(s)||JA(s)||WA(s)?"":r?"v1":""}function mp(s,e,n){let r=e>>0,o=String(n);return s.length>r?String(s):(r=r-s.length,r>o.length&&(o+=sS(o,r/o.length)),o.slice(0,r)+String(s))}function sS(s,e){let n=e,r="";for(;n>0;)r+=s,n--;return r}const rS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fh={};let $0=0;rS.split("").forEach(s=>{let e=$0.toString(2);e=mp(e,6,"0"),fh[e]=s,$0++});function aS(s){if(s.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return s.split(".").reverse().join(".")}function oS(s){if(s.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return s.split(".").map(e=>{const n=+e;if(isNaN(n)||n<0)throw"Invalid version number provided";return mp(e,2,"0")}).join(".")}function Q0(s){let e="";const r=s.split(".").length*6,o=aS(s),c=oS(o);let m=parseInt(c.split(".").join("")).toString(2);if(m=mp(m,r,"0"),m.length%6!==0)throw"Version must be smaller than 43.21.26)";return m.match(/.{1,6}/g).forEach(y=>{e+=fh[y]}),e}function lS(s){const e={sdkSemver:s.sdkSemver,techVersion:s.techVersion,sdkCode:s.sdkCode,product:s.product,feature:"0",osType:s.osType,osVersion:s.osVersion};return s.accessibility&&(e.feature="D"),s.lazyload&&(e.feature="C"),s.responsive&&(e.feature="A"),s.placeholder&&(e.feature="B"),s.feature&&(e.feature=s.feature),e}const cS="1.22.0";function uS(s){const[e,n]=s.split("."),r=parseInt(e).toString(2),o=parseInt(n).toString(2),c=r.padStart(6,"0"),f=o.padStart(6,"0");return fh[c]+fh[f]}function hS(){const s="0.0.0";if(typeof window<"u")return s;try{return process.versions.node||s}catch{return s}}function fS(s){const e={techVersion:hS(),sdkCode:"T",sdkSemver:cS.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return s?Object.assign(Object.assign({},e),s):e}function Y0(s){const e=fS(s),n=lS(e);try{const r=dS(n.techVersion),o=Q0(n.sdkSemver),c=Q0(r),f=uS(n.osVersion),m=n.feature,y=n.sdkCode,{product:_,osType:T}=n;return`D${_}${y}${o}${c}${T}${f}${m}`}catch{return"E"}}function dS(s){const e=s.split(".");return`${e[0]}.${e[1]}`}const X0={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class mS{constructor(e,n={},r){this.setPublicID(e),this.setCloudConfig(n),this.setURLConfig(r)}setURLConfig(e){return this.urlConfig=new lp(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,n=this.suffix&&this.suffix.indexOf("/")>=0;if(e||n)throw"`suffix`` should not include . or /"}getResourceType(){const e=tS(this.assetType),n=nS(this.deliveryType),r=!!this.suffix,o=`${e}/${n}`,c=X0[`${e}/${n}`],f=this.urlConfig.useRootPath,m=this.urlConfig.shorten;if(f){if(o==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${o} instead`)}if(m&&o==="image/upload")return"iu";if(r){if(c)return c;throw new Error(`URL Suffix only supported for ${Object.keys(X0).join(", ")}, Provided: ${o} instead`)}return o}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,n){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=eS(this.cloudName,this.urlConfig),o=e?e.toString():"",c=iS(this.publicID,this.version,this.urlConfig.forceVersion),f=this.publicID;if(typeof e=="string")return[r,this.getResourceType(),this.getSignature(),o,c,f.replace(/,/g,"%2C"),this.suffix].filter(y=>y).join("/");{const m=[encodeURI(r),this.getResourceType(),this.getSignature(),encodeURI(o),c,encodeURI(f).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(T=>T).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),y=this.urlConfig.analytics!==!1&&!f.includes("?");let _="";if(typeof this.urlConfig.queryParams=="object")try{const T=new URLSearchParams(this.urlConfig.queryParams);y&&T.set("_a",Y0(n)),_=T.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else _=this.urlConfig.queryParams||"",y&&(_+=`${_.length>0?"&":""}_a=${Y0(n)}`);return _?`${m}?${_}`:m}}}class a1 extends mS{constructor(e,n,r,o){super(e,n,r),this.transformation=o}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new Jl("q",e)),this}format(e){return this.addAction(new Jl("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e==null?void 0:e.trackedAnalytics)}}class pS extends a1{constructor(e,n,r){super(e,n,r,new EA)}}class gS extends a1{constructor(e,n,r){super(e,n,r,new TA),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class yS{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new pS(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new gS(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const _S=new yS({cloud:{cloudName:"dkczitgmn"}}),vS=(s,e=800,n=1e3)=>{if(!s)return null;const r=_S.image(s);return r.resize($A().width(e).height(n).gravity(hp())).delivery(YA(GA())).delivery(XA("auto:best")),r.toURL()};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ES=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=s=>{const e=ES(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var TS={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=pe.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...m},y)=>pe.createElement("svg",{ref:y,...TS,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:o1("lucide",o),...!c&&!xS(m)&&{"aria-hidden":"true"},...m},[...f.map(([_,T])=>pe.createElement(_,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,e)=>{const n=pe.forwardRef(({className:r,...o},c)=>pe.createElement(wS,{ref:c,iconNode:e,className:o1(`lucide-${bS(J0(s))}`,`lucide-${s}`,r),...o}));return n.displayName=J0(s),n};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],SS=qe("activity",AS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],NS=qe("arrow-down",RS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],er=qe("arrow-right",IS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],kS=qe("arrow-up-right",CS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],OS=qe("briefcase",DS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],VS=qe("chevron-down",MS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],PS=qe("chevron-left",jS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const US=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LS=qe("chevron-right",US);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],BS=qe("circle-alert",zS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W0=qe("circle-check",qS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],HS=qe("database",FS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],dm=qe("factory",GS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$S=qe("globe",KS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],YS=qe("history",QS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Z0=qe("image",XS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ev=qe("layers",JS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],ZS=qe("layout-grid",WS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],t2=qe("library",e2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tv=qe("loader-circle",n2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],s2=qe("log-out",i2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],a2=qe("mail",r2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],l2=qe("map-pin",o2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],u2=qe("menu",c2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Dm=qe("monitor",h2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],d2=qe("pen",f2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],p2=qe("phone",m2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],l1=qe("plus",g2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],_2=qe("save",y2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],c1=qe("search",v2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],E2=qe("settings",b2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],x2=qe("shield-check",T2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],A2=qe("trash-2",w2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],R2=qe("users",S2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nv=qe("x",N2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],C2=qe("zap",I2),k2=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},D2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],y=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(y>>10)),e[r++]=String.fromCharCode(56320+(y&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,y=o+2<s.length,_=y?s[o+2]:0,T=c>>2,w=(c&3)<<4|m>>4;let S=(m&15)<<2|_>>6,G=_&63;y||(G=64,f||(S=64)),r.push(n[T],n[w],n[S],n[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(u1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):D2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const _=o<s.length?n[s.charAt(o)]:64;++o;const w=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||_==null||w==null)throw new O2;const S=c<<2|m>>4;if(r.push(S),_!==64){const G=m<<4&240|_>>2;if(r.push(G),w!==64){const W=_<<6&192|w;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class O2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const M2=function(s){const e=u1(s);return h1.encodeByteArray(e,!0)},dh=function(s){return M2(s).replace(/\./g,"")},f1=function(s){try{return h1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2=()=>V2().__FIREBASE_DEFAULTS__,P2=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},U2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&f1(s[1]);return e&&JSON.parse(e)},Uh=()=>{try{return k2()||j2()||P2()||U2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},d1=s=>{var e,n;return(n=(e=Uh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},m1=s=>{const e=d1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},p1=()=>{var s;return(s=Uh())==null?void 0:s.config},g1=s=>{var e;return(e=Uh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function pp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const Gl={};function z2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Gl))Gl[e]?s.emulator.push(e):s.prod.push(e);return s}function B2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let sv=!1;function gp(s,e){if(typeof window>"u"||typeof document>"u"||!ua(window.location.host)||Gl[s]===e||Gl[s]||sv)return;Gl[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=z2().prod.length>0;function f(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,G){S.setAttribute("width","24"),S.setAttribute("id",G),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function _(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sv=!0,f()},S}function T(S,G){S.setAttribute("id",G),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function w(){const S=B2(r),G=n("text"),W=document.getElementById(G)||document.createElement("span"),te=n("learnmore"),ee=document.getElementById(te)||document.createElement("a"),he=n("preprendIcon"),be=document.getElementById(he)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ge=S.element;m(ge),T(ee,te);const q=_();y(be,he),ge.append(be,W,ee,q),document.body.appendChild(ge)}c?(W.innerText="Preview backend disconnected.",be.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(be.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function F2(){var e;const s=(e=Uh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function H2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function G2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K2(){const s=nn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function $2(){return!F2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function v1(){try{return typeof indexedDB=="object"}catch{return!1}}function b1(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function Q2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2="FirebaseError";class Jn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Y2,Object.setPrototypeOf(this,Jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?X2(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Jn(o,m,r)}}function X2(s,e){return s.replace(J2,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const J2=/\{\$([^}]+)}/g;function W2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function fr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(rv(c)&&rv(f)){if(!fr(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function rv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ul(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Ll(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function Z2(s,e){const n=new eR(s,e);return n.subscribe.bind(n)}class eR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");tR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function tR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=1e3,iR=2,sR=14400*1e3,rR=.5;function av(s,e=nR,n=iR){const r=e*Math.pow(n,s),o=Math.round(rR*r*(Math.random()-.5)*2);return Math.min(sR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(s){return s&&s._delegate?s._delegate:s}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new L2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(lR(e))try{this.getOrInitializeService({instanceIdentifier:Wr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Wr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Wr){return this.instances.has(e)}getOptions(e=Wr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wr){return this.component?this.component.multipleInstances?e:Wr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oR(s){return s===Wr?void 0:s}function lR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new aR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const uR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},hR=Ue.INFO,fR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},dR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=fR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lh{constructor(e){this.name=e,this._logLevel=hR,this._logHandler=dR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const mR=(s,e)=>e.some(n=>s instanceof n);let ov,lv;function pR(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gR(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const E1=new WeakMap,Om=new WeakMap,T1=new WeakMap,pm=new WeakMap,yp=new WeakMap;function yR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(ar(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&E1.set(n,s)}).catch(()=>{}),yp.set(e,s),e}function _R(s){if(Om.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Om.set(s,e)}let Mm={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Om.get(s);if(e==="objectStoreNames")return s.objectStoreNames||T1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ar(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function vR(s){Mm=s(Mm)}function bR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(gm(this),e,...n);return T1.set(r,e.sort?e.sort():[e]),ar(r)}:gR().includes(s)?function(...e){return s.apply(gm(this),e),ar(E1.get(this))}:function(...e){return ar(s.apply(gm(this),e))}}function ER(s){return typeof s=="function"?bR(s):(s instanceof IDBTransaction&&_R(s),mR(s,pR())?new Proxy(s,Mm):s)}function ar(s){if(s instanceof IDBRequest)return yR(s);if(pm.has(s))return pm.get(s);const e=ER(s);return e!==s&&(pm.set(s,e),yp.set(e,s)),e}const gm=s=>yp.get(s);function x1(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=ar(f);return r&&f.addEventListener("upgradeneeded",y=>{r(ar(f.result),y.oldVersion,y.newVersion,ar(f.transaction),y)}),n&&f.addEventListener("blocked",y=>n(y.oldVersion,y.newVersion,y)),m.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const TR=["get","getKey","getAll","getAllKeys","count"],xR=["put","add","delete","clear"],ym=new Map;function cv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=xR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TR.includes(n)))return;const c=async function(f,...m){const y=this.transaction(f,o?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&y.done]))[0]};return ym.set(e,c),c}vR(s=>({...s,get:(e,n,r)=>cv(e,n)||s.get(e,n,r),has:(e,n)=>!!cv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(AR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function AR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vm="@firebase/app",uv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms=new Lh("@firebase/app"),SR="@firebase/app-compat",RR="@firebase/analytics-compat",NR="@firebase/analytics",IR="@firebase/app-check-compat",CR="@firebase/app-check",kR="@firebase/auth",DR="@firebase/auth-compat",OR="@firebase/database",MR="@firebase/data-connect",VR="@firebase/database-compat",jR="@firebase/functions",PR="@firebase/functions-compat",UR="@firebase/installations",LR="@firebase/installations-compat",zR="@firebase/messaging",BR="@firebase/messaging-compat",qR="@firebase/performance",FR="@firebase/performance-compat",HR="@firebase/remote-config",GR="@firebase/remote-config-compat",KR="@firebase/storage",$R="@firebase/storage-compat",QR="@firebase/firestore",YR="@firebase/ai",XR="@firebase/firestore-compat",JR="firebase",WR="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",ZR={[Vm]:"fire-core",[SR]:"fire-core-compat",[NR]:"fire-analytics",[RR]:"fire-analytics-compat",[CR]:"fire-app-check",[IR]:"fire-app-check-compat",[kR]:"fire-auth",[DR]:"fire-auth-compat",[OR]:"fire-rtdb",[MR]:"fire-data-connect",[VR]:"fire-rtdb-compat",[jR]:"fire-fn",[PR]:"fire-fn-compat",[UR]:"fire-iid",[LR]:"fire-iid-compat",[zR]:"fire-fcm",[BR]:"fire-fcm-compat",[qR]:"fire-perf",[FR]:"fire-perf-compat",[HR]:"fire-rc",[GR]:"fire-rc-compat",[KR]:"fire-gcs",[$R]:"fire-gcs-compat",[QR]:"fire-fst",[XR]:"fire-fst-compat",[YR]:"fire-vertex","fire-js":"fire-js",[JR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,eN=new Map,Pm=new Map;function hv(s,e){try{s.container.addComponent(e)}catch(n){ms.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function mi(s){const e=s.name;if(Pm.has(e))return ms.debug(`There were multiple attempts to register component ${e}.`),!1;Pm.set(e,s);for(const n of mh.values())hv(n,s);for(const n of eN.values())hv(n,s);return!0}function vr(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Kn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new ha("app","Firebase",tN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=WR;function w1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:jm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw or.create("bad-app-name",{appName:String(o)});if(n||(n=p1()),!n)throw or.create("no-options");const c=mh.get(o);if(c){if(fr(n,c.options)&&fr(r,c.config))return c;throw or.create("duplicate-app",{appName:o})}const f=new cR(o);for(const y of Pm.values())f.addComponent(y);const m=new nN(n,r,f);return mh.set(o,m),m}function zh(s=jm){const e=mh.get(s);if(!e&&s===jm&&p1())return w1();if(!e)throw or.create("no-app",{appName:s});return e}function vn(s,e,n){let r=ZR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ms.warn(f.join(" "));return}mi(new Xn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="firebase-heartbeat-database",sN=1,Wl="firebase-heartbeat-store";let _m=null;function A1(){return _m||(_m=x1(iN,sN,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Wl)}catch(n){console.warn(n)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),_m}async function rN(s){try{const n=(await A1()).transaction(Wl),r=await n.objectStore(Wl).get(S1(s));return await n.done,r}catch(e){if(e instanceof Jn)ms.warn(e.message);else{const n=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ms.warn(n.message)}}}async function fv(s,e){try{const r=(await A1()).transaction(Wl,"readwrite");await r.objectStore(Wl).put(e,S1(s)),await r.done}catch(n){if(n instanceof Jn)ms.warn(n.message);else{const r=or.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ms.warn(r.message)}}}function S1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=1024,oN=30;class lN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new uN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>oN){const f=hN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ms.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dv(),{heartbeatsToSend:r,unsentEntries:o}=cN(this._heartbeatsCache.heartbeats),c=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ms.warn(n),""}}}function dv(){return new Date().toISOString().substring(0,10)}function cN(s,e=aN){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),mv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class uN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return v1()?b1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await rN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mv(s){return dh(JSON.stringify({version:2,heartbeats:s})).length}function hN(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(s){mi(new Xn("platform-logger",e=>new wR(e),"PRIVATE")),mi(new Xn("heartbeat",e=>new lN(e),"PRIVATE")),vn(Vm,uv,s),vn(Vm,uv,"esm2020"),vn("fire-js","")}fN("");var dN="firebase",mN="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn(dN,mN,"app");const R1="@firebase/installations",_p="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1=1e4,I1=`w:${_p}`,C1="FIS_v2",pN="https://firebaseinstallations.googleapis.com/v1",gN=3600*1e3,yN="installations",_N="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ia=new ha(yN,_N,vN);function k1(s){return s instanceof Jn&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1({projectId:s}){return`${pN}/projects/${s}/installations`}function O1(s){return{token:s.token,requestStatus:2,expiresIn:EN(s.expiresIn),creationTime:Date.now()}}async function M1(s,e){const r=(await e.json()).error;return ia.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function V1({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function bN(s,{refreshToken:e}){const n=V1(s);return n.append("Authorization",TN(e)),n}async function j1(s){const e=await s();return e.status>=500&&e.status<600?s():e}function EN(s){return Number(s.replace("s","000"))}function TN(s){return`${C1} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=D1(s),o=V1(s),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={fid:n,authVersion:C1,appId:s.appId,sdkVersion:I1},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await j1(()=>fetch(r,m));if(y.ok){const _=await y.json();return{fid:_.fid||n,registrationStatus:2,refreshToken:_.refreshToken,authToken:O1(_.authToken)}}else throw await M1("Create Installation",y)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=/^[cdef][\w-]{21}$/,Um="";function SN(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=RN(s);return AN.test(n)?n:Um}catch{return Um}}function RN(s){return wN(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1=new Map;function L1(s,e){const n=Bh(s);z1(n,e),NN(n,e)}function z1(s,e){const n=U1.get(s);if(n)for(const r of n)r(e)}function NN(s,e){const n=IN();n&&n.postMessage({key:s,fid:e}),CN()}let Zr=null;function IN(){return!Zr&&"BroadcastChannel"in self&&(Zr=new BroadcastChannel("[Firebase] FID Change"),Zr.onmessage=s=>{z1(s.data.key,s.data.fid)}),Zr}function CN(){U1.size===0&&Zr&&(Zr.close(),Zr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="firebase-installations-database",DN=1,sa="firebase-installations-store";let vm=null;function vp(){return vm||(vm=x1(kN,DN,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(sa)}}})),vm}async function ph(s,e){const n=Bh(s),o=(await vp()).transaction(sa,"readwrite"),c=o.objectStore(sa),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&L1(s,e.fid),e}async function B1(s){const e=Bh(s),r=(await vp()).transaction(sa,"readwrite");await r.objectStore(sa).delete(e),await r.done}async function qh(s,e){const n=Bh(s),o=(await vp()).transaction(sa,"readwrite"),c=o.objectStore(sa),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&L1(s,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(s){let e;const n=await qh(s.appConfig,r=>{const o=ON(r),c=MN(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Um?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function ON(s){const e=s||{fid:SN(),registrationStatus:0};return q1(e)}function MN(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ia.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=VN(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:jN(s)}:{installationEntry:e}}async function VN(s,e){try{const n=await xN(s,e);return ph(s.appConfig,n)}catch(n){throw k1(n)&&n.customData.serverCode===409?await B1(s.appConfig):await ph(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function jN(s){let e=await pv(s.appConfig);for(;e.registrationStatus===1;)await P1(100),e=await pv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await bp(s);return r||n}return e}function pv(s){return qh(s,e=>{if(!e)throw ia.create("installation-not-found");return q1(e)})}function q1(s){return PN(s)?{fid:s.fid,registrationStatus:0}:s}function PN(s){return s.registrationStatus===1&&s.registrationTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UN({appConfig:s,heartbeatServiceProvider:e},n){const r=LN(s,n),o=bN(s,n),c=e.getImmediate({optional:!0});if(c){const _=await c.getHeartbeatsHeader();_&&o.append("x-firebase-client",_)}const f={installation:{sdkVersion:I1,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},y=await j1(()=>fetch(r,m));if(y.ok){const _=await y.json();return O1(_)}else throw await M1("Generate Auth Token",y)}function LN(s,{fid:e}){return`${D1(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ep(s,e=!1){let n;const r=await qh(s.appConfig,c=>{if(!F1(c))throw ia.create("not-registered");const f=c.authToken;if(!e&&qN(f))return c;if(f.requestStatus===1)return n=zN(s,e),c;{if(!navigator.onLine)throw ia.create("app-offline");const m=HN(c);return n=BN(s,m),m}});return n?await n:r.authToken}async function zN(s,e){let n=await gv(s.appConfig);for(;n.authToken.requestStatus===1;)await P1(100),n=await gv(s.appConfig);const r=n.authToken;return r.requestStatus===0?Ep(s,e):r}function gv(s){return qh(s,e=>{if(!F1(e))throw ia.create("not-registered");const n=e.authToken;return GN(n)?{...e,authToken:{requestStatus:0}}:e})}async function BN(s,e){try{const n=await UN(s,e),r={...e,authToken:n};return await ph(s.appConfig,r),n}catch(n){if(k1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await B1(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ph(s.appConfig,r)}throw n}}function F1(s){return s!==void 0&&s.registrationStatus===2}function qN(s){return s.requestStatus===2&&!FN(s)}function FN(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+gN}function HN(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function GN(s){return s.requestStatus===1&&s.requestTime+N1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KN(s){const e=s,{installationEntry:n,registrationPromise:r}=await bp(e);return r?r.catch(console.error):Ep(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(s,e=!1){const n=s;return await QN(n),(await Ep(n,e)).token}async function QN(s){const{registrationPromise:e}=await bp(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(s){if(!s||!s.options)throw bm("App Configuration");if(!s.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw bm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function bm(s){return ia.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1="installations",XN="installations-internal",JN=s=>{const e=s.getProvider("app").getImmediate(),n=YN(e),r=vr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},WN=s=>{const e=s.getProvider("app").getImmediate(),n=vr(e,H1).getImmediate();return{getId:()=>KN(n),getToken:o=>$N(n,o)}};function ZN(){mi(new Xn(H1,JN,"PUBLIC")),mi(new Xn(XN,WN,"PRIVATE"))}ZN();vn(R1,_p);vn(R1,_p,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",eI="firebase_id",tI="origin",nI=60*1e3,iI="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Tp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new Lh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new ha("analytics","Analytics",sI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(s){if(!s.startsWith(Tp)){const e=kn.create("invalid-gtag-resource",{gtagURL:s});return ln.warn(e.message),""}return s}function G1(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function aI(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function oI(s,e){const n=aI("firebase-js-sdk-policy",{createScriptURL:rI}),r=document.createElement("script"),o=`${Tp}?l=${s}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function lI(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function cI(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const y=(await G1(n)).find(_=>_.measurementId===o);y&&await e[y.appId]}}catch(m){ln.error(m)}s("config",o,c)}async function uI(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await G1(n);for(const y of f){const _=m.find(w=>w.measurementId===y),T=_&&e[_.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){ln.error(c)}}function hI(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,y]=f;await uI(s,e,n,m,y)}else if(c==="config"){const[m,y]=f;await cI(s,e,n,r,m,y)}else if(c==="consent"){const[m,y]=f;s("consent",m,y)}else if(c==="get"){const[m,y,_]=f;s("get",m,y,_)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){ln.error(m)}}return o}function fI(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=hI(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function dI(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Tp)&&n.src.includes(s))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=30,pI=1e3;class gI{constructor(e={},n=pI){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const K1=new gI;function yI(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function _I(s){var f;const{appId:e,apiKey:n}=s,r={method:"GET",headers:yI(n)},o=iI.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let m="";try{const y=await c.json();(f=y.error)!=null&&f.message&&(m=y.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function vI(s,e=K1,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw kn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw kn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new TI;return setTimeout(async()=>{m.abort()},nI),$1({appId:r,apiKey:o,measurementId:c},f,m,e)}async function $1(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=K1){var m;const{appId:c,measurementId:f}=s;try{await bI(r,e)}catch(y){if(f)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw y}try{const y=await _I(s);return o.deleteThrottleMetadata(c),y}catch(y){const _=y;if(!EI(_)){if(o.deleteThrottleMetadata(c),f)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:c,measurementId:f};throw y}const T=Number((m=_==null?void 0:_.customData)==null?void 0:m.httpStatus)===503?av(n,o.intervalMillis,mI):av(n,o.intervalMillis),w={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(c,w),ln.debug(`Calling attemptFetch again in ${T} millis`),$1(s,w,r,o)}}function bI(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function EI(s){if(!(s instanceof Jn)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class TI{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function xI(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function wI(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(){if(v1())try{await b1()}catch(s){return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return ln.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function SI(s,e,n,r,o,c,f){const m=vI(s);m.then(S=>{n[S.measurementId]=S.appId,s.options.measurementId&&S.measurementId!==s.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>ln.error(S)),e.push(m);const y=AI().then(S=>{if(S)return r.getId()}),[_,T]=await Promise.all([m,y]);dI(c)||oI(c,_.measurementId),o("js",new Date);const w=(f==null?void 0:f.config)??{};return w[tI]="firebase",w.update=!0,T!=null&&(w[eI]=T),o("config",_.measurementId,w),_.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.app=e}_delete(){return delete co[this.app.options.appId],Promise.resolve()}}let co={},yv=[];const _v={};let Em="dataLayer",NI="gtag",vv,xp,bv=!1;function II(){const s=[];if(_1()&&s.push("This is a browser extension environment."),Q2()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=kn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function CI(s,e,n){II();const r=s.options.appId;if(!r)throw kn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(co[r]!=null)throw kn.create("already-exists",{id:r});if(!bv){lI(Em);const{wrappedGtag:c,gtagCore:f}=fI(co,yv,_v,Em,NI);xp=c,vv=f,bv=!0}return co[r]=SI(s,yv,_v,e,vv,Em,n),new RI(s)}function kI(s=zh()){s=mt(s);const e=vr(s,gh);return e.isInitialized()?e.getImmediate():DI(s)}function DI(s,e={}){const n=vr(s,gh);if(n.isInitialized()){const o=n.getImmediate();if(fr(e,n.getOptions()))return o;throw kn.create("already-initialized")}return n.initialize({options:e})}function OI(s,e,n){s=mt(s),wI(xp,co[s.app.options.appId],e,n).catch(r=>ln.error(r))}function MI(s,e,n,r){s=mt(s),xI(xp,co[s.app.options.appId],e,n,r).catch(o=>ln.error(o))}const Ev="@firebase/analytics",Tv="0.10.19";function VI(){mi(new Xn(gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return CI(r,o,n)},"PUBLIC")),mi(new Xn("analytics-internal",s,"PRIVATE")),vn(Ev,Tv),vn(Ev,Tv,"esm2020");function s(e){try{const n=e.getProvider(gh).getImmediate();return{logEvent:(r,o,c)=>MI(n,r,o,c),setUserProperties:(r,o)=>OI(n,r,o)}}catch(n){throw kn.create("interop-component-reg-failed",{reason:n})}}}VI();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebasestorage.googleapis.com",jI="storageBucket",PI=120*1e3,UI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki extends Jn{constructor(e,n,r=0){super(Tm(e),`Firebase Storage: ${n} (${Tm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ki.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Hi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Hi||(Hi={}));function Tm(s){return"storage/"+s}function LI(){const s="An unknown error occurred, please check the error payload for server response.";return new Ki(Hi.UNKNOWN,s)}function zI(){return new Ki(Hi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function BI(){return new Ki(Hi.CANCELED,"User canceled the upload/download.")}function qI(s){return new Ki(Hi.INVALID_URL,"Invalid URL '"+s+"'.")}function FI(s){return new Ki(Hi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function xv(s){return new Ki(Hi.INVALID_ARGUMENT,s)}function Y1(){return new Ki(Hi.APP_DELETED,"The Firebase app was deleted.")}function HI(s){return new Ki(Hi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ui.makeFromUrl(e,n)}catch{return new ui(e,"")}if(r.path==="")return r;throw FI(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(q){q.path.charAt(q.path.length-1)==="/"&&(q.path_=q.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),y={bucket:1,path:3};function _(q){q.path_=decodeURIComponent(q.path)}const T="v[A-Za-z0-9_]+",w=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",G=new RegExp(`^https?://${w}/${T}/b/${o}/o${S}`,"i"),W={bucket:1,path:3},te=n===Q1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,ee="([^?#]*)",he=new RegExp(`^https?://${te}/${o}/${ee}`,"i"),ge=[{regex:m,indices:y,postModify:c},{regex:G,indices:W,postModify:_},{regex:he,indices:{bucket:1,path:2},postModify:_}];for(let q=0;q<ge.length;q++){const ce=ge[q],me=ce.regex.exec(e);if(me){const N=me[ce.indices.bucket];let A=me[ce.indices.path];A||(A=""),r=new ui(N,A),ce.postModify(r);break}}if(r==null)throw qI(e);return r}}class GI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(s,e,n){let r=1,o=null,c=null,f=!1,m=0;function y(){return m===2}let _=!1;function T(...ee){_||(_=!0,e.apply(null,ee))}function w(ee){o=setTimeout(()=>{o=null,s(G,y())},ee)}function S(){c&&clearTimeout(c)}function G(ee,...he){if(_){S();return}if(ee){S(),T.call(null,ee,...he);return}if(y()||f){S(),T.call(null,ee,...he);return}r<64&&(r*=2);let ge;m===1?(m=2,ge=0):ge=(r+Math.random())*1e3,w(ge)}let W=!1;function te(ee){W||(W=!0,S(),!_&&(o!==null?(ee||(m=2),clearTimeout(o),w(0)):ee||(m=1)))}return w(0),c=setTimeout(()=>{f=!0,te(!0)},n),te}function $I(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(s){return s!==void 0}function wv(s,e,n,r){if(r<e)throw xv(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw xv(`Invalid value for '${s}'. Expected ${n} or less.`)}function YI(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var yh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(yh||(yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e,n,r,o,c,f,m,y,_,T,w,S=!0,G=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=y,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=w,this.retry=S,this.isUsingEmulator=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,te)=>{this.resolve_=W,this.reject_=te,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new Qu(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const y=m.loaded,_=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(y,_)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===yh.NO_ERROR,y=c.getStatus();if(!m||XI(y,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===yh.ABORT;r(!1,new Qu(!1,null,T));return}const _=this.successCodes_.indexOf(y)!==-1;r(!0,new Qu(_,c))})},n=(r,o)=>{const c=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const y=this.callback_(m,m.getResponse());QI(y)?c(y):c()}catch(y){f(y)}else if(m!==null){const y=LI();y.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,y)):f(y)}else if(o.canceled){const y=this.appDelete_?Y1():BI();f(y)}else{const y=zI();f(y)}};this.canceled_?n(!1,new Qu(!1,null,!0)):this.backoffId_=KI(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$I(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Qu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function WI(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function ZI(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function eC(s,e){e&&(s["X-Firebase-GMPID"]=e)}function tC(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function nC(s,e,n,r,o,c,f=!0,m=!1){const y=YI(s.urlParams),_=s.url+y,T=Object.assign({},s.headers);return eC(T,e),WI(T,n),ZI(T,c),tC(T,r),new JI(_,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function sC(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this._service=e,n instanceof ui?this._location=n:this._location=ui.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _h(e,n)}get root(){const e=new ui(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sC(this._location.path)}get storage(){return this._service}get parent(){const e=iC(this._location.path);if(e===null)return null;const n=new ui(this._location.bucket,e);return new _h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw HI(e)}}function Av(s,e){const n=e==null?void 0:e[jI];return n==null?null:ui.makeFromBucketSpec(n,s)}function rC(s,e,n,r={}){s.host=`${e}:${n}`;const o=ua(e);o&&(pp(`https://${s.host}/b`),gp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:y1(c,s.app.options.projectId))}class aC{constructor(e,n,r,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Q1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=PI,this._maxUploadRetryTime=UI,this._requests=new Set,o!=null?this._bucket=ui.makeFromBucketSpec(o,this._host):this._bucket=Av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ui.makeFromBucketSpec(this._url,e):this._bucket=Av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){wv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _h(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new GI(Y1());{const f=nC(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Sv="@firebase/storage",Rv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1="storage";function oC(s=zh(),e){s=mt(s);const r=vr(s,X1).getImmediate({identifier:e}),o=m1("storage");return o&&lC(r,...o),r}function lC(s,e,n,r={}){rC(s,e,n,r)}function cC(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new aC(n,r,o,e,fa)}function uC(){mi(new Xn(X1,cC,"PUBLIC").setMultipleInstances(!0)),vn(Sv,Rv,""),vn(Sv,Rv,"esm2020")}uC();var Nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lr,J1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,k,V){for(var R=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)R[Ge-2]=arguments[Ge];return A.prototype[k].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)M[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)M[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],k=N.g[2];let V=N.g[3],R;R=A+(V^I&(k^V))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[1]+3905402710&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[2]+606105819&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[5]+1200080426&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[6]+2821735955&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[9]+2336552879&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[10]+4294925233&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[13]+4254626195&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[14]+2792965006&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(k^V&(I^k))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[6]+3225465664&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[11]+643717713&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[10]+38016083&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[15]+3634488961&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[14]+3275163606&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[3]+4107603335&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[2]+4243563512&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[7]+1735328473&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(I^k^V)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[8]+2272392833&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[11]+1839030562&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[4]+1272893353&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[7]+4139469664&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[0]+3936430074&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[3]+3572445317&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[12]+3873151461&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[15]+530742520&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(k^(I|~V))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[7]+1126891415&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[14]+2878612391&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[3]+2399980690&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[10]+4293915773&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[15]+4264355552&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[6]+2734768916&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[11]+3174756917&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[2]+718787259&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let k=this.h,V=0;for(;V<A;){if(k==0)for(;V<=I;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<A;)if(M[k++]=N.charCodeAt(V++),k==this.blockSize){o(this,M),k=0;break}}else for(;V<A;)if(M[k++]=N[V++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function c(N,A){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function f(N,A){this.h=A;const I=[];let M=!0;for(let k=N.length-1;k>=0;k--){const V=N[k]|0;M&&V==A||(I[k]=V,M=!1)}this.g=I}var m={};function y(N){return-128<=N&&N<128?c(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return w;if(N<0)return ee(_(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new f(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return ee(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=_(Math.pow(A,8));let M=w;for(let V=0;V<N.length;V+=8){var k=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+k),A);k<8?(k=_(Math.pow(A,k)),M=M.j(k).add(_(R))):(M=M.j(I),M=M.add(_(R)))}return M}var w=y(0),S=y(1),G=y(16777216);s=f.prototype,s.m=function(){if(te(this))return-ee(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(te(this))return"-"+ee(this).toString(N);const A=_(Math.pow(N,6));var I=this;let M="";for(;;){const k=q(I,A).g;I=he(I,k.j(A));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=k,W(I))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=he(this,N),te(N)?-1:W(N)?0:1};function ee(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new f(I,~N.h).add(S)}s.abs=function(){return te(this)?ee(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let k=0;k<=A;k++){let V=M+(this.i(k)&65535)+(N.i(k)&65535),R=(V>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=R>>>16,V&=65535,R&=65535,I[k]=R<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function he(N,A){return N.add(ee(A))}s.j=function(N){if(W(this)||W(N))return w;if(te(this))return te(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(te(N))return ee(this.j(ee(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<N.g.length;k++){const V=this.i(M)>>>16,R=this.i(M)&65535,Ge=N.i(k)>>>16,se=N.i(k)&65535;I[2*M+2*k]+=R*se,be(I,2*M+2*k),I[2*M+2*k+1]+=V*se,be(I,2*M+2*k+1),I[2*M+2*k+1]+=R*Ge,be(I,2*M+2*k+1),I[2*M+2*k+2]+=V*Ge,be(I,2*M+2*k+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new f(I,0)};function be(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ge(N,A){this.g=N,this.h=A}function q(N,A){if(W(A))throw Error("division by zero");if(W(N))return new ge(w,w);if(te(N))return A=q(ee(N),A),new ge(ee(A.g),ee(A.h));if(te(A))return A=q(N,ee(A)),new ge(ee(A.g),A.h);if(N.g.length>30){if(te(N)||te(A))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=A;M.l(N)<=0;)I=ce(I),M=ce(M);var k=me(I,1),V=me(M,1);for(M=me(M,2),I=me(I,2);!W(M);){var R=V.add(M);R.l(N)<=0&&(k=k.add(I),V=R),M=me(M,1),I=me(I,1)}return A=he(N,k.j(A)),new ge(k,A)}for(k=w;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=_(I),R=V.j(A);te(R)||R.l(N)>0;)I-=M,V=_(I),R=V.j(A);W(V)&&(V=S),k=k.add(V),N=he(N,R)}return new ge(k,N)}s.B=function(N){return q(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new f(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new f(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new f(I,this.h^N.h)};function ce(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(I,N.h)}function me(N,A){const I=A>>5;A%=32;const M=N.g.length-I,k=[];for(let V=0;V<M;V++)k[V]=A>0?N.i(V+I)>>>A|N.i(V+I+1)<<32-A:N.i(V+I);return new f(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,J1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,lr=f}).apply(typeof Nv<"u"?Nv:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var W1,zl,Z1,nh,Lm,eE,tE,nE;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var g=0;g<u.length;++g){var b=u[g];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(u,g){if(g)e:{var b=r;u=u.split(".");for(var x=0;x<u.length-1;x++){var P=u[x];if(!(P in b))break e;b=b[P]}u=u[u.length-1],x=b[u],g=g(x),g!=x&&g!=null&&e(b,u,{configurable:!0,writable:!0,value:g})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(g){var b=[],x;for(x in g)Object.prototype.hasOwnProperty.call(g,x)&&b.push([x,g[x]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function y(u,g,b){return u.call.apply(u.bind,arguments)}function _(u,g,b){return _=y,_.apply(null,arguments)}function T(u,g){var b=Array.prototype.slice.call(arguments,1);return function(){var x=b.slice();return x.push.apply(x,arguments),u.apply(this,x)}}function w(u,g){function b(){}b.prototype=g.prototype,u.Z=g.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(x,P,F){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return g.prototype[P].apply(x,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const g=u.length;if(g>0){const b=Array(g);for(let x=0;x<g;x++)b[x]=u[x];return b}return[]}function W(u,g){for(let x=1;x<arguments.length;x++){const P=arguments[x];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=u.length||0;const F=P.length||0;u.length=b+F;for(let ie=0;ie<F;ie++)u[b+ie]=P[ie]}else u.push(P)}}class te{constructor(g,b){this.i=g,this.j=b,this.h=0,this.g=null}get(){let g;return this.h>0?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ee(u){f.setTimeout(()=>{throw u},0)}function he(){var u=N;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class be{constructor(){this.h=this.g=null}add(g,b){const x=ge.get();x.set(g,b),this.h?this.h.next=x:this.g=x,this.h=x}}var ge=new te(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(g,b){this.h=g,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,me=!1,N=new be,A=()=>{const u=Promise.resolve(void 0);ce=()=>{u.then(I)}};function I(){for(var u;u=he();){try{u.h.call(u.g)}catch(b){ee(b)}var g=ge;g.j(u),g.h<100&&(g.h++,u.next=g.g,g.g=u)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,g),f.removeEventListener("test",b,g)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ge(u,g){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,g)}w(Ge,k),Ge.prototype.init=function(u,g){const b=this.type=u.type,x=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget,g||(b=="mouseover"?g=u.fromElement:b=="mouseout"&&(g=u.toElement)),this.relatedTarget=g,x?(this.clientX=x.clientX!==void 0?x.clientX:x.pageX,this.clientY=x.clientY!==void 0?x.clientY:x.pageY,this.screenX=x.screenX||0,this.screenY=x.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ge.Z.h.call(this)},Ge.prototype.h=function(){Ge.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),B=0;function Z(u,g,b,x,P){this.listener=u,this.proxy=null,this.src=g,this.type=b,this.capture=!!x,this.ha=P,this.key=++B,this.da=this.fa=!1}function de(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ke(u,g,b){for(const x in u)g.call(b,u[x],x,u)}function Ke(u,g){for(const b in u)g.call(void 0,u[b],b,u)}function O(u){const g={};for(const b in u)g[b]=u[b];return g}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(u,g){let b,x;for(let P=1;P<arguments.length;P++){x=arguments[P];for(b in x)u[b]=x[b];for(let F=0;F<Q.length;F++)b=Q[F],Object.prototype.hasOwnProperty.call(x,b)&&(u[b]=x[b])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,g,b,x,P){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ie=Ae(u,g,x,P);return ie>-1?(g=u[ie],b||(g.fa=!1)):(g=new Z(g,this.src,F,!!x,P),g.fa=b,u.push(g)),g};function xe(u,g){const b=g.type;if(b in u.g){var x=u.g[b],P=Array.prototype.indexOf.call(x,g,void 0),F;(F=P>=0)&&Array.prototype.splice.call(x,P,1),F&&(de(g),u.g[b].length==0&&(delete u.g[b],u.h--))}}function Ae(u,g,b,x){for(let P=0;P<u.length;++P){const F=u[P];if(!F.da&&F.listener==g&&F.capture==!!b&&F.ha==x)return P}return-1}var De="closure_lm_"+(Math.random()*1e6|0),dt={};function tt(u,g,b,x,P){if(Array.isArray(g)){for(let F=0;F<g.length;F++)tt(u,g[F],b,x,P);return null}return b=Oo(b),u&&u[se]?u.J(g,b,m(x)?!!x.capture:!1,P):Dn(u,g,b,!1,x,P)}function Dn(u,g,b,x,P,F){if(!g)throw Error("Invalid event type");const ie=m(P)?!!P.capture:!!P;let Ne=bn(u);if(Ne||(u[De]=Ne=new ae(u)),b=Ne.add(g,b,x,ie,F),b.proxy)return b;if(x=_s(),b.proxy=x,x.src=u,x.listener=b,u.addEventListener)V||(P=ie),P===void 0&&(P=!1),u.addEventListener(g.toString(),x,P);else if(u.attachEvent)u.attachEvent(Oe(g.toString()),x);else if(u.addListener&&u.removeListener)u.addListener(x);else throw Error("addEventListener and attachEvent are unavailable.");return b}function _s(){function u(b){return g.call(u.src,u.listener,b)}const g=cn;return u}function He(u,g,b,x,P){if(Array.isArray(g))for(var F=0;F<g.length;F++)He(u,g[F],b,x,P);else x=m(x)?!!x.capture:!!x,b=Oo(b),u&&u[se]?(u=u.i,F=String(g).toString(),F in u.g&&(g=u.g[F],b=Ae(g,b,x,P),b>-1&&(de(g[b]),Array.prototype.splice.call(g,b,1),g.length==0&&(delete u.g[F],u.h--)))):u&&(u=bn(u))&&(g=u.g[g.toString()],u=-1,g&&(u=Ae(g,b,x,P)),(b=u>-1?g[u]:null)&&ne(b))}function ne(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[se])xe(g.i,u);else{var b=u.type,x=u.proxy;g.removeEventListener?g.removeEventListener(b,x,u.capture):g.detachEvent?g.detachEvent(Oe(b),x):g.addListener&&g.removeListener&&g.removeListener(x),(b=bn(g))?(xe(b,u),b.h==0&&(b.src=null,g[De]=null)):de(u)}}}function Oe(u){return u in dt?dt[u]:dt[u]="on"+u}function cn(u,g){if(u.da)u=!0;else{g=new Ge(g,this);const b=u.listener,x=u.ha||u.src;u.fa&&ne(u),u=b.call(x,g)}return u}function bn(u){return u=u[De],u instanceof ae?u:null}var vs="__closure_events_fn_"+(Math.random()*1e9>>>0);function Oo(u){return typeof u=="function"?u:(u[vs]||(u[vs]=function(g){return u.handleEvent(g)}),u[vs])}function xt(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}w(xt,M),xt.prototype[se]=!0,xt.prototype.removeEventListener=function(u,g,b,x){He(this,u,g,b,x)};function jt(u,g){var b,x=u.G;if(x)for(b=[];x;x=x.G)b.push(x);if(u=u.M,x=g.type||g,typeof g=="string")g=new k(g,u);else if(g instanceof k)g.target=g.target||u;else{var P=g;g=new k(x,u),re(g,P)}P=!0;let F,ie;if(b)for(ie=b.length-1;ie>=0;ie--)F=g.g=b[ie],P=bs(F,x,!0,g)&&P;if(F=g.g=u,P=bs(F,x,!0,g)&&P,P=bs(F,x,!1,g)&&P,b)for(ie=0;ie<b.length;ie++)F=g.g=b[ie],P=bs(F,x,!1,g)&&P}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var u=this.i;for(const g in u.g){const b=u.g[g];for(let x=0;x<b.length;x++)de(b[x]);delete u.g[g],u.h--}}this.G=null},xt.prototype.J=function(u,g,b,x){return this.i.add(String(u),g,!1,b,x)},xt.prototype.K=function(u,g,b,x){return this.i.add(String(u),g,!0,b,x)};function bs(u,g,b,x){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();let P=!0;for(let F=0;F<g.length;++F){const ie=g[F];if(ie&&!ie.da&&ie.capture==b){const Ne=ie.listener,vt=ie.ha||ie.src;ie.fa&&xe(u.i,ie),P=Ne.call(vt,x)!==!1&&P}}return P&&!x.defaultPrevented}function cf(u,g){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(g)>2147483647?-1:f.setTimeout(u,g||0)}function vc(u){u.g=cf(()=>{u.g=null,u.i&&(u.i=!1,vc(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class sn extends M{constructor(g,b){super(),this.m=g,this.l=b,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xr(u){M.call(this),this.h=u,this.g={}}w(xr,M);var Mo=[];function Vo(u){ke(u.g,function(g,b){this.g.hasOwnProperty(b)&&ne(g)},u),u.g={}}xr.prototype.N=function(){xr.Z.N.call(this),Vo(this)},xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Es=f.JSON.stringify,uf=f.JSON.parse,bc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ec(){}function Tc(){}var Wn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ft(){k.call(this,"d")}w(Ft,k);function On(){k.call(this,"c")}w(On,k);var _t={},xc=null;function ya(){return xc=xc||new xt}_t.Ia="serverreachability";function wc(u){k.call(this,_t.Ia,u)}w(wc,k);function yi(u){const g=ya();jt(g,new wc(g))}_t.STAT_EVENT="statevent";function wr(u,g){k.call(this,_t.STAT_EVENT,u),this.stat=g}w(wr,k);function wt(u){const g=ya();jt(g,new wr(g,u))}_t.Ja="timingevent";function _i(u,g){k.call(this,_t.Ja,u),this.size=g}w(_i,k);function vi(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},g)}function Zn(){this.g=!0}Zn.prototype.ua=function(){this.g=!1};function hf(u,g,b,x,P,F){u.info(function(){if(u.g)if(F){var ie="",Ne=F.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var vt=Ne[Ye].split("=");if(vt.length>1){const ht=vt[0];vt=vt[1];const Pn=ht.split("_");ie=Pn.length>=2&&Pn[1]=="type"?ie+(ht+"="+vt+"&"):ie+(ht+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+x+") [attempt "+P+"]: "+g+`
`+b+`
`+ie})}function Ac(u,g,b,x,P,F,ie){u.info(function(){return"XMLHTTP RESP ("+x+") [ attempt "+P+"]: "+g+`
`+b+`
`+F+" "+ie})}function bi(u,g,b,x){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+ff(u,b)+(x?" "+x:"")})}function Ar(u,g){u.info(function(){return"TIMEOUT: "+g})}Zn.prototype.info=function(){};function ff(u,g){if(!u.g)return g;if(!g)return null;try{const F=JSON.parse(g);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var x=b[1];if(Array.isArray(x)&&!(x.length<1)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<x.length;ie++)x[ie]=""}}}}return Es(F)}catch{return g}}var Sr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Po;function Rr(){}w(Rr,Ec),Rr.prototype.g=function(){return new XMLHttpRequest},Po=new Rr;function $i(u){return encodeURIComponent(String(u))}function Sc(u){var g=1;u=u.split(":");const b=[];for(;g>0&&u.length;)b.push(u.shift()),g--;return u.length&&b.push(u.join(":")),b}function ei(u,g,b,x){this.j=u,this.i=g,this.l=b,this.S=x||1,this.V=new xr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ti}function ti(){this.i=null,this.g="",this.h=!1}var At={},Lt={};function Ei(u,g,b){u.M=1,u.A=Nr(Rt(g)),u.u=b,u.R=!0,_a(u,null)}function _a(u,g){u.F=Date.now(),Ti(u),u.B=Rt(u.A);var b=u.B,x=u.S;Array.isArray(x)||(x=[String(x)]),Ta(b.i,"t",x),u.C=0,b=u.j.L,u.h=new ti,u.g=Bc(u.j,b?g:null,!u.u),u.P>0&&(u.O=new sn(_(u.Y,u,u.g),u.P)),g=u.V,b=u.g,x=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Mo[0]=P.toString()),P=Mo);for(let F=0;F<P.length;F++){const ie=tt(b,P[F],x||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,g)):(u.v="GET",u.g.ea(u.B,u.v,null,g)),yi(),hf(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const g=this.O;g&&si(u)==3?g.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=si(this.g),vt=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ht(this.g)))){this.K||Ne!=4||vt==7||(vt==8||Ye<=0?yi(3):yi(2)),xi(this);var g=this.g.ca();this.X=g;var b=df(this);if(this.o=g==200,Ac(this.i,this.v,this.B,this.l,this.S,Ne,g),this.o){if(this.U&&!this.L){t:{if(this.g){var x,P=this.g;if((x=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(x)){var F=x;break t}}F=null}if(u=F)bi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,wt(12),En(this),Mn(this);break e}}if(this.R){u=!0;let ht;for(;!this.K&&this.C<b.length;)if(ht=Nc(this,b),ht==Lt){Ne==4&&(this.m=4,wt(14),u=!1),bi(this.i,this.l,null,"[Incomplete Response]");break}else if(ht==At){this.m=4,wt(15),bi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else bi(this.i,this.l,ht,null),wi(this,ht);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)bi(this.i,this.l,b,"[Invalid Chunked Response]"),En(this),Mn(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Wo(ie),ie.P=!0,wt(11))}}else bi(this.i,this.l,b,null),wi(this,b);Ne==4&&En(this),this.o&&!this.K&&(Ne==4?Pc(this.j,this):(this.o=!1,Ti(this)))}else Yi(this.g),g==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),En(this),Mn(this)}}}catch{}finally{}};function df(u){if(!Rc(u))return u.g.la();const g=Ht(u.g);if(g==="")return"";let b="";const x=g.length,P=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return En(u),Mn(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<x;F++)u.h.h=!0,b+=u.h.i.decode(g[F],{stream:!(P&&F==x-1)});return g.length=0,u.h.g+=b,u.C=0,u.h.g}function Rc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Nc(u,g){var b=u.C,x=g.indexOf(`
`,b);return x==-1?Lt:(b=Number(g.substring(b,x)),isNaN(b)?At:(x+=1,x+b>g.length?Lt:(g=g.slice(x,x+b),u.C=x+b,g)))}ei.prototype.cancel=function(){this.K=!0,En(this)};function Ti(u){u.T=Date.now()+u.H,va(u,u.H)}function va(u,g){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),g)}function xi(u){u.D&&(f.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ar(this.i,this.B),this.M!=2&&(yi(),wt(17)),En(this),this.m=2,Mn(this)):va(this,this.T-u)};function Mn(u){u.j.I==0||u.K||Pc(u.j,u)}function En(u){xi(u);var g=u.O;g&&typeof g.dispose=="function"&&g.dispose(),u.O=null,Vo(u.V),u.g&&(g=u.g,u.g=null,g.abort(),g.dispose())}function wi(u,g){try{var b=u.j;if(b.I!=0&&(b.g==u||Si(b.h,u))){if(!u.L&&Si(b.h,u)&&b.I==3){try{var x=b.Ba.g.parse(g)}catch{x=null}if(Array.isArray(x)&&x.length==3){var P=x;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Ra(b),Is(b);else break e;Vr(b),wt(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=vi(_(b.Va,b),6e3));Ai(b.h)<=1&&b.ta&&(b.ta=void 0)}else Di(b,11)}else if((u.L||b.g==u)&&Ra(b),!R(g))for(P=b.Ba.g.parse(g),g=0;g<P.length;g++){let Ye=P[g];const ht=Ye[0];if(!(ht<=b.K))if(b.K=ht,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const Pn=Ye[3];Pn!=null&&(b.ka=Pn,b.j.info("VER="+b.ka));const Oi=Ye[4];Oi!=null&&(b.za=Oi,b.j.info("SVER="+b.za));const ri=Ye[5];ri!=null&&typeof ri=="number"&&ri>0&&(x=1.5*ri,b.O=x,b.j.info("backChannelRequestTimeoutMs_="+x)),x=b;const ai=u.g;if(ai){const jr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(jr){var F=x.h;F.g||jr.indexOf("spdy")==-1&&jr.indexOf("quic")==-1&&jr.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(zo(F,F.h),F.h=null))}if(x.G){const Na=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Na&&(x.wa=Na,We(x.J,x.G,Na))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),x=b;var ie=u;if(x.na=zc(x,x.L?x.ba:null,x.W),ie.L){Bo(x.h,ie);var Ne=ie,vt=x.O;vt&&(Ne.H=vt),Ne.D&&(xi(Ne),Ti(Ne)),x.g=ie}else Vc(x);b.i.length>0&&ki(b)}else Ye[0]!="stop"&&Ye[0]!="close"||Di(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?Di(b,7):Xo(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}yi(4)}catch{}}var St=class{constructor(u,g){this.g=u,this.map=g}};function Uo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Lo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ai(u){return u.h?1:u.g?u.g.size:0}function Si(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function zo(u,g){u.g?u.g.add(g):u.h=g}function Bo(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Uo.prototype.cancel=function(){if(this.i=qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function qo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const b of u.g.values())g=g.concat(b.G);return g}return G(u.i)}var Ic=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,g){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const x=u[b].indexOf("=");let P,F=null;x>=0?(P=u[b].substring(0,x),F=u[b].substring(x+1)):P=u[b],g(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Tn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let g;u instanceof Tn?(this.l=u.l,zt(this,u.j),this.o=u.o,this.g=u.g,Ts(this,u.u),this.h=u.h,Fo(this,Oc(u.i)),this.m=u.m):u&&(g=String(u).match(Ic))?(this.l=!1,zt(this,g[1]||"",!0),this.o=Ri(g[2]||""),this.g=Ri(g[3]||"",!0),Ts(this,g[4]),this.h=Ri(g[5]||"",!0),Fo(this,g[6]||"",!0),this.m=Ri(g[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Tn.prototype.toString=function(){const u=[];var g=this.j;g&&u.push(Ir(g,Ea,!0),":");var b=this.g;return(b||g=="file")&&(u.push("//"),(g=this.o)&&u.push(Ir(g,Ea,!0),"@"),u.push($i(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Ir(b,b.charAt(0)=="/"?Ho:Cc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Ir(b,kc)),u.join("")},Tn.prototype.resolve=function(u){const g=Rt(this);let b=!!u.j;b?zt(g,u.j):b=!!u.o,b?g.o=u.o:b=!!u.g,b?g.g=u.g:b=u.u!=null;var x=u.h;if(b)Ts(g,u.u);else if(b=!!u.h){if(x.charAt(0)!="/")if(this.g&&!this.h)x="/"+x;else{var P=g.h.lastIndexOf("/");P!=-1&&(x=g.h.slice(0,P+1)+x)}if(P=x,P==".."||P==".")x="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){x=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let ie=0;ie<P.length;){const Ne=P[ie++];Ne=="."?x&&ie==P.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),x&&ie==P.length&&F.push("")):(F.push(Ne),x=!0)}x=F.join("/")}else x=P}return b?g.h=x:b=u.i.toString()!=="",b?Fo(g,Oc(u.i)):b=!!u.m,b&&(g.m=u.m),g};function Rt(u){return new Tn(u)}function zt(u,g,b){u.j=b?Ri(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function Ts(u,g){if(g){if(g=Number(g),isNaN(g)||g<0)throw Error("Bad port number "+g);u.u=g}else u.u=null}function Fo(u,g,b){g instanceof ws?(u.i=g,xa(u.i,u.l)):(b||(g=Ir(g,xs)),u.i=new ws(g,u.l))}function We(u,g,b){u.i.set(g,b)}function Nr(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ri(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ir(u,g,b){return typeof u=="string"?(u=encodeURI(u).replace(g,un),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function un(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ea=/[#\/\?@]/g,Cc=/[#\?:]/g,Ho=/[#\?]/g,xs=/[#\?@]/g,kc=/#/g;function ws(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function hn(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(g,b){u.add(decodeURIComponent(g.replace(/\+/g," ")),b)}))}s=ws.prototype,s.add=function(u,g){hn(this),this.i=null,u=As(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(g),this.h+=1,this};function Dc(u,g){hn(u),g=As(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function Go(u,g){return hn(u),g=As(u,g),u.g.has(g)}s.forEach=function(u,g){hn(this),this.g.forEach(function(b,x){b.forEach(function(P){u.call(g,P,x,this)},this)},this)};function Ko(u,g){hn(u);let b=[];if(typeof g=="string")Go(u,g)&&(b=b.concat(u.g.get(As(u,g))));else for(u=Array.from(u.g.values()),g=0;g<u.length;g++)b=b.concat(u[g]);return b}s.set=function(u,g){return hn(this),this.i=null,u=As(this,u),Go(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},s.get=function(u,g){return u?(u=Ko(this,u),u.length>0?String(u[0]):g):g};function Ta(u,g,b){Dc(u,g),b.length>0&&(u.i=null,u.g.set(As(u,g),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(let x=0;x<g.length;x++){var b=g[x];const P=$i(b);b=Ko(this,b);for(let F=0;F<b.length;F++){let ie=P;b[F]!==""&&(ie+="="+$i(b[F])),u.push(ie)}}return this.i=u.join("&")};function Oc(u){const g=new ws;return g.i=u.i,u.g&&(g.g=new Map(u.g),g.h=u.h),g}function As(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function xa(u,g){g&&!u.j&&(hn(u),u.i=null,u.g.forEach(function(b,x){const P=x.toLowerCase();x!=P&&(Dc(this,x),Ta(this,P,b))},u)),u.j=g}function ni(u,g){const b=new Zn;if(f.Image){const x=new Image;x.onload=T(Vn,b,"TestLoadImage: loaded",!0,g,x),x.onerror=T(Vn,b,"TestLoadImage: error",!1,g,x),x.onabort=T(Vn,b,"TestLoadImage: abort",!1,g,x),x.ontimeout=T(Vn,b,"TestLoadImage: timeout",!1,g,x),f.setTimeout(function(){x.ontimeout&&x.ontimeout()},1e4),x.src=u}else g(!1)}function $o(u,g){const b=new Zn,x=new AbortController,P=setTimeout(()=>{x.abort(),Vn(b,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:x.signal}).then(F=>{clearTimeout(P),F.ok?Vn(b,"TestPingServer: ok",!0,g):Vn(b,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(P),Vn(b,"TestPingServer: error",!1,g)})}function Vn(u,g,b,x,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),x(b)}catch{}}function Ss(){this.g=new bc}function Ni(u){this.i=u.Sb||null,this.h=u.ab||!1}w(Ni,Ec),Ni.prototype.g=function(){return new Cr(this.i,this.h)};function Cr(u,g){xt.call(this),this.H=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Cr,xt),s=Cr.prototype,s.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=g,this.readyState=1,ii(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const g={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(g.body=u),(this.H||f).fetch(new Request(this.D,g)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.B.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?Rs(this):ii(this),this.readyState==3&&wa(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,Rs(this))},s.Na=function(u){this.g&&(this.response=u,Rs(this))},s.ga=function(){this.g&&Rs(this)};function Rs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}s.setRequestHeader=function(u,g){this.A.append(u,g)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var b=g.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=g.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function jn(u){let g="";return ke(u,function(b,x){g+=x,g+=":",g+=b,g+=`\r
`}),g}function kr(u,g,b){e:{for(x in b){var x=!1;break e}x=!0}x||(b=jn(b),typeof u=="string"?b!=null&&$i(b):We(u,g,b))}function nt(u){xt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(nt,xt);var Ii=/^https?$/i,Qo=["POST","PUT"];s=nt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,g,b,x){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Po.g(),this.g.onreadystatechange=S(_(this.Ca,this));try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(F){Dr(this,F);return}if(u=b||"",b=new Map(this.headers),x)if(Object.getPrototypeOf(x)===Object.prototype)for(var P in x)b.set(P,x[P]);else if(typeof x.keys=="function"&&typeof x.get=="function")for(const F of x.keys())b.set(F,x.get(F));else throw Error("Unknown input type for opt_headers: "+String(x));x=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Qo,g,void 0)>=0)||x||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of b)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Dr(this,F)}};function Dr(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.o=5,Yo(u),Qi(u)}function Yo(u){u.A||(u.A=!0,jt(u,"complete"),jt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,jt(this,"complete"),jt(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),nt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(jt(u,"readystatechange"),si(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var b;if(!(b=g)){var x;if(x=F===0){let ie=String(u.D).match(Ic)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),x=!Ii.test(ie?ie.toLowerCase():"")}b=x}if(b)jt(u,"complete"),jt(u,"success");else{u.o=6;try{var P=si(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Yo(u)}}finally{Qi(u)}}}}function Qi(u,g){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,g||jt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),uf(g)}};function Ht(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yi(u){const g={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let x=0;x<u.length;x++){if(R(u[x]))continue;var b=Sc(u[x]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=g[P]||[];g[P]=F,F.push(b)}Ke(g,function(x){return x.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(u,g,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||g}function Ns(u){this.za=0,this.i=[],this.j=new Zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,u),this.Za=Ci("retryDelaySeedMs",1e4,u),this.Ta=Ci("forwardChannelMaxRetries",2,u),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Uo(u&&u.concurrentRequestLimit),this.Ba=new Ss,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ns.prototype,s.ka=8,s.I=1,s.connect=function(u,g,b,x){wt(0),this.W=u,this.H=g||{},b&&x!==void 0&&(this.H.OSID=b,this.H.OAID=x),this.F=this.X,this.J=zc(this,null,this.W),ki(this)};function Xo(u){if(Aa(u),u.I==3){var g=u.V++,b=Rt(u.J);if(We(b,"SID",u.M),We(b,"RID",g),We(b,"TYPE","terminate"),Mr(u,b),g=new ei(u,u.j,g),g.M=2,g.A=Nr(Rt(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(g.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=g.A,b=!0),b||(g.g=Bc(g.j,null),g.g.ea(g.A)),g.F=Date.now(),Ti(g)}Lc(u)}function Is(u){u.g&&(Wo(u),u.g.cancel(),u.g=null)}function Aa(u){Is(u),u.v&&(f.clearTimeout(u.v),u.v=null),Ra(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function ki(u){if(!Lo(u.h)&&!u.m){u.m=!0;var g=u.Ea;ce||A(),me||(ce(),me=!0),N.add(g,u),u.D=0}}function Sa(u,g){return Ai(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=g.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,g),Uc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new ei(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),re(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)e:{for(var g=0,b=0;b<this.i.length;b++){t:{var x=this.i[b];if("__data__"in x.map&&(x=x.map.__data__,typeof x=="string")){x=x.length;break t}x=void 0}if(x===void 0)break;if(g+=x,g>4096){g=b;break e}if(g===4096||b===this.i.length-1){g=b+1;break e}}g=1e3}else g=1e3;g=Mc(this,P,g),b=Rt(this.J),We(b,"RID",u),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),Mr(this,b),F&&(this.R?g="headers="+$i(jn(F))+"&"+g:this.u&&kr(b,this.u,F)),zo(this.h,P),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",g),We(b,"SID","null"),P.U=!0,Ei(P,b,null)):Ei(P,b,g),this.I=2}}else this.I==3&&(u?Jo(this,u):this.i.length==0||Lo(this.h)||Jo(this))};function Jo(u,g){var b;g?b=g.l:b=u.V++;const x=Rt(u.J);We(x,"SID",u.M),We(x,"RID",b),We(x,"AID",u.K),Mr(u,x),u.u&&u.o&&kr(x,u.u,u.o),b=new ei(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),g&&(u.i=g.G.concat(u.i)),g=Mc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zo(u.h,b),Ei(b,x,g)}function Mr(u,g){u.H&&ke(u.H,function(b,x){We(g,x,b)}),u.l&&ke({},function(b,x){We(g,x,b)})}function Mc(u,g,b){b=Math.min(u.i.length,b);const x=u.l?_(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const vt=["count="+b];Ne==-1?b>0?(Ne=P[0].g,vt.push("ofs="+Ne)):Ne=0:vt.push("ofs="+Ne);let Ye=!0;for(let ht=0;ht<b;ht++){var F=P[ht].g;const Pn=P[ht].map;if(F-=Ne,F<0)Ne=Math.max(0,P[ht].g-100),Ye=!1;else try{F="req"+F+"_"||"";try{var ie=Pn instanceof Map?Pn:Object.entries(Pn);for(const[Oi,ri]of ie){let ai=ri;m(ri)&&(ai=Es(ri)),vt.push(F+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw vt.push(F+"type="+encodeURIComponent("_badmap")),Oi}}catch{x&&x(Pn)}}if(Ye){ie=vt.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),g.G=u,ie}function Vc(u){if(!u.g&&!u.v){u.Y=1;var g=u.Da;ce||A(),me||(ce(),me=!0),N.add(g,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),Uc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Is(this),jc(this))};function Wo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function jc(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var g=Rt(u.na);We(g,"RID","rpc"),We(g,"SID",u.M),We(g,"AID",u.K),We(g,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(g,"TO",u.ia),We(g,"TYPE","xmlhttp"),Mr(u,g),u.u&&u.o&&kr(g,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Nr(Rt(g)),b.u=null,b.R=!0,_a(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Is(this),Vr(this),wt(19))};function Ra(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Pc(u,g){var b=null;if(u.g==g){Ra(u),Wo(u),u.g=null;var x=2}else if(Si(u.h,g))b=g.G,Bo(u.h,g),x=1;else return;if(u.I!=0){if(g.o)if(x==1){b=g.u?g.u.length:0,g=Date.now()-g.F;var P=u.D;x=ya(),jt(x,new _i(x,b)),ki(u)}else Vc(u);else if(P=g.m,P==3||P==0&&g.X>0||!(x==1&&Sa(u,g)||x==2&&Vr(u)))switch(b&&b.length>0&&(g=u.h,g.i=g.i.concat(b)),P){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Uc(u,g){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*g}function Di(u,g){if(u.j.info("Error code "+g),g==2){var b=_(u.bb,u),x=u.Ua;const P=!x;x=new Tn(x||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||zt(x,"https"),Nr(x),P?ni(x.toString(),b):$o(x.toString(),b)}else wt(2);u.I=0,u.l&&u.l.pa(g),Lc(u),Aa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Lc(u){if(u.I=0,u.ja=[],u.l){const g=qo(u.h);(g.length!=0||u.i.length!=0)&&(W(u.ja,g),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function zc(u,g,b){var x=b instanceof Tn?Rt(b):new Tn(b);if(x.g!="")g&&(x.g=g+"."+x.g),Ts(x,x.u);else{var P=f.location;x=P.protocol,g=g?g+"."+P.hostname:P.hostname,P=+P.port;const F=new Tn(null);x&&zt(F,x),g&&(F.g=g),P&&Ts(F,P),b&&(F.h=b),x=F}return b=u.G,g=u.wa,b&&g&&We(x,b,g),We(x,"VER",u.ka),Mr(u,x),x}function Bc(u,g,b){if(g&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Aa&&!u.ma?new nt(new Ni({ab:b})):new nt(u.ma),g.Fa(u.L),g}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}s=qc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,g){return new rn(u,g)};function rn(u,g){xt.call(this),this.g=new Ns(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.sa&&(u?u["X-WebChannel-Client-Profile"]=g.sa:u={"X-WebChannel-Client-Profile":g.sa}),this.g.U=u,(u=g&&g.Qb)&&!R(u)&&(this.g.u=u),this.A=g&&g.supportsCrossDomainXhr||!1,this.v=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!R(g)&&(this.g.G=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new Xi(this)}w(rn,xt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Xo(this.g)},rn.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=Es(u),u=b);g.i.push(new St(g.Ya++,u)),g.I==3&&ki(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,rn.Z.N.call(this)};function Fc(u){Ft.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const b in g){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}w(Fc,Ft);function Hc(){On.call(this),this.status=1}w(Hc,On);function Xi(u){this.g=u}w(Xi,qc),Xi.prototype.ra=function(){jt(this.g,"a")},Xi.prototype.qa=function(u){jt(this.g,new Fc(u))},Xi.prototype.pa=function(u){jt(this.g,new Hc)},Xi.prototype.oa=function(){jt(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,nE=function(){return new Cs},tE=function(){return ya()},eE=_t,Lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sr.NO_ERROR=0,Sr.TIMEOUT=8,Sr.HTTP_ERROR=6,nh=Sr,jo.COMPLETE="complete",Z1=jo,Tc.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",xt.prototype.listen=xt.prototype.J,zl=Tc,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa,W1=nt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="12.9.0";function hC(s){So=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Lh("@firebase/firestore");function so(){return ra.logLevel}function le(s,...e){if(ra.logLevel<=Ue.DEBUG){const n=e.map(wp);ra.debug(`Firestore (${So}): ${s}`,...n)}}function ps(s,...e){if(ra.logLevel<=Ue.ERROR){const n=e.map(wp);ra.error(`Firestore (${So}): ${s}`,...n)}}function aa(s,...e){if(ra.logLevel<=Ue.WARN){const n=e.map(wp);ra.warn(`Firestore (${So}): ${s}`,...n)}}function wp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iE(s,r,n)}function iE(s,e,n){let r=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Je(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||iE(e,o,r)}function Re(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Jn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class dC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const o=y=>this.i!==r?(r=this.i,n(y)):Promise.resolve();let c=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ta,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const y=c;e.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},m=y=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((y=>m(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ta)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new sE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class pC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class gC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new pC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Iv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Iv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=_C(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Le(s,e){return s<e?-1:s>e?1:0}function zm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return xm(o)===xm(c)?Le(o,c):xm(o)?1:-1}return Le(s.length,e.length)}const vC=55296,bC=57343;function xm(s){const e=s.charCodeAt(0);return e>=vC&&e<=bC}function _o(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class Ui{constructor(e,n,r){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Te(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ui.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ui?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Ui.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const r=Ui.isNumericId(e),o=Ui.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(e).compare(Ui.extractNumericId(n)):zm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return lr.fromString(e.substring(4,e.length-2))}}class ot extends Ui{construct(e,n,r){return new ot(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new ot(n)}static emptyPath(){return new ot([])}}const EC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Ui{construct(e,n,r){return new Xt(e,n,r)}static isValidIdentifier(e){return EC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Xt([Cv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ot.fromString(e))}static fromName(e){return new _e(ot.fromString(e).popFirst(5))}static empty(){return new _e(ot.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ot.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ot.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ot(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(s,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function TC(s,e,n,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function kv(s){if(!_e.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Dv(s){if(_e.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function aE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Fh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":Te(12329,{type:typeof s})}function cr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Fh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(s,e){const n={typeString:s};return e&&(n.value=e),n}function uc(s,e){if(!aE(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new oe(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Mv=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mv);return new ut(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Mt("string",ut._jsonSchemaVersion),seconds:Mt("number"),nanoseconds:Mt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new ut(0,0))}static max(){return new we(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=-1;function xC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=we.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new dr(o,_e.empty(),e)}function wC(s){return new dr(s.readTime,s.key,Zl)}class dr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new dr(we.min(),_e.empty(),Zl)}static max(){return new dr(we.max(),_e.empty(),Zl)}}function AC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==SC)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(y=>r(y)))})),f=!0,c===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let y=0;y<c;y++){const _=y;n(e[_]).next((T=>{f[_]=T,++m,m===c&&r(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new J(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function NC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function No(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Hh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp=-1;function Gh(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function IC(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="";function CC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Vv(e)),e=kC(s.get(n),e);return Vv(e)}function kC(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case oE:n+="";break;default:n+=c}}return n}function Vv(s){return s+oE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function br(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function lE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new pt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new pt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=o??Yt.EMPTY,this.right=c??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new Yt(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Yt.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Ut)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Ut(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new Cn([])}unionWith(e){let n=new Ut(Xt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Cn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new cE("Invalid base64 string: "+c):c}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const DC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const n=DC.exec(s);if(Je(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Tt(s.seconds),nanos:Tt(s.nanos)}}function Tt(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function pr(s){return typeof s=="string"?Jt.fromBase64String(s):Jt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="server_timestamp",hE="__type__",fE="__previous_value__",dE="__local_write_time__";function Rp(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[hE])==null?void 0:r.stringValue)===uE}function Kh(s){const e=s.mapValue.fields[fE];return Rp(e)?Kh(e):e}function ec(s){const e=mr(s.mapValue.fields[dE].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n,r,o,c,f,m,y,_,T,w){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=T,this.apiKey=w}}const bh="(default)";class tc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new tc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof tc&&e.projectId===this.projectId&&e.database===this.database}}function MC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tc(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="__type__",VC="__max__",Ju={mapValue:{}},pE="__vector__",Eh="value";function gr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Rp(s)?4:PC(s)?9007199254740991:jC(s)?10:11:Te(28295,{value:s})}function Gi(s,e){if(s===e)return!0;const n=gr(s);if(n!==gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return ec(s).isEqual(ec(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=mr(o.timestampValue),m=mr(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return pr(o.bytesValue).isEqual(pr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Tt(o.geoPointValue.latitude)===Tt(c.geoPointValue.latitude)&&Tt(o.geoPointValue.longitude)===Tt(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Tt(o.integerValue)===Tt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Tt(o.doubleValue),m=Tt(c.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return _o(s.arrayValue.values||[],e.arrayValue.values||[],Gi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(jv(f)!==jv(m))return!1;for(const y in f)if(f.hasOwnProperty(y)&&(m[y]===void 0||!Gi(f[y],m[y])))return!1;return!0})(s,e);default:return Te(52216,{left:s})}}function nc(s,e){return(s.values||[]).find((n=>Gi(n,e)))!==void 0}function vo(s,e){if(s===e)return 0;const n=gr(s),r=gr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=Tt(c.integerValue||c.doubleValue),y=Tt(f.integerValue||f.doubleValue);return m<y?-1:m>y?1:m===y?0:isNaN(m)?isNaN(y)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(ec(s),ec(e));case 5:return zm(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=pr(c),y=pr(f);return m.compareTo(y)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),y=f.split("/");for(let _=0;_<m.length&&_<y.length;_++){const T=Le(m[_],y[_]);if(T!==0)return T}return Le(m.length,y.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Le(Tt(c.latitude),Tt(f.latitude));return m!==0?m:Le(Tt(c.longitude),Tt(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Lv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){var S,G,W,te;const m=c.fields||{},y=f.fields||{},_=(S=m[Eh])==null?void 0:S.arrayValue,T=(G=y[Eh])==null?void 0:G.arrayValue,w=Le(((W=_==null?void 0:_.values)==null?void 0:W.length)||0,((te=T==null?void 0:T.values)==null?void 0:te.length)||0);return w!==0?w:Lv(_,T)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Ju.mapValue&&f===Ju.mapValue)return 0;if(c===Ju.mapValue)return 1;if(f===Ju.mapValue)return-1;const m=c.fields||{},y=Object.keys(m),_=f.fields||{},T=Object.keys(_);y.sort(),T.sort();for(let w=0;w<y.length&&w<T.length;++w){const S=zm(y[w],T[w]);if(S!==0)return S;const G=vo(m[y[w]],_[T[w]]);if(G!==0)return G}return Le(y.length,T.length)})(s.mapValue,e.mapValue);default:throw Te(23264,{he:n})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=mr(s),r=mr(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function Lv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=vo(n[o],r[o]);if(c)return c}return Le(n.length,r.length)}function bo(s){return Bm(s)}function Bm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=mr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return pr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return _e.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=Bm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${Bm(n.fields[f])}`;return o+"}"})(s.mapValue):Te(61005,{value:s})}function ih(s){switch(gr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Kh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return pr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return br(r.fields,((c,f)=>{o+=c.length+ih(f)})),o})(s.mapValue);default:throw Te(13486,{value:s})}}function zv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function qm(s){return!!s&&"integerValue"in s}function Np(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function jC(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[mE])==null?void 0:r.stringValue)===pE}function Kl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return br(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Kl(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Kl(s.arrayValue.values[n]);return e}return{...s}}function PC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===VC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(n)}setAll(e){let n=Xt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const y=this.getFieldsMap(n);this.applyChanges(y,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Kl(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){br(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new _n(Kl(this.value))}}function gE(s){const e=[];return br(s.fields,((n,r)=>{const o=new Xt([n]);if(sh(r)){const c=gE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Cn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,r,o){return new tn(e,1,n,we.min(),r,o,0)}static newNoDocument(e,n){return new tn(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=_e.comparator(_e.fromName(f.referenceValue),n.key):r=vo(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Gi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n="asc"){this.field=e,this.dir=n}}function UC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{}class Ot extends yE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new zC(e,n,r):n==="array-contains"?new FC(e,r):n==="in"?new HC(e,r):n==="not-in"?new GC(e,r):n==="array-contains-any"?new KC(e,r):new Ot(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new BC(e,r):new qC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(vo(n,this.value)):n!==null&&gr(this.value)===gr(n)&&this.matchesComparison(vo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends yE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new pi(e,n)}matches(e){return _E(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _E(s){return s.op==="and"}function vE(s){return LC(s)&&_E(s)}function LC(s){for(const e of s.filters)if(e instanceof pi)return!1;return!0}function Fm(s){if(s instanceof Ot)return s.field.canonicalString()+s.op.toString()+bo(s.value);if(vE(s))return s.filters.map((e=>Fm(e))).join(",");{const e=s.filters.map((n=>Fm(n))).join(",");return`${s.op}(${e})`}}function bE(s,e){return s instanceof Ot?(function(r,o){return o instanceof Ot&&r.op===o.op&&r.field.isEqual(o.field)&&Gi(r.value,o.value)})(s,e):s instanceof pi?(function(r,o){return o instanceof pi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&bE(f,o.filters[m])),!0):!1})(s,e):void Te(19439)}function EE(s){return s instanceof Ot?(function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`})(s):s instanceof pi?(function(n){return n.op.toString()+" {"+n.getFilters().map(EE).join(" ,")+"}"})(s):"Filter"}class zC extends Ot{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class BC extends Ot{constructor(e,n){super(e,"in",n),this.keys=TE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class qC extends Ot{constructor(e,n){super(e,"not-in",n),this.keys=TE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class FC extends Ot{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Np(n)&&nc(n.arrayValue,this.value)}}class HC extends Ot{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}}class GC extends Ot{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nc(this.value.arrayValue,n)}}class KC extends Ot{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Np(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>nc(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Gv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new $C(s,e,n,r,o,c,f)}function Ip(s){const e=Re(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>Fm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>bo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>bo(r))).join(",")),e.Te=n}return e.Te}function Cp(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!UC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!bE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Hv(s.startAt,e.startAt)&&Hv(s.endAt,e.endAt)}function Hm(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=y,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QC(s,e,n,r,o,c,f,m){return new Io(s,e,n,r,o,c,f,m)}function kp(s){return new Io(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function YC(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function xE(s){return s.collectionGroup!==null}function $l(s){const e=Re(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ut(Xt.comparator);return f.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(m=m.add(_.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new ic(c,r))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new ic(Xt.keyField(),r))}return e.Ie}function Li(s){const e=Re(s);return e.Ee||(e.Ee=XC(e,$l(s))),e.Ee}function XC(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ic(o.field,c)}));const n=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Gm(s,e){const n=s.filters.concat([e]);return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function JC(s,e){const n=s.explicitOrderBy.concat([e]);return new Io(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Km(s,e,n){return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function $h(s,e){return Cp(Li(s),Li(e))&&s.limitType===e.limitType}function wE(s){return`${Ip(Li(s))}|lt:${s.limitType}`}function ro(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>EE(o))).join(", ")}]`),Gh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>bo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>bo(o))).join(",")),`Target(${r})`})(Li(s))}; limitType=${s.limitType})`}function Qh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):_e.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of $l(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,y){const _=Fv(f,m,y);return f.inclusive?_<=0:_<0})(r.startAt,$l(r),o)||r.endAt&&!(function(f,m,y){const _=Fv(f,m,y);return f.inclusive?_>=0:_>0})(r.endAt,$l(r),o))})(s,e)}function WC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function AE(s){return(e,n)=>{let r=!1;for(const o of $l(s)){const c=ZC(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function ZC(s,e,n){const r=s.field.isKeyField()?_e.comparator(e.key,n.key):(function(c,f,m){const y=f.data.field(c),_=m.data.field(c);return y!==null&&_!==null?vo(y,_):Te(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return Te(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){br(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4=new pt(_e.comparator);function gs(){return e4}const SE=new pt(_e.comparator);function Bl(...s){let e=SE;for(const n of s)e=e.insert(n.key,n);return e}function RE(s){let e=SE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function ea(){return Ql()}function NE(){return Ql()}function Ql(){return new da((s=>s.toString()),((s,e)=>s.isEqual(e)))}const t4=new pt(_e.comparator),n4=new Ut(_e.comparator);function ze(...s){let e=n4;for(const n of s)e=e.add(n);return e}const i4=new Ut(Le);function s4(){return i4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function IE(s){return{integerValue:""+s}}function r4(s,e){return IC(e)?IE(e):Dp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(){this._=void 0}}function a4(s,e,n){return s instanceof xh?(function(o,c){const f={fields:{[hE]:{stringValue:uE},[dE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Rp(c)&&(c=Kh(c)),c&&(f.fields[fE]=c),{mapValue:f}})(n,e):s instanceof sc?kE(s,e):s instanceof rc?DE(s,e):(function(o,c){const f=CE(o,c),m=$v(f)+$v(o.Ae);return qm(f)&&qm(o.Ae)?IE(m):Dp(o.serializer,m)})(s,e)}function o4(s,e,n){return s instanceof sc?kE(s,e):s instanceof rc?DE(s,e):n}function CE(s,e){return s instanceof wh?(function(r){return qm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class xh extends Yh{}class sc extends Yh{constructor(e){super(),this.elements=e}}function kE(s,e){const n=OE(e);for(const r of s.elements)n.some((o=>Gi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class rc extends Yh{constructor(e){super(),this.elements=e}}function DE(s,e){let n=OE(e);for(const r of s.elements)n=n.filter((o=>!Gi(o,r)));return{arrayValue:{values:n}}}class wh extends Yh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function $v(s){return Tt(s.integerValue||s.doubleValue)}function OE(s){return Np(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function l4(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof sc&&o instanceof sc||r instanceof rc&&o instanceof rc?_o(r.elements,o.elements,Gi):r instanceof wh&&o instanceof wh?Gi(r.Ae,o.Ae):r instanceof xh&&o instanceof xh})(s.transform,e.transform)}class c4{constructor(e,n){this.version=e,this.transformResults=n}}class fi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fi}static exists(e){return new fi(void 0,e)}static updateTime(e){return new fi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Xh{}function ME(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Op(s.key,fi.none()):new hc(s.key,s.data,fi.none());{const n=s.data,r=_n.empty();let o=new Ut(Xt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new Er(s.key,r,new Cn(o.toArray()),fi.none())}}function u4(s,e,n){s instanceof hc?(function(o,c,f){const m=o.value.clone(),y=Yv(o.fieldTransforms,c,f.transformResults);m.setAll(y),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof Er?(function(o,c,f){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,c,f.transformResults),y=c.data;y.setAll(VE(o)),y.setAll(m),c.convertToFoundDocument(f.version,y).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Yl(s,e,n,r){return s instanceof hc?(function(c,f,m,y){if(!rh(c.precondition,f))return m;const _=c.value.clone(),T=Xv(c.fieldTransforms,y,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,e,n,r):s instanceof Er?(function(c,f,m,y){if(!rh(c.precondition,f))return m;const _=Xv(c.fieldTransforms,y,f),T=f.data;return T.setAll(VE(c)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(s,e,n,r):(function(c,f,m){return rh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function h4(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=CE(r.transform,o||null);c!=null&&(n===null&&(n=_n.empty()),n.set(r.field,c))}return n||null}function Qv(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&_o(r,o,((c,f)=>l4(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hc extends Xh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends Xh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Yv(s,e,n){const r=new Map;Je(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,o4(f,m,n[o]))}return r}function Xv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,a4(c,f,e))}return r}class Op extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class f4 extends Xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&u4(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=NE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const y=ME(f,m);y!==null&&r.set(o.key,y),f.isValidDocument()||f.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,((n,r)=>Qv(n,r)))&&_o(this.baseMutations,e.baseMutations,((n,r)=>Qv(n,r)))}}class Mp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return t4})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Mp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Fe;function g4(s){switch(s){case X.OK:return Te(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return Te(15467,{code:s})}}function jE(s){if(s===void 0)return ps("GRPC error has no .code"),X.UNKNOWN;switch(s){case Dt.OK:return X.OK;case Dt.CANCELLED:return X.CANCELLED;case Dt.UNKNOWN:return X.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return X.INTERNAL;case Dt.UNAVAILABLE:return X.UNAVAILABLE;case Dt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Dt.NOT_FOUND:return X.NOT_FOUND;case Dt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Dt.ABORTED:return X.ABORTED;case Dt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Dt.DATA_LOSS:return X.DATA_LOSS;default:return Te(39323,{code:s})}}(Fe=Dt||(Dt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _4=new lr([4294967295,4294967295],0);function Jv(s){const e=y4().encode(s),n=new J1;return n.update(e),new Uint8Array(n.digest())}function Wv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new lr([n,r],0),new lr([o,c],0)]}class Vp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ql(`Invalid padding: ${n}`);if(r<0)throw new ql(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ql(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ql(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=lr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(lr.fromNumber(r)));return o.compare(_4)===1&&(o=new lr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jv(e),[r,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Vp(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Jv(e),[r,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Jh(we.min(),o,new pt(Le),gs(),ze())}}class fc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fc(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class PE{constructor(e,n){this.targetId=e,this.Ce=n}}class UE{constructor(e,n,r=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=eb(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:Te(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=eb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class v4{constructor(e){this.Ge=e,this.ze=new Map,this.je=gs(),this.He=Wu(),this.Je=Wu(),this.Ze=new pt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Te(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Hm(c))if(r===0){const f=new _e(c.path);this.et(n,f,tn.newNoDocument(f,we.min()))}else Je(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),y=m?this.ct(m,e,f):1;if(y!==0){this.it(n);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,_)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=pr(r).toUint8Array()}catch(y){if(y instanceof cE)return aa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{m=new Vp(f,o,c)}catch(y){return aa(y instanceof ql?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Hm(m.target)){const y=new _e(m.target.path);this.It(y).has(f)||this.Et(f,y)||this.et(f,y,tn.newNoDocument(y,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=ze();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Jh(e,n,this.Ze,this.je,r);return this.je=gs(),this.He=Wu(),this.Je=Wu(),this.Ze=new pt(Le),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Ut(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Ut(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new pt(_e.comparator)}function eb(){return new pt(_e.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},E4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},T4={and:"AND",or:"OR"};class x4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(s,e){return s.useProto3Json||Gh(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function w4(s,e){return Ah(s,e.toTimestamp())}function zi(s){return Je(!!s,49232),we.fromTimestamp((function(n){const r=mr(n);return new ut(r.seconds,r.nanos)})(s))}function jp(s,e){return Qm(s,e).canonicalString()}function Qm(s,e){const n=(function(o){return new ot(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function zE(s){const e=ot.fromString(s);return Je(GE(e),10190,{key:e.toString()}),e}function Ym(s,e){return jp(s.databaseId,e.path)}function wm(s,e){const n=zE(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new _e(qE(n))}function BE(s,e){return jp(s.databaseId,e)}function A4(s){const e=zE(s);return e.length===4?ot.emptyPath():qE(e)}function Xm(s){return new ot(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function qE(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tb(s,e,n){return{name:Ym(s,e),fields:n.value.mapValue.fields}}function S4(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te(39313,{state:_})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(_,T){return _.useProto3Json?(Je(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(_){const T=_.code===void 0?X.UNKNOWN:jE(_.code);return new oe(T,_.message||"")})(f);n=new UE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=wm(s,r.document.name),c=zi(r.document.updateTime),f=r.document.createTime?zi(r.document.createTime):we.min(),m=new _n({mapValue:{fields:r.document.fields}}),y=tn.newFoundDocument(o,c,f,m),_=r.targetIds||[],T=r.removedTargetIds||[];n=new ah(_,T,y.key,y)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=wm(s,r.document),c=r.readTime?zi(r.readTime):we.min(),f=tn.newNoDocument(o,c),m=r.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=wm(s,r.document),c=r.removedTargetIds||[];n=new ah([],c,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new p4(o,c),m=r.targetId;n=new PE(m,f)}}return n}function R4(s,e){let n;if(e instanceof hc)n={update:tb(s,e.key,e.value)};else if(e instanceof Op)n={delete:Ym(s,e.key)};else if(e instanceof Er)n={update:tb(s,e.key,e.data),updateMask:j4(e.fieldMask)};else{if(!(e instanceof f4))return Te(16599,{dt:e.type});n={verify:Ym(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof xh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof sc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof rc)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof wh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw Te(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:w4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Te(27497)})(s,e.precondition)),n}function N4(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?zi(o.updateTime):zi(c);return f.isEqual(we.min())&&(f=zi(c)),new c4(f,o.transformResults||[])})(n,e)))):[]}function I4(s,e){return{documents:[BE(s,e.path)]}}function C4(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=BE(s,o);const c=(function(_){if(_.length!==0)return HE(pi.create(_,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(_){if(_.length!==0)return _.map((T=>(function(S){return{field:ao(S.field),direction:O4(S.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(e.endAt)),{ft:n,parent:o}}function k4(s){let e=A4(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Je(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(w){const S=FE(w);return S instanceof pi&&vE(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(w){return w.map((S=>(function(W){return new ic(oo(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(w){let S;return S=typeof w=="object"?w.value:w,Gh(S)?null:S})(n.limit));let y=null;n.startAt&&(y=(function(w){const S=!!w.before,G=w.values||[];return new Th(G,S)})(n.startAt));let _=null;return n.endAt&&(_=(function(w){const S=!w.before,G=w.values||[];return new Th(G,S)})(n.endAt)),QC(e,o,f,c,m,"F",y,_)}function D4(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function FE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return Ot.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=oo(n.unaryFilter.field);return Ot.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=oo(n.unaryFilter.field);return Ot.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=oo(n.unaryFilter.field);return Ot.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Ot.create(oo(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return pi.create(n.compositeFilter.filters.map((r=>FE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}})(n.compositeFilter.op))})(s):Te(30097,{filter:s})}function O4(s){return b4[s]}function M4(s){return E4[s]}function V4(s){return T4[s]}function ao(s){return{fieldPath:s.canonicalString()}}function oo(s){return Xt.fromServerFormat(s.fieldPath)}function HE(s){return s instanceof Ot?(function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:ao(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ao(n.field),op:M4(n.op),value:n.value}}})(s):s instanceof pi?(function(n){const r=n.getFilters().map((o=>HE(o)));return r.length===1?r[0]:{compositeFilter:{op:V4(n.op),filters:r}}})(s):Te(54877,{filter:s})}function j4(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function GE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function KE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n,r,o,c=we.min(),f=we.min(),m=Jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=y}withSequenceNumber(e){return new rr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new rr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P4{constructor(e){this.yt=e}}function U4(s){const e=k4({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L4{constructor(){this.Sn=new z4}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(dr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class z4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Ut(ot.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ut(ot.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$E=41943040;class yn{static withCacheSize(e){return new yn(e,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yn.DEFAULT_COLLECTION_PERCENTILE=10,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yn.DEFAULT=new yn($E,yn.DEFAULT_COLLECTION_PERCENTILE,yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yn.DISABLED=new yn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Eo(0)}static ar(){return new Eo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",B4=1048576;function sb([s,e],[n,r]){const o=Le(s,n);return o===0?Le(e,r):o}class q4{constructor(e){this.Pr=e,this.buffer=new Ut(sb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class F4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){No(n)?le(ib,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.Ar(3e5)}))}}class H4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Hh.ce);const r=new q4(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(nb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,y,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,f=Date.now(),this.nthSequenceNumber(e,o)))).next((w=>(r=w,m=Date.now(),this.removeTargets(e,r,n)))).next((w=>(c=w,y=Date.now(),this.removeOrphanedDocuments(e,r)))).next((w=>(_=Date.now(),so()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(y-m)+`ms
	Removed ${w} documents in `+(_-y)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:w}))))}}function G4(s,e){return new H4(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(){this.changes=new da((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Yl(r.mutation,o,Cn.empty(),ut.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=ea();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=Bl();return c.forEach(((m,y)=>{f=f.insert(m,y.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=ea();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=gs();const f=Ql(),m=(function(){return Ql()})();return n.forEach(((y,_)=>{const T=r.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Er)?c=c.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Yl(T.mutation,_,T.mutation.getFieldMask(),ut.now())):f.set(_.key,Cn.empty())})),this.recalculateAndSaveOverlays(e,c).next((y=>(y.forEach(((_,T)=>f.set(_,T))),n.forEach(((_,T)=>m.set(_,new $4(T,f.get(_)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Ql();let o=new pt(((f,m)=>f-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((y=>{const _=n.get(y);if(_===null)return;let T=r.get(y)||Cn.empty();T=m.applyToLocalView(_,T),r.set(y,T);const w=(o.get(m.batchId)||ze()).add(y);o=o.insert(m.batchId,w)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const y=m.getNext(),_=y.key,T=y.value,w=NE();T.forEach((S=>{if(!c.has(S)){const G=ME(n.get(S),r.get(S));G!==null&&w.set(S,G),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,_,w))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return YC(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):J.resolve(ea());let m=Zl,y=c;return f.next((_=>J.forEach(_,((T,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{y=y.insert(T,S)}))))).next((()=>this.populateOverlays(e,_,c))).next((()=>this.computeViews(e,y,_,ze()))).next((T=>({batchId:m,changes:RE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let o=Bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=Bl();return this.indexManager.getCollectionParents(e,c).next((m=>J.forEach(m,(y=>{const _=(function(w,S){return new Io(S,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(n,y.child(c));return this.getDocumentsMatchingCollectionQuery(e,_,r,o).next((T=>{T.forEach(((w,S)=>{f=f.insert(w,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((y,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))}));let m=Bl();return f.forEach(((y,_)=>{const T=c.get(y);T!==void 0&&Yl(T.mutation,_,Cn.empty(),ut.now()),Qh(n,_)&&(m=m.insert(y,_))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:zi(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:U4(o.bundledQuery),readTime:zi(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.overlays=new pt(_e.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ea();return J.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=ea(),c=n.length+1,f=new _e(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const y=m.getNext().value,_=y.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new pt(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=c.get(_.largestBatchId);T===null&&(T=ea(),c=c.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=ea(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,T)=>m.set(_,T))),!(m.size()>=o)););return J.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new m4(n,r));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.kr=new Ut(qt.Kr),this.qr=new Ut(qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new qt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new qt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new _e(new ot([])),r=new qt(n,e),o=new qt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new _e(new ot([])),r=new qt(n,e),o=new qt(n,e+1);let c=ze();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new qt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class qt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return _e.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Ut(qt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new d4(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new qt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Sp:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ut(Le);return n.forEach((o=>{const c=new qt(o,0),f=new qt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;_e.isDocumentKey(c)||(c=c.child(""));const f=new qt(new _e(c),0);let m=new Ut(Le);return this.Jr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(m=m.add(y.Hr)),!0)}),f),J.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const c=new qt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new qt(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z4{constructor(e){this.ti=e,this.docs=(function(){return new pt(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let r=gs();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():tn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=gs();const f=n.path,m=new _e(f.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(m);for(;y.hasNext();){const{key:_,value:{document:T}}=y.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||AC(wC(T),r)<=0||(o.has(T.key)||Qh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,r,o){Te(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new ek(this)}getSize(e){return J.resolve(this.size)}}class ek extends K4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e){this.persistence=e,this.ri=new da((n=>Ip(n)),Cp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Pp,this.targetCount=0,this.oi=Eo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Eo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this._i={},this.overlays={},this.ai=new Hh(0),this.ui=!1,this.ui=!0,this.ci=new J4,this.referenceDelegate=e(this),this.li=new tk(this),this.indexManager=new L4,this.remoteDocumentCache=(function(o){return new Z4(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new P4(n),this.Pi=new Y4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new W4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new nk(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class nk extends RC{constructor(e){super(),this.currentSequenceNumber=e}}class Up{constructor(e){this.persistence=e,this.Ri=new Pp,this.Ai=null}static Vi(e){return new Up(e)}get di(){if(this.Ai)return this.Ai;throw Te(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=_e.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,we.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.fi=new da((r=>CC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=G4(this,n)}static Vi(e,n){return new Sh(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,we.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Lp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return $2()?8:NC(nn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new ik;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(so()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(so()<=Ue.DEBUG&&le("QueryEngine","Query:",ro(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(so()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Li(n))):J.resolve())}gs(e,n){if(Kv(n))return J.resolve(null);let r=Li(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Km(n,null,"F"),r=Li(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ze(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((y=>{const _=this.bs(n,m);return this.Ss(n,_,f,y.readTime)?this.gs(e,Km(n,null,"F")):this.Ds(e,_,n,y)}))))})))))}ps(e,n,r,o){return Kv(n)||o.isEqual(we.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?J.resolve(null):(so()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.Ds(e,f,n,xC(o,Zl)).next((m=>m)))}))}bs(e,n){let r=new Ut(AE(e));return n.forEach(((o,c)=>{Qh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return so()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ro(n)),this.fs.getDocumentsMatchingQuery(e,n,dr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="LocalStore",rk=3e8;class ak{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new pt(Le),this.Fs=new da((c=>Ip(c)),Cp),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ok(s,e,n,r){return new ak(s,e,n,r)}async function YE(s,e){const n=Re(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let y=ze();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}for(const _ of c){m.push(_.batchId);for(const T of _.mutations)y=y.add(T.key)}return n.localDocuments.getDocuments(r,y).next((_=>({Ns:_,removedBatchIds:f,addedBatchIds:m})))}))}))}function lk(s,e){const n=Re(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,y,_,T){const w=_.batch,S=w.keys();let G=J.resolve();return S.forEach((W=>{G=G.next((()=>T.getEntry(y,W))).next((te=>{const ee=_.docVersions.get(W);Je(ee!==null,48541),te.version.compareTo(ee)<0&&(w.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),T.addEntry(te)))}))})),G.next((()=>m.mutationQueue.removeMutationBatch(y,w)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let y=ze();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(y=y.add(m.batch.mutations[_].key));return y})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function XE(s){const e=Re(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function ck(s,e){const n=Re(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,w)=>{const S=o.get(w);if(!S)return;m.push(n.li.removeMatchingKeys(c,T.removedDocuments,w).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,w))));let G=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(w)!==null?G=G.withResumeToken(Jt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,r)),o=o.insert(w,G),(function(te,ee,he){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=rk?!0:he.addedDocuments.size+he.modifiedDocuments.size+he.removedDocuments.size>0})(S,G,T)&&m.push(n.li.updateTargetData(c,G))}));let y=gs(),_=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(uk(c,f,e.documentUpdates).next((T=>{y=T.Bs,_=T.Ls}))),!r.isEqual(we.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((w=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(T)}return J.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(n.vs=o,c)))}function uk(s,e,n){let r=ze(),o=ze();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=gs();return n.forEach(((m,y)=>{const _=c.get(m);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),y.isNoDocument()&&y.version.isEqual(we.min())?(e.removeEntry(m,y.readTime),f=f.insert(m,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(y),f=f.insert(m,y)):le(zp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",y.version)})),{Bs:f,Ls:o}}))}function hk(s,e){const n=Re(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Sp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function fk(s,e){const n=Re(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new rr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Jm(s,e,n){const r=Re(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!No(f))throw f;le(zp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function rb(s,e,n){const r=Re(s);let o=we.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(y,_,T){const w=Re(y),S=w.Fs.get(T);return S!==void 0?J.resolve(w.vs.get(S)):w.li.getTargetData(_,T)})(r,f,Li(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((y=>{c=y}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?c:ze()))).next((m=>(dk(r,WC(e),m),{documents:m,ks:c})))))}function dk(s,e,n){let r=s.Ms.get(e)||we.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class ab{constructor(){this.activeTargetIds=s4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mk{constructor(){this.vo=new ab,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class lb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(ob,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Wm(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",gk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=Wm(),m=this.Qo(e,n.toUriEncodedString());le(Am,`Sending RPC '${e}' ${f}:`,m,r);const y={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(y,o,c);const{host:_}=new URL(m),T=ua(_);return this.zo(e,m,y,r,T).then((w=>(le(Am,`Received RPC '${e}' ${f}: `,w),w)),(w=>{throw aa(Am,`RPC '${e}' ${f} failed with error: `,w,"url: ",m,"request:",r),w}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+So})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=gk[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection",Pl=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class uo extends yk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!uo.c_){const e=tE();Pl(e,eE.STAT_EVENT,(n=>{n.stat===Lm.PROXY?le(Zt,"STAT_EVENT: detected buffering proxy"):n.stat===Lm.NOPROXY&&le(Zt,"STAT_EVENT: detected no buffering proxy")})),uo.c_=!0}}zo(e,n,r,o,c){const f=Wm();return new Promise(((m,y)=>{const _=new W1;_.setWithCredentials(!0),_.listenOnce(Z1.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case nh.NO_ERROR:const w=_.getResponseJson();le(Zt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(w)),m(w);break;case nh.TIMEOUT:le(Zt,`RPC '${e}' ${f} timed out`),y(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=_.getStatus();if(le(Zt,`RPC '${e}' ${f} failed with status:`,S,"response text:",_.getResponseText()),S>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G==null?void 0:G.error;if(W&&W.status&&W.message){const te=(function(he){const be=he.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(be)>=0?be:X.UNKNOWN})(W.status);y(new oe(te,W.message))}else y(new oe(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new oe(X.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{l_:e,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{le(Zt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);le(Zt,`RPC '${e}' ${f} sending request:`,o),_.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=Wm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(m.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const _=c.join("");le(Zt,`Creating RPC '${e}' stream ${o}: ${_}`,m);const T=f.createWebChannel(_,m);this.I_(T);let w=!1,S=!1;const G=new _k({Ho:W=>{S?le(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(w||(le(Zt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),le(Zt,`RPC '${e}' stream ${o} sending:`,W),T.send(W))},Jo:()=>T.close()});return Pl(T,zl.EventType.OPEN,(()=>{S||(le(Zt,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),Pl(T,zl.EventType.CLOSE,(()=>{S||(S=!0,le(Zt,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(T))})),Pl(T,zl.EventType.ERROR,(W=>{S||(S=!0,aa(Zt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),G.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Pl(T,zl.EventType.MESSAGE,(W=>{var te;if(!S){const ee=W.data[0];Je(!!ee,16349);const he=ee,be=(he==null?void 0:he.error)||((te=he[0])==null?void 0:te.error);if(be){le(Zt,`RPC '${e}' stream ${o} received error:`,be);const ge=be.status;let q=(function(N){const A=Dt[N];if(A!==void 0)return jE(A)})(ge),ce=be.message;ge==="NOT_FOUND"&&ce.includes("database")&&ce.includes("does not exist")&&ce.includes(this.databaseId.database)&&aa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),q===void 0&&(q=X.INTERNAL,ce="Unknown error status: "+ge+" with message "+be.message),S=!0,G.o_(new oe(q,ce)),T.close()}else le(Zt,`RPC '${e}' stream ${o} received:`,ee),G.__(ee)}})),uo.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return nE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(s){return new uo(s)}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s){return new x4(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */uo.c_=!1;class JE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="PersistentStream";class WE{constructor(e,n,r,o,c,f,m,y){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new JE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bk extends WE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=S4(this.serializer,e),r=(function(c){if(!("targetChange"in c))return we.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?zi(f.readTime):we.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Xm(this.serializer),n.addTarget=(function(c,f){let m;const y=f.target;if(m=Hm(y)?{documents:I4(c,y)}:{query:C4(c,y).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=LE(c,f.resumeToken);const _=$m(c,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=Ah(c,f.snapshotVersion.toTimestamp());const _=$m(c,f.expectedCount);_!==null&&(m.expectedCount=_)}return m})(this.serializer,e);const r=D4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Xm(this.serializer),n.removeTarget=e,this.K_(n)}}class Ek extends WE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=N4(e.writeResults,e.commitTime),r=zi(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Xm(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>R4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{}class xk extends Tk{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Qm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Qm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function wk(s,e,n,r){return new xk(s,e,n,r)}class Ak{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="RemoteStore";class Sk{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{ma(this)&&(le(oa,"Restarting streams for network reachability change."),await(async function(y){const _=Re(y);_.Ea.add(4),await dc(_),_.Va.set("Unknown"),_.Ea.delete(4),await Zh(_)})(this))}))})),this.Va=new Ak(r,o)}}async function Zh(s){if(ma(s))for(const e of s.Ra)await e(!0)}async function dc(s){for(const e of s.Ra)await e(!1)}function ZE(s,e){const n=Re(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Hp(n)?Fp(n):Co(n).O_()&&qp(n,e))}function Bp(s,e){const n=Re(s),r=Co(n);n.Ia.delete(e),r.O_()&&eT(n,e),n.Ia.size===0&&(r.O_()?r.L_():ma(n)&&n.Va.set("Unknown"))}function qp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(s).Z_(e)}function eT(s,e){s.da.$e(e),Co(s).X_(e)}function Fp(s){s.da=new v4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),Co(s).start(),s.Va.ua()}function Hp(s){return ma(s)&&!Co(s).x_()&&s.Ia.size>0}function ma(s){return Re(s).Ea.size===0}function tT(s){s.da=void 0}async function Rk(s){s.Va.set("Online")}async function Nk(s){s.Ia.forEach(((e,n)=>{qp(s,e)}))}async function Ik(s,e){tT(s),Hp(s)?(s.Va.ha(e),Fp(s)):s.Va.set("Unknown")}async function Ck(s,e,n){if(s.Va.set("Online"),e instanceof UE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){le(oa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(s,r)}else if(e instanceof ah?s.da.Xe(e):e instanceof PE?s.da.st(e):s.da.tt(e),!n.isEqual(we.min()))try{const r=await XE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const T=c.Ia.get(_);T&&c.Ia.set(_,T.withResumeToken(y.resumeToken,f))}})),m.targetMismatches.forEach(((y,_)=>{const T=c.Ia.get(y);if(!T)return;c.Ia.set(y,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),eT(c,y);const w=new rr(T.target,y,_,T.sequenceNumber);qp(c,w)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(oa,"Failed to raise snapshot:",r),await Rh(s,r)}}async function Rh(s,e,n){if(!No(e))throw e;s.Ea.add(1),await dc(s),s.Va.set("Offline"),n||(n=()=>XE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(oa,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Zh(s)}))}function nT(s,e){return e().catch((n=>Rh(s,n,e)))}async function ef(s){const e=Re(s),n=yr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sp;for(;kk(e);)try{const o=await hk(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,Dk(e,o)}catch(o){await Rh(e,o)}iT(e)&&sT(e)}function kk(s){return ma(s)&&s.Ta.length<10}function Dk(s,e){s.Ta.push(e);const n=yr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function iT(s){return ma(s)&&!yr(s).x_()&&s.Ta.length>0}function sT(s){yr(s).start()}async function Ok(s){yr(s).ra()}async function Mk(s){const e=yr(s);for(const n of s.Ta)e.ea(n.mutations)}async function Vk(s,e,n){const r=s.Ta.shift(),o=Mp.from(r,e,n);await nT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await ef(s)}async function jk(s,e){e&&yr(s).Y_&&await(async function(r,o){if((function(f){return g4(f)&&f!==X.ABORTED})(o.code)){const c=r.Ta.shift();yr(r).B_(),await nT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await ef(r)}})(s,e),iT(s)&&sT(s)}async function ub(s,e){const n=Re(s);n.asyncQueue.verifyOperationInProgress(),le(oa,"RemoteStore received new credentials");const r=ma(n);n.Ea.add(3),await dc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await Zh(n)}async function Pk(s,e){const n=Re(s);e?(n.Ea.delete(2),await Zh(n)):e||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function Co(s){return s.ma||(s.ma=(function(n,r,o){const c=Re(n);return c.sa(),new bk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Rk.bind(null,s),Yo:Nk.bind(null,s),t_:Ik.bind(null,s),J_:Ck.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Hp(s)?Fp(s):s.Va.set("Unknown")):(await s.ma.stop(),tT(s))}))),s.ma}function yr(s){return s.fa||(s.fa=(function(n,r,o){const c=Re(n);return c.sa(),new Ek(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Ok.bind(null,s),t_:jk.bind(null,s),ta:Mk.bind(null,s),na:Vk.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await ef(s)):(await s.fa.stop(),s.Ta.length>0&&(le(oa,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Gp(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(s,e){if(ps("AsyncQueue",`${e}: ${s}`),No(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{static emptySet(e){return new ho(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Bl(),this.sortedSet=new pt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ho)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new ho;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.ga=new pt(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class To{constructor(e,n,r,o,c,f,m,y,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new To(e,n,ho.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Lk{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Re(n),c=o.queries;o.queries=fb(),c.forEach(((f,m)=>{for(const y of m.ba)y.onError(r)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function fb(){return new da((s=>wE(s)),$h)}async function zk(s,e){const n=Re(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new Uk,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Kp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&$p(n)}async function Bk(s,e){const n=Re(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function qk(s,e){const n=Re(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&$p(n)}function Fk(s,e,n){const r=Re(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function $p(s){s.Ca.forEach((e=>{e.next()}))}var Zm,db;(db=Zm||(Zm={})).Ma="default",db.Cache="cache";class Hk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new To(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=To.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.key=e}}class aT{constructor(e){this.key=e}}class Gk{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=AE(e),this.tu=new ho(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new hb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,w)=>{const S=o.get(T),G=Qh(this.query,w)?w:null,W=!!S&&this.mutatedKeys.has(S.key),te=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;S&&G?S.data.isEqual(G.data)?W!==te&&(r.track({type:3,doc:G}),ee=!0):this.su(S,G)||(r.track({type:2,doc:G}),ee=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(m=!0)):!S&&G?(r.track({type:0,doc:G}),ee=!0):S&&!G&&(r.track({type:1,doc:S}),ee=!0,(y||_)&&(m=!0)),ee&&(G?(f=f.add(G),c=te?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,w)=>(function(G,W){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:ee})}};return te(G)-te(W)})(T.type,w.type)||this.eu(T.doc,w.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],y=this.Ya.size===0&&this.current&&!o?1:0,_=y!==this.Xa;return this.Xa=y,f.length!==0||_?{snapshot:new To(this.query,e.tu,c,f,e.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new aT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new rT(r))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return To.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qp="SyncEngine";class Kk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class $k{constructor(e){this.key=e,this.hu=!1}}class Qk{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new da((m=>wE(m)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new pt(_e.comparator),this.Au=new Map,this.Vu=new Pp,this.du={},this.mu=new Map,this.fu=Eo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Yk(s,e,n=!0){const r=fT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await oT(r,e,n,!0),o}async function Xk(s,e){const n=fT(s);await oT(n,e,!0,!1)}async function oT(s,e,n,r){const o=await fk(s.localStore,Li(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await Jk(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&ZE(s.remoteStore,o),m}async function Jk(s,e,n,r,o){s.pu=(w,S,G)=>(async function(te,ee,he,be){let ge=ee.view.ru(he);ge.Ss&&(ge=await rb(te.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,ge))));const q=be&&be.targetChanges.get(ee.targetId),ce=be&&be.targetMismatches.get(ee.targetId)!=null,me=ee.view.applyChanges(ge,te.isPrimaryClient,q,ce);return pb(te,ee.targetId,me.au),me.snapshot})(s,w,S,G);const c=await rb(s.localStore,e,!0),f=new Gk(e,c.ks),m=f.ru(c.documents),y=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),_=f.applyChanges(m,s.isPrimaryClient,y);pb(s,n,_.au);const T=new Kk(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),_.snapshot}async function Wk(s,e,n){const r=Re(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!$h(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Jm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&Bp(r.remoteStore,o.targetId),ep(r,o.targetId)})).catch(Ro)):(ep(r,o.targetId),await Jm(r.localStore,o.targetId,!0))}async function Zk(s,e){const n=Re(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Bp(n.remoteStore,r.targetId))}async function eD(s,e,n){const r=oD(s);try{const o=await(function(f,m){const y=Re(f),_=ut.now(),T=m.reduce(((G,W)=>G.add(W.key)),ze());let w,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=gs(),te=ze();return y.xs.getEntries(G,T).next((ee=>{W=ee,W.forEach(((he,be)=>{be.isValidDocument()||(te=te.add(he))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((ee=>{w=ee;const he=[];for(const be of m){const ge=h4(be,w.get(be.key).overlayedDocument);ge!=null&&he.push(new Er(be.key,ge,gE(ge.value.mapValue),fi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,he,m)})).next((ee=>{S=ee;const he=ee.applyToLocalDocumentSet(w,te);return y.documentOverlayCache.saveOverlays(G,ee.batchId,he)}))})).then((()=>({batchId:S.batchId,changes:RE(w)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,y){let _=f.du[f.currentUser.toKey()];_||(_=new pt(Le)),_=_.insert(m,y),f.du[f.currentUser.toKey()]=_})(r,o.batchId,n),await mc(r,o.changes),await ef(r.remoteStore)}catch(o){const c=Kp(o,"Failed to persist write");n.reject(c)}}async function lT(s,e){const n=Re(s);try{const r=await ck(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await mc(n,r,e)}catch(r){await Ro(r)}}function mb(s,e,n){const r=Re(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const y=Re(f);y.onlineState=m;let _=!1;y.queries.forEach(((T,w)=>{for(const S of w.ba)S.va(m)&&(_=!0)})),_&&$p(y)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tD(s,e,n){const r=Re(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new pt(_e.comparator);f=f.insert(c,tn.newNoDocument(c,we.min()));const m=ze().add(c),y=new Jh(we.min(),new Map,new pt(Le),f,m);await lT(r,y),r.Ru=r.Ru.remove(c),r.Au.delete(e),Yp(r)}else await Jm(r.localStore,e,!1).then((()=>ep(r,e,n))).catch(Ro)}async function nD(s,e){const n=Re(s),r=e.batch.batchId;try{const o=await lk(n.localStore,e);uT(n,r,null),cT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mc(n,o)}catch(o){await Ro(o)}}async function iD(s,e,n){const r=Re(s);try{const o=await(function(f,m){const y=Re(f);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return y.mutationQueue.lookupMutationBatch(_,m).next((w=>(Je(w!==null,37113),T=w.keys(),y.mutationQueue.removeMutationBatch(_,w)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,T,m))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>y.localDocuments.getDocuments(_,T)))}))})(r.localStore,e);uT(r,e,n),cT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mc(r,o)}catch(o){await Ro(o)}}function cT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function uT(s,e,n){const r=Re(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function ep(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||hT(s,r)}))}function hT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(Bp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),Yp(s))}function pb(s,e,n){for(const r of n)r instanceof rT?(s.Vu.addReference(r.key,e),sD(s,r)):r instanceof aT?(le(Qp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||hT(s,r.key)):Te(19791,{wu:r})}function sD(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(Qp,"New document in limbo: "+n),s.Eu.add(r),Yp(s))}function Yp(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new _e(ot.fromString(e)),r=s.fu.next();s.Au.set(r,new $k(n)),s.Ru=s.Ru.insert(n,r),ZE(s.remoteStore,new rr(Li(kp(n.path)),r,"TargetPurposeLimboResolution",Hh.ce))}}async function mc(s,e,n){const r=Re(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,y)=>{f.push(r.pu(y,e,n).then((_=>{var T;if((_||n)&&r.isPrimaryClient){const w=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(y.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(y.targetId,w?"current":"not-current")}if(_){o.push(_);const w=Lp.Es(y.targetId,_);c.push(w)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(y,_){const T=Re(y);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>J.forEach(_,(S=>J.forEach(S.Ts,(G=>T.persistence.referenceDelegate.addReference(w,S.targetId,G))).next((()=>J.forEach(S.Is,(G=>T.persistence.referenceDelegate.removeReference(w,S.targetId,G)))))))))}catch(w){if(!No(w))throw w;le(zp,"Failed to update sequence numbers: "+w)}for(const w of _){const S=w.targetId;if(!w.fromCache){const G=T.vs.get(S),W=G.snapshotVersion,te=G.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(S,te)}}})(r.localStore,c))}async function rD(s,e){const n=Re(s);if(!n.currentUser.isEqual(e)){le(Qp,"User change. New user:",e.toKey());const r=await YE(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((y=>{y.reject(new oe(X.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mc(n,r.Ns)}}function aD(s,e){const n=Re(s),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function fT(s){const e=Re(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=lT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=aD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tD.bind(null,e),e.Pu.J_=qk.bind(null,e.eventManager),e.Pu.yu=Fk.bind(null,e.eventManager),e}function oD(s){const e=Re(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=iD.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ok(this.persistence,new sk,e.initialUser,this.serializer)}Cu(e){return new QE(Up.Vi,this.serializer)}Du(e){return new mk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class lD extends Nh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new F4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?yn.withCacheSize(this.cacheSizeBytes):yn.DEFAULT;return new QE((r=>Sh.Vi(r,n)),this.serializer)}}class tp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rD.bind(null,this.syncEngine),await Pk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Lk})()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=vk(e.databaseInfo);return wk(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new Sk(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mb(this.syncEngine,n,0)),(function(){return lb.v()?new lb:new pk})())}createSyncEngine(e,n){return(function(o,c,f,m,y,_,T){const w=new Qk(o,c,f,m,y,_);return T&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Re(o);le(oa,"RemoteStore shutting down."),c.Ea.add(5),await dc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}tp.provider={build:()=>new tp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class uD{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Ap.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{le(_r,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(_r,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Kp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(s,e){s.asyncQueue.verifyOperationInProgress(),le(_r,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await YE(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function gb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await hD(s);le(_r,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>ub(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>ub(e.remoteStore,o))),s._onlineComponents=e}async function hD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(_r,"Using user provided OfflineComponentProvider");try{await Rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await Rm(s,new Nh)}}else le(_r,"Using default OfflineComponentProvider"),await Rm(s,new lD(void 0));return s._offlineComponents}async function dT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(_r,"Using user provided OnlineComponentProvider"),await gb(s,s._uninitializedComponentsProvider._online)):(le(_r,"Using default OnlineComponentProvider"),await gb(s,new tp))),s._onlineComponents}function fD(s){return dT(s).then((e=>e.syncEngine))}async function yb(s){const e=await dT(s),n=e.eventManager;return n.onListen=Yk.bind(null,e.syncEngine),n.onUnlisten=Wk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Xk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zk.bind(null,e.syncEngine),n}function dD(s,e,n,r){const o=new cD(r),c=new Hk(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>zk(await yb(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>Bk(await yb(s),c)))}}function mD(s,e){const n=new ta;return s.asyncQueue.enqueueAndForget((async()=>eD(await fD(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="ComponentProvider",_b=new Map;function gD(s,e,n,r,o){return new OC(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,mT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="firestore.googleapis.com",vb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=pT,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=$E;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<B4)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new fC;switch(r.type){case"firstParty":return new gC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_b.get(n);r&&(le(pD,"Removing Datastore"),_b.delete(n),r.terminate())})(this),Promise.resolve()}}function yD(s,e,n,r={}){var _;s=cr(s,tf);const o=ua(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(pp(`https://${m}`),gp("Firestore",!0)),c.host!==pT&&c.host!==m&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:m,ssl:o,emulatorOptions:r};if(!fr(y,f)&&(s._setSettings(y),r.mockUserToken)){let T,w;if(typeof r.mockUserToken=="string")T=r.mockUserToken,w=en.MOCK_USER;else{T=y1(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new en(S)}s._authCredentials=new dC(new sE(T,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pa(this.firestore,e,this._query)}}class Vt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ur(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vt(this.firestore,e,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uc(n,Vt._jsonSchema))return new Vt(e,r||null,new _e(ot.fromString(n.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:Mt("string",Vt._jsonSchemaVersion),referencePath:Mt("string")};class ur extends pa{constructor(e,n,r){super(e,n,kp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new _e(e))}withConverter(e){return new ur(this.firestore,e,this._path)}}function np(s,e,...n){if(s=mt(s),rE("collection","path",e),s instanceof tf){const r=ot.fromString(e,...n);return Dv(r),new ur(s,null,r)}{if(!(s instanceof Vt||s instanceof ur))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ot.fromString(e,...n));return Dv(r),new ur(s.firestore,null,r)}}function ip(s,e,...n){if(s=mt(s),arguments.length===1&&(e=Ap.newId()),rE("doc","path",e),s instanceof tf){const r=ot.fromString(e,...n);return kv(r),new Vt(s,null,new _e(r))}{if(!(s instanceof Vt||s instanceof ur))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(ot.fromString(e,...n));return kv(r),new Vt(s.firestore,s instanceof ur?s.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new JE(this,"async_queue_retry"),this._c=()=>{const r=Sm();r&&le(Eb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ta;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!No(e))throw e;le(Eb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",xb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Gp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Te(47125,{Pc:xb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function xb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class xo extends tf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function _D(s,e){const n=typeof s=="object"?s:zh(),r=typeof s=="string"?s:bh,o=vr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=m1("firestore");c&&yD(o,...c)}return o}function gT(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||vD(s),s._firestoreClient}function vD(s){var r,o,c,f;const e=s._freezeSettings(),n=gD(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new uD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(y){const _=y==null?void 0:y._online.build();return{_offline:y==null?void 0:y._offline.build(_),_online:_}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $n(Jt.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $n(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,$n._jsonSchema))return $n.fromBase64String(e.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Mt("string",$n._jsonSchemaVersion),bytes:Mt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Bi._jsonSchemaVersion}}static fromJSON(e){if(uc(e,Bi._jsonSchema))return new Bi(e.latitude,e.longitude)}}Bi._jsonSchemaVersion="firestore/geoPoint/1.0",Bi._jsonSchema={type:Mt("string",Bi._jsonSchemaVersion),latitude:Mt("number"),longitude:Mt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:di._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,di._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new di(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}di._jsonSchemaVersion="firestore/vectorValue/1.0",di._jsonSchema={type:Mt("string",di._jsonSchemaVersion),vectorValues:Mt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^__.*__$/;class ED{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class yT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Er(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function _T(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{dataSource:s})}}class Wp{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Ih(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_T(this.dataSource)&&bD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class TD{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}createContext(e,n,r,o=!1){return new Wp({dataSource:e,methodName:n,targetDoc:r,path:Xt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zp(s){const e=s._freezeSettings(),n=Wh(s._databaseId);return new TD(s._databaseId,!!e.ignoreUndefinedProperties,n)}function xD(s,e,n,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);eg("Data must be an object, but it was:",f,r);const m=vT(r,f);let y,_;if(c.merge)y=new Cn(f.fieldMask),_=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const w of c.mergeFields){const S=wo(e,w,n);if(!f.contains(S))throw new oe(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);TT(T,S)||T.push(S)}y=new Cn(T),_=f.fieldTransforms.filter((w=>y.covers(w.field)))}else y=null,_=f.fieldTransforms;return new ED(new _n(m),y,_)}class nf extends Jp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}function wD(s,e,n,r){const o=s.createContext(1,e,n);eg("Data must be an object, but it was:",o,r);const c=[],f=_n.empty();br(r,((y,_)=>{const T=ET(e,y,n);_=mt(_);const w=o.childContextForFieldPath(T);if(_ instanceof nf)c.push(T);else{const S=pc(_,w);S!=null&&(c.push(T),f.set(T,S))}}));const m=new Cn(c);return new yT(f,m,o.fieldTransforms)}function AD(s,e,n,r,o,c){const f=s.createContext(1,e,n),m=[wo(e,r,n)],y=[o];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(wo(e,c[S])),y.push(c[S+1]);const _=[],T=_n.empty();for(let S=m.length-1;S>=0;--S)if(!TT(_,m[S])){const G=m[S];let W=y[S];W=mt(W);const te=f.childContextForFieldPath(G);if(W instanceof nf)_.push(G);else{const ee=pc(W,te);ee!=null&&(_.push(G),T.set(G,ee))}}const w=new Cn(_);return new yT(T,w,f.fieldTransforms)}function SD(s,e,n,r=!1){return pc(n,s.createContext(r?4:3,e))}function pc(s,e){if(bT(s=mt(s)))return eg("Unsupported field value:",e,s),vT(s,e);if(s instanceof Jp)return(function(r,o){if(!_T(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let y=pc(m,o.childContextForArray(f));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=mt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ut.fromDate(r);return{timestampValue:Ah(o.serializer,c)}}if(r instanceof ut){const c=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(r instanceof Bi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof $n)return{bytesValue:LE(o.serializer,r._byteString)};if(r instanceof Vt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:jp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof di)return(function(f,m){const y=f instanceof di?f.toArray():f;return{mapValue:{fields:{[mE]:{stringValue:pE},[Eh]:{arrayValue:{values:y.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return Dp(m.serializer,T)}))}}}}}})(r,o);if(KE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Fh(r)}`)})(s,e)}function vT(s,e){const n={};return lE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):br(s,((r,o)=>{const c=pc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function bT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ut||s instanceof Bi||s instanceof $n||s instanceof Vt||s instanceof Jp||s instanceof di||KE(s))}function eg(s,e,n){if(!bT(n)||!aE(n)){const r=Fh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function wo(s,e,n){if((e=mt(e))instanceof Xp)return e._internalPath;if(typeof e=="string")return ET(s,e);throw Ih("Field path arguments must be of type string or ",s,!1,void 0,n)}const RD=new RegExp("[~\\*/\\[\\]]");function ET(s,e,n){if(e.search(RD)>=0)throw Ih(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Xp(...e.split("."))._internalPath}catch{throw Ih(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Ih(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let y="";return(c||f)&&(y+=" (found",c&&(y+=` in field ${r}`),f&&(y+=` in document ${o}`),y+=")"),new oe(X.INVALID_ARGUMENT,m+s+y)}function TT(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{convertValue(e,n="none"){switch(gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Tt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return br(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,o,c;const n=(c=(o=(r=e.fields)==null?void 0:r[Eh].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>Tt(f.doubleValue)));return new di(n)}convertGeoPoint(e){return new Bi(Tt(e.latitude),Tt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Kh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ec(e));default:return null}}convertTimestamp(e){const n=mr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ot.fromString(e);Je(GE(r),9688,{name:e});const o=new tc(r.get(1),r.get(3)),c=new _e(r.popFirst(5));return o.isEqual(n)||ps(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT extends ND{constructor(e){super(),this.firestore=e}convertBytes(e){return new $n(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,n)}}const wb="@firebase/firestore",Ab="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ID(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(wo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ID extends wT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tg{}class AT extends tg{}function ST(s,e,...n){let r=[];e instanceof tg&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((y=>y instanceof ig)).length,m=c.filter((y=>y instanceof ng)).length;if(f>1||f>0&&m>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class ng extends AT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new ng(e,n,r)}_apply(e){const n=this._parse(e);return NT(e._query,n),new pa(e.firestore,e.converter,Gm(e._query,n))}_parse(e){const n=Zp(e.firestore);return(function(c,f,m,y,_,T,w){let S;if(_.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Nb(w,T);const W=[];for(const te of w)W.push(Rb(y,c,te));S={arrayValue:{values:W}}}else S=Rb(y,c,w)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Nb(w,T),S=SD(m,f,w,T==="in"||T==="not-in");return Ot.create(_,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ig extends tg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ig(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:pi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const y of m)NT(f,y),f=Gm(f,y)})(e._query,n),new pa(e.firestore,e.converter,Gm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class sg extends AT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new sg(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ic(c,f)})(e._query,this._field,this._direction);return new pa(e.firestore,e.converter,JC(e._query,n))}}function RT(s,e="asc"){const n=e,r=wo("orderBy",s);return sg._create(r,n)}function Rb(s,e,n){if(typeof(n=mt(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xE(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ot.fromString(n));if(!_e.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(s,new _e(r))}if(n instanceof Vt)return zv(s,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fh(n)}.`)}function Nb(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function NT(s,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function kD(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Fl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class na extends wT{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=na._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:Mt("string",na._jsonSchemaVersion),bundleSource:Mt("string","DocumentSnapshot"),bundleName:Mt("string"),bundle:Mt("string")};class oh extends na{data(e={}){return super.data(e)}}class fo{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Fl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new Fl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:y,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const y=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Fl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:DD(m.type),doc:y,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ap.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Mt("string",fo._jsonSchemaVersion),bundleSource:Mt("string","QuerySnapshot"),bundleName:Mt("string"),bundle:Mt("string")};function OD(s,e,n,...r){s=cr(s,Vt);const o=cr(s.firestore,xo),c=Zp(o);let f;return f=typeof(e=mt(e))=="string"||e instanceof Xp?AD(c,"updateDoc",s._key,e,n,r):wD(c,"updateDoc",s._key,e),rg(o,[f.toMutation(s._key,fi.exists(!0))])}function MD(s){return rg(cr(s.firestore,xo),[new Op(s._key,fi.none())])}function VD(s,e){const n=cr(s.firestore,xo),r=ip(s),o=kD(s.converter,e),c=Zp(s.firestore);return rg(n,[xD(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,fi.exists(!1))]).then((()=>r))}function IT(s,...e){var _,T,w;s=mt(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sb(e[r])){const S=e[r];e[r]=(_=S.next)==null?void 0:_.bind(S),e[r+1]=(T=S.error)==null?void 0:T.bind(S),e[r+2]=(w=S.complete)==null?void 0:w.bind(S)}let c,f,m;if(s instanceof Vt)f=cr(s.firestore,xo),m=kp(s._key.path),c={next:S=>{e[r]&&e[r](jD(f,s,S))},error:e[r+1],complete:e[r+2]};else{const S=cr(s,pa);f=cr(S.firestore,xo),m=S._query;const G=new xT(f);c={next:W=>{e[r]&&e[r](new fo(f,G,S,W))},error:e[r+1],complete:e[r+2]},CD(s._query)}const y=gT(f);return dD(y,m,o,c)}function rg(s,e){const n=gT(s);return mD(n,e)}function jD(s,e,n){const r=n.docs.get(e._key),o=new xT(s);return new na(s,o,e._key,r,new Fl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){hC(fa),mi(new Xn("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new xo(new mC(r.getProvider("auth-internal")),new yC(f,r.getProvider("app-check-internal")),MC(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),vn(wb,Ab,e),vn(wb,Ab,"esm2020")})();function CT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const PD=CT,kT=new ha("auth","Firebase",CT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new Lh("@firebase/auth");function UD(s,...e){Ch.logLevel<=Ue.WARN&&Ch.warn(`Auth (${fa}): ${s}`,...e)}function lh(s,...e){Ch.logLevel<=Ue.ERROR&&Ch.error(`Auth (${fa}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(s,...e){throw ag(s,...e)}function qi(s,...e){return ag(s,...e)}function DT(s,e,n){const r={...PD(),[e]:n};return new ha("auth","Firebase",r).create(e,{appName:s.name})}function hr(s){return DT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ag(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return kT.create(s,...e)}function Ee(s,e,...n){if(!s)throw ag(e,...n)}function fs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw lh(e),new Error(e)}function ys(s,e){s||fs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function LD(){return Ib()==="http:"||Ib()==="https:"}function Ib(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LD()||_1()||"connection"in navigator)?navigator.onLine:!0}function BD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ys(n>e,"Short delay should be less than long delay!"),this.isMobile=q2()||G2()}get(){return zD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(s,e){ys(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;fs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;fs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;fs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],HD=new gc(3e4,6e4);function ga(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function Tr(s,e,n,r,o={}){return MT(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=cc({key:s.config.apiKey,...f}).slice(1),y=await s._getAdditionalHeaders();y["Content-Type"]="application/json",s.languageCode&&(y["X-Firebase-Locale"]=s.languageCode);const _={method:e,headers:y,...c};return H2()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&ua(s.emulatorConfig.host)&&(_.credentials="include"),OT.fetch()(await VT(s,s.config.apiHost,n,m),_)})}async function MT(s,e,n){s._canInitEmulator=!1;const r={...qD,...e};try{const o=new KD(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw eh(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[y,_]=m.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",f);if(y==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",f);if(y==="USER_DISABLED")throw eh(s,"user-disabled",f);const T=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw DT(s,T,_);gi(s,T)}}catch(o){if(o instanceof Jn)throw o;gi(s,"network-request-failed",{message:String(o)})}}async function sf(s,e,n,r,o={}){const c=await Tr(s,e,n,r,o);return"mfaPendingCredential"in c&&gi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function VT(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?og(s.config,o):`${s.config.apiScheme}://${o}`;return FD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function GD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class KD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),HD.get())})}}function eh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=qi(s,e,r);return o.customData._tokenResponse=n,o}function Cb(s){return s!==void 0&&s.enterprise!==void 0}class $D{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return GD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(s,e){return Tr(s,"GET","/v2/recaptchaConfig",ga(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(s,e){return Tr(s,"POST","/v1/accounts:delete",e)}async function kh(s,e){return Tr(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function XD(s,e=!1){const n=mt(s),r=await n.getIdToken(e),o=lg(r);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:Xl(Nm(o.auth_time)),issuedAtTime:Xl(Nm(o.iat)),expirationTime:Xl(Nm(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Nm(s){return Number(s)*1e3}function lg(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=f1(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kb(s){const e=lg(s);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Jn&&JD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function JD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(s){var w;const e=s.auth,n=await s.getIdToken(),r=await ac(s,kh(e,{idToken:n}));Ee(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(w=o.providerUserInfo)!=null&&w.length?jT(o.providerUserInfo):[],f=eO(s.providerData,c),m=s.isAnonymous,y=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),_=m?y:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function ZD(s){const e=mt(s);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eO(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function jT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tO(s,e){const n=await MT(s,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await VT(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:m,body:r};return s.emulatorConfig&&ua(s.emulatorConfig.host)&&(y.credentials="include"),OT.fetch()(f,y)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nO(s,e){return Tr(s,"POST","/v2/accounts:revokeToken",ga(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await tO(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new mo;return r&&(Ee(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Ee(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return fs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zs(s,e){Ee(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new WD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return XD(this,e)}reload(){return ZD(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(hr(this.auth));const e=await this.getIdToken();return await ac(this,YD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,y=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:w,emailVerified:S,isAnonymous:G,providerData:W,stsTokenManager:te}=n;Ee(w&&te,e,"internal-error");const ee=mo.fromJSON(this.name,te);Ee(typeof w=="string",e,"internal-error"),Zs(r,e.name),Zs(o,e.name),Ee(typeof S=="boolean",e,"internal-error"),Ee(typeof G=="boolean",e,"internal-error"),Zs(c,e.name),Zs(f,e.name),Zs(m,e.name),Zs(y,e.name),Zs(_,e.name),Zs(T,e.name);const he=new hi({uid:w,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:G,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:ee,createdAt:_,lastLoginAt:T});return W&&Array.isArray(W)&&(he.providerData=W.map(be=>({...be}))),y&&(he._redirectEventId=y),he}static async _fromIdTokenResponse(e,n,r=!1){const o=new mo;o.updateFromServerResponse(n);const c=new hi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Dh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?jT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new mo;m.updateFromIdToken(r);const y=new hi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new rp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function ds(s){ys(s instanceof Function,"Expected a class definition");let e=Db.get(s);return e?(ys(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Db.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const Ob=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s,e,n){return`firebase:${s}:${e}:${n}`}class po{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,c),this.fullPersistenceKey=ch("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new po(ds(Ob),e,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ds(Ob);const f=ch(r,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){let w;if(typeof T=="string"){const S=await kh(e,{idToken:T}).catch(()=>{});if(!S)break;w=await hi._fromGetAccountInfoResponse(e,S,T)}else w=hi._fromJSON(e,T);_!==c&&(m=w),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new po(c,e,r):(c=y[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==c)try{await _._remove(f)}catch{}})),new po(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(FT(e))return"Blackberry";if(HT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||zT(e))&&!e.includes("edge/"))return"Chrome";if(qT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function UT(s=nn()){return/firefox\//i.test(s)}function LT(s=nn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zT(s=nn()){return/crios\//i.test(s)}function BT(s=nn()){return/iemobile/i.test(s)}function qT(s=nn()){return/android/i.test(s)}function FT(s=nn()){return/blackberry/i.test(s)}function HT(s=nn()){return/webos/i.test(s)}function cg(s=nn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function iO(s=nn()){var e;return cg(s)&&!!((e=window.navigator)!=null&&e.standalone)}function sO(){return K2()&&document.documentMode===10}function GT(s=nn()){return cg(s)||qT(s)||HT(s)||FT(s)||/windows phone/i.test(s)||BT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(s,e=[]){let n;switch(s){case"Browser":n=Mb(nn());break;case"Worker":n=`${Mb(nn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const y=e(c);f(y)}catch(y){m(y)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aO(s,e={}){return Tr(s,"GET","/v2/passwordPolicy",ga(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=6;class lO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??oO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vb(this),this.idTokenSubscription=new Vb(this),this.beforeStateQueue=new rO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ds(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=r==null?void 0:r._redirectEventId,y=await this.tryRedirectSignIn(e);(!f||f===m)&&(y!=null&&y.user)&&(r=y.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(hr(this));const n=e?mt(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(hr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(hr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ds(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await aO(this),n=new lO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ds(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ds(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const y=e.addObserver(n,r,o);return()=>{f=!0,y()}}else{const y=e.addObserver(n);return()=>{f=!0,y()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&UD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ko(s){return mt(s)}class Vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Z2(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uO(s){rf=s}function $T(s){return rf.loadJS(s)}function hO(){return rf.recaptchaEnterpriseScript}function fO(){return rf.gapiScript}function dO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class mO{constructor(){this.enterprise=new pO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gO="recaptcha-enterprise",QT="NO_RECAPTCHA";class yO{constructor(e){this.type=gO,this.auth=ko(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{QD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(y=>{if(y.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new $D(y);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,f(_.siteKey)}}).catch(y=>{m(y)})})}function o(c,f,m){const y=window.grecaptcha;Cb(y)?y.enterprise.ready(()=>{y.enterprise.execute(c,{action:e}).then(_=>{f(_)}).catch(()=>{f(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mO().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(m=>{if(!n&&Cb(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let y=hO();y.length!==0&&(y+=m),$T(y).then(()=>{o(m,c,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function jb(s,e,n,r=!1,o=!1){const c=new yO(s);let f;if(o)f=QT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const y=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:y,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const y=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pb(s,e,n,r,o){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jb(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jb(s,e,n,n==="getOobCode");return r(s,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(s,e){const n=vr(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(fr(c,e??{}))return o;gi(o,"already-initialized")}return n.initialize({options:e})}function vO(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ds);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bO(s,e,n){const r=ko(s);Ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=YT(e),{host:f,port:m}=EO(e),y=m===null?"":`:${m}`,_={url:`${c}//${f}${y}/`},T=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Ee(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ee(fr(_,r.config.emulator)&&fr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,ua(f)?(pp(`${c}//${f}${y}`),gp("Auth",!0)):TO()}function YT(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function EO(s){const e=YT(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Ub(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Ub(f)}}}function Ub(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function TO(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return fs("not implemented")}_getIdTokenResponse(e){return fs("not implemented")}_linkToIdToken(e,n){return fs("not implemented")}_getReauthenticationResolver(e){return fs("not implemented")}}async function xO(s,e){return Tr(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(s,e){return sf(s,"POST","/v1/accounts:signInWithPassword",ga(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AO(s,e){return sf(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}async function SO(s,e){return sf(s,"POST","/v1/accounts:signInWithEmailLink",ga(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc extends ug{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new oc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new oc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,n,"signInWithPassword",wO);case"emailLink":return AO(e,{email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,r,"signUpPassword",xO);case"emailLink":return SO(e,{idToken:n,email:this._email,oobCode:this._password});default:gi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(s,e){return sf(s,"POST","/v1/accounts:signInWithIdp",ga(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="http://localhost";class la extends ug{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new la(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new la(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,go(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:RO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NO(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(s){const e=Ul(Ll(s)).link,n=e?Ul(Ll(e)).deep_link_id:null,r=Ul(Ll(s)).deep_link_id;return(r?Ul(Ll(r)).link:null)||r||n||e||s}class hg{constructor(e){const n=Ul(Ll(e)),r=n.apiKey??null,o=n.oobCode??null,c=NO(n.mode??null);Ee(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IO(e);try{return new hg(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return oc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hg.parseLink(n);return Ee(r,"argument-error"),oc._fromEmailAndCode(e,r.code,r.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends XT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr extends yc{constructor(){super("facebook.com")}static credential(e){return la._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return tr.credentialFromTaggedObject(e)}static credentialFromError(e){return tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return tr.credential(e.oauthAccessToken)}catch{return null}}}tr.FACEBOOK_SIGN_IN_METHOD="facebook.com";tr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nr extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return la._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return nr.credentialFromTaggedObject(e)}static credentialFromError(e){return nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return nr.credential(n,r)}catch{return null}}}nr.GOOGLE_SIGN_IN_METHOD="google.com";nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends yc{constructor(){super("github.com")}static credential(e){return la._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ir.credentialFromTaggedObject(e)}static credentialFromError(e){return ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ir.credential(e.oauthAccessToken)}catch{return null}}}ir.GITHUB_SIGN_IN_METHOD="github.com";ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends yc{constructor(){super("twitter.com")}static credential(e,n){return la._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.TWITTER_SIGN_IN_METHOD="twitter.com";sr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await hi._fromIdTokenResponse(e,r,o),f=Lb(r);return new Ao({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Lb(r);return new Ao({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Lb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Jn{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Oh(e,n,r,o)}}function JT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,c,e,r):c})}async function CO(s,e,n=!1){const r=await ac(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return Ao._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kO(s,e,n=!1){const{auth:r}=s;if(Kn(r.app))return Promise.reject(hr(r));const o="reauthenticate";try{const c=await ac(s,JT(r,o,e,s),n);Ee(c.idToken,r,"internal-error");const f=lg(c.idToken);Ee(f,r,"internal-error");const{sub:m}=f;return Ee(s.uid===m,r,"user-mismatch"),Ao._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&gi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(s,e,n=!1){if(Kn(s.app))return Promise.reject(hr(s));const r="signIn",o=await JT(s,r,e),c=await Ao._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function DO(s,e){return WT(ko(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OO(s){const e=ko(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function MO(s,e,n){return Kn(s.app)?Promise.reject(hr(s)):DO(mt(s),Do.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&OO(s),r})}function VO(s,e,n,r){return mt(s).onIdTokenChanged(e,n,r)}function jO(s,e,n){return mt(s).beforeAuthStateChanged(e,n)}function PO(s,e,n,r){return mt(s).onAuthStateChanged(e,n,r)}function UO(s){return mt(s).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LO=1e3,zO=10;class ex extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,y)=>{this.notifyListeners(f,y)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);sO()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,zO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},LO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ex.type="LOCAL";const BO=ex;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tx.type="SESSION";const nx=tx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qO(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new af(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,c)),y=await qO(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:y})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}af.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,y)=>{const _=fg("",20);o.port1.start();const T=setTimeout(()=>{y(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(w){const S=w;if(S.data.eventId===_)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(T),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fi(){return window}function HO(s){Fi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(){return typeof Fi().WorkerGlobalScope<"u"&&typeof Fi().importScripts=="function"}async function GO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function KO(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function $O(){return ix()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx="firebaseLocalStorageDb",QO=1,Vh="firebaseLocalStorage",rx="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function of(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function YO(){const s=indexedDB.deleteDatabase(sx);return new _c(s).toPromise()}function ap(){const s=indexedDB.open(sx,QO);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:rx})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await YO(),e(await ap()))})})}async function zb(s,e,n){const r=of(s,!0).put({[rx]:e,value:n});return new _c(r).toPromise()}async function XO(s,e){const n=of(s,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function Bb(s,e){const n=of(s,!0).delete(e);return new _c(n).toPromise()}const JO=800,WO=3;class ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ap(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>WO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ix()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=af._getInstance($O()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await GO(),!this.activeServiceWorker)return;this.sender=new FO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||KO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ap();return await zb(e,Mh,"1"),await Bb(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=of(o,!1).getAll();return new _c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ax.type="LOCAL";const ZO=ax;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(s,e){return e?ds(e):(Ee(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg extends ug{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t6(s){return WT(s.auth,new dg(s),s.bypassAuthState)}function n6(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),kO(n,new dg(s),s.bypassAuthState)}async function i6(s){const{auth:e,user:n}=s;return Ee(n,e,"internal-error"),CO(n,new dg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const y={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(y))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t6;case"linkViaPopup":case"linkViaRedirect":return i6;case"reauthViaPopup":case"reauthViaRedirect":return n6;default:gi(this.auth,"internal-error")}}resolve(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ys(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new gc(2e3,1e4);class lo extends ox{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){ys(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,s6.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="pendingRedirect",uh=new Map;class a6 extends ox{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const r=await o6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function o6(s,e){const n=u6(e),r=c6(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function l6(s,e){uh.set(s._key(),e)}function c6(s){return ds(s._redirectPersistence)}function u6(s){return ch(r6,s.config.apiKey,s.name)}async function h6(s,e,n=!1){if(Kn(s.app))return Promise.reject(hr(s));const r=ko(s),o=e6(r,e),f=await new a6(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6=600*1e3;class d6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!m6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lx(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=f6&&this.cachedEventUids.clear(),this.cachedEventUids.has(qb(e))}saveEventToCache(e){this.cachedEventUids.add(qb(e)),this.lastProcessedEventTime=Date.now()}}function qb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function lx({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function m6(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lx(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p6(s,e={}){return Tr(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y6=/^https?/;async function _6(s){if(s.config.emulator)return;const{authorizedDomains:e}=await p6(s);for(const n of e)try{if(v6(n))return}catch{}gi(s,"unauthorized-domain")}function v6(s){const e=sp(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!y6.test(n))return!1;if(g6.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new gc(3e4,6e4);function Fb(){const s=Fi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function E6(s){return new Promise((e,n)=>{var o,c,f;function r(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(qi(s,"network-request-failed"))},timeout:b6.get()})}if((c=(o=Fi().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=Fi().gapi)!=null&&f.load)r();else{const m=dO("iframefcb");return Fi()[m]=()=>{gapi.load?r():n(qi(s,"network-request-failed"))},$T(`${fO()}?onload=${m}`).catch(y=>n(y))}}).catch(e=>{throw hh=null,e})}let hh=null;function T6(s){return hh=hh||E6(s),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6=new gc(5e3,15e3),w6="__/auth/iframe",A6="emulator/auth/iframe",S6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},R6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function N6(s){const e=s.config;Ee(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?og(e,A6):`https://${s.config.authDomain}/${w6}`,r={apiKey:e.apiKey,appName:s.name,v:fa},o=R6.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${cc(r).slice(1)}`}async function I6(s){const e=await T6(s),n=Fi().gapi;return Ee(n,s,"internal-error"),e.open({where:document.body,url:N6(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:S6,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=qi(s,"network-request-failed"),m=Fi().setTimeout(()=>{c(f)},x6.get());function y(){Fi().clearTimeout(m),o(r)}r.ping(y).then(y,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},k6=500,D6=600,O6="_blank",M6="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function V6(s,e,n,r=k6,o=D6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const y={...C6,width:r.toString(),height:o.toString(),top:c,left:f},_=nn().toLowerCase();n&&(m=zT(_)?O6:n),UT(_)&&(e=e||M6,y.scrollbars="yes");const T=Object.entries(y).reduce((S,[G,W])=>`${S}${G}=${W},`,"");if(iO(_)&&m!=="_self")return j6(e||"",m),new Hb(null);const w=window.open(e||"",m,T);Ee(w,s,"popup-blocked");try{w.focus()}catch{}return new Hb(w)}function j6(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P6="__/auth/handler",U6="emulator/auth/handler",L6=encodeURIComponent("fac");async function Gb(s,e,n,r,o,c){Ee(s.config.authDomain,s,"auth-domain-config-required"),Ee(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:fa,eventId:o};if(e instanceof XT){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",W2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,w]of Object.entries({}))f[T]=w}if(e instanceof yc){const T=e.getScopes().filter(w=>w!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const y=await s._getAppCheckToken(),_=y?`#${L6}=${encodeURIComponent(y)}`:"";return`${z6(s)}?${cc(m).slice(1)}${_}`}function z6({config:s}){return s.emulator?og(s,U6):`https://${s.authDomain}/${P6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="webStorageSupport";class B6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nx,this._completeRedirectFn=h6,this._overrideRedirectResult=l6}async _openPopup(e,n,r,o){var f;ys((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await Gb(e,n,r,sp(),o);return V6(e,c,fg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Gb(e,n,r,sp(),o);return HO(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(ys(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I6(e),r=new d6(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Im,{type:Im},o=>{var f;const c=(f=o==null?void 0:o[0])==null?void 0:f[Im];c!==void 0&&n(!!c),gi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||LT()||cg()}}const q6=B6;var Kb="@firebase/auth",$b="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function G6(s){mi(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(s)},_=new cO(r,o,c,y);return vO(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),mi(new Xn("auth-internal",e=>{const n=ko(e.getProvider("auth").getImmediate());return(r=>new F6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),vn(Kb,$b,H6(s)),vn(Kb,$b,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=300,$6=g1("authIdTokenMaxAge")||K6;let Qb=null;const Q6=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>$6)return;const o=n==null?void 0:n.token;Qb!==o&&(Qb=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Y6(s=zh()){const e=vr(s,"auth");if(e.isInitialized())return e.getImmediate();const n=_O(s,{popupRedirectResolver:q6,persistence:[ZO,BO,nx]}),r=g1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=Q6(c.toString());jO(n,f,()=>f(n.currentUser)),VO(n,m=>f(m))}}const o=d1("auth");return o&&bO(n,`http://${o}`),n}function X6(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}uO({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=qi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",X6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});G6("Browser");const J6={apiKey:"AIzaSyBQKF3jYIX6k2LWDSUwcVMZrj6SKtH51fQ",authDomain:"hwoasung-b20ff.firebaseapp.com",projectId:"hwoasung-b20ff",storageBucket:"hwoasung-b20ff.firebasestorage.app",messagingSenderId:"917869348806",appId:"1:917869348806:web:05576453c6644a369494c7",measurementId:"G-9NS8FC41WC"},lf=w1(J6);typeof window<"u"&&kI(lf);oC(lf);const Hl=_D(lf),Cm=Y6(lf),W6=({onBack:s})=>{const[e,n]=pe.useState(null),[r,o]=pe.useState(""),[c,f]=pe.useState(""),[m,y]=pe.useState(""),[_,T]=pe.useState(!0),[w,S]=pe.useState([]),[G,W]=pe.useState(!1),[te,ee]=pe.useState(""),[he,be]=pe.useState(null),[ge,q]=pe.useState("split"),[ce,me]=pe.useState({name:"",code:"",material:"",engName:"",type:"knitting",cloudinaryId:"",desc:"",features:"",weight:"",width:"",structure:"",colors:""});pe.useEffect(()=>PO(Cm,B=>{n(B),T(!1)}),[]),pe.useEffect(()=>{if(!e)return;const se=ST(np(Hl,"products"),RT("createdAt","desc"));return IT(se,Z=>{const de=Z.docs.map(ke=>({id:ke.id,...ke.data()}));S(de)})},[e]);const N=async se=>{se.preventDefault(),y("");try{await MO(Cm,r,c)}catch{y(" :    .")}},A=()=>UO(Cm),I=()=>{me({name:"",code:"",material:"",engName:"",type:"knitting",cloudinaryId:"",desc:"",features:"",weight:"",width:"",structure:"",colors:""}),be(null)},M=()=>{if(!window.cloudinary){alert("   .     . (  )");return}window.cloudinary.openUploadWidget({cloudName:"dkczitgmn",uploadPreset:"hwoasung_preset",sources:["local","url","camera","cloudinary"],showAdvancedOptions:!0,cropping:!0,multiple:!1,defaultSource:"local",language:"ko",text:{ko:{menu:{files:" ",url:" URL",camera:"",cloudinary:" "}}},styles:{palette:{window:"#0D1117",sourceBg:"#161B22",windowBorder:"#30363D",tabIcon:"#FFFFFF",inactiveTabIcon:"#8B949E",menuIcons:"#C9D1D9",link:"#6366f1",action:"#6366f1",inProgress:"#6366f1",complete:"#238636",error:"#F85149",textDark:"#000000",textLight:"#FFFFFF"}}},(B,Z)=>{!B&&Z&&Z.event==="success"?(me(de=>({...de,cloudinaryId:Z.info.public_id})),alert(" : "+Z.info.public_id)):B?(console.error("Cloudinary Widget Error:",B),alert(`   : ${B}

[]
1. Cloudinary  'hwoasung_preset'  'Unsigned'  ?
2. .env  Cloud Name ?`)):Z.event==="display-changed"&&Z.info==="shown"&&console.log("Widget opened")})},k=async se=>{se.preventDefault(),W(!0);try{const B={...ce,features:typeof ce.features=="string"?ce.features.split(",").map(Z=>Z.trim()):ce.features,updatedAt:new Date};he?(await OD(ip(Hl,"products",he),B),alert("   . (Firestore)")):(await VD(np(Hl,"products"),{...B,createdAt:new Date}),alert("   . (Firestore)")),I()}catch(B){console.error("Firestore Write Error:",B),alert(` : ${B.message||"   "}

Firebase Console Firestore     .`)}finally{W(!1)}},V=se=>{be(se.id),me({...se,features:Array.isArray(se.features)?se.features.join(", "):se.features})},R=async se=>{if(window.confirm(" ?"))try{await MD(ip(Hl,"products",se)),he===se&&I()}catch{alert("   .")}},Ge=pe.useMemo(()=>w.filter(se=>se.name.toLowerCase().includes(te.toLowerCase())||se.code.toLowerCase().includes(te.toLowerCase())),[w,te]);return _?p.jsx("div",{className:"min-h-screen bg-[#06080b] flex items-center justify-center",children:p.jsx(tv,{className:"animate-spin text-indigo-500",size:48})}):e?p.jsxs("div",{className:"min-h-screen bg-[#06080b] text-white font-sans selection:bg-indigo-600 h-screen flex flex-col overflow-hidden",children:[p.jsxs("header",{className:"h-20 bg-[#0d1117] border-b border-white/5 px-10 flex items-center justify-between shrink-0",children:[p.jsxs("div",{className:"flex items-center space-x-8",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-sm flex items-center justify-center text-white font-black text-xs italic",children:"H"}),p.jsx("h2",{className:"text-xl font-black italic uppercase tracking-tighter",children:"Hwoasung Command"})]}),p.jsx("div",{className:"h-6 w-px bg-white/10 hidden md:block"}),p.jsx("div",{className:"hidden md:flex items-center space-x-4",children:p.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-white/5 rounded-full border border-white/5",children:[p.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"DB CONNECTED"})]})})]}),p.jsxs("div",{className:"flex items-center space-x-6",children:[p.jsxs("div",{className:"flex items-center bg-[#161b22] rounded-sm p-1 border border-white/5",children:[p.jsx("button",{onClick:()=>q("split"),className:`p-2 rounded-sm transition-all ${ge==="split"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-slate-500 hover:text-white"}`,title:"Split View",children:p.jsx(Dm,{size:16})}),p.jsx("button",{onClick:()=>q("focus"),className:`p-2 rounded-sm transition-all ${ge==="focus"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-slate-500 hover:text-white"}`,title:"Focus View",children:p.jsx(ZS,{size:16})})]}),p.jsxs("button",{onClick:A,className:"flex items-center space-x-2 text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-white transition-all",children:[p.jsx(s2,{size:16}),p.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]}),p.jsx("button",{onClick:s,className:"p-2 hover:bg-white/5 rounded-sm transition-colors border border-white/5",children:p.jsx(PS,{size:20})})]})]}),p.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[p.jsxs("section",{className:`${ge==="split"?"w-[450px]":"hidden"} bg-[#0d1117] border-r border-white/5 overflow-y-auto custom-scrollbar p-10 space-y-10`,children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-sm font-black text-indigo-500 uppercase tracking-[0.4em] mb-1",children:"Station 01"}),p.jsx("h4",{className:"text-2xl font-black italic uppercase tracking-tighter",children:he?"Modify Product":"Register Entry"})]}),p.jsxs("form",{onSubmit:k,className:"space-y-8 pb-10",children:[p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Classification"}),p.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[p.jsx("button",{type:"button",onClick:()=>me({...ce,type:"knitting"}),className:`py-3 rounded-sm text-[10px] font-black uppercase tracking-widest transition-all border ${ce.type==="knitting"?"bg-indigo-600 border-indigo-500":"bg-[#161b22] border-white/5 text-slate-500 hover:text-white"}`,children:"Unit 01: knitting"}),p.jsx("button",{type:"button",onClick:()=>me({...ce,type:"processed"}),className:`py-3 rounded-sm text-[10px] font-black uppercase tracking-widest transition-all border ${ce.type==="processed"?"bg-indigo-600 border-indigo-500":"bg-[#161b22] border-white/5 text-slate-500 hover:text-white"}`,children:"Unit 02: processed"})]})]}),p.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Product Code"}),p.jsx("input",{type:"text",value:ce.code,onChange:se=>me({...ce,code:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"HS-...",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Formal Name (KR)"}),p.jsx("input",{type:"text",value:ce.name,onChange:se=>me({...ce,name:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex.   ",required:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Internal ID (ENG)"}),p.jsx("input",{type:"text",value:ce.engName,onChange:se=>me({...ce,engName:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex. SINGLE_JERSEY_PEACH"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Composition"}),p.jsx("input",{type:"text",value:ce.material,onChange:se=>me({...ce,material:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none",placeholder:"Cotton / Poly"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Structure"}),p.jsx("input",{type:"text",value:ce.structure,onChange:se=>me({...ce,structure:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Density/Weight"}),p.jsx("input",{type:"text",value:ce.weight,onChange:se=>me({...ce,weight:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Width"}),p.jsx("input",{type:"text",value:ce.width,onChange:se=>me({...ce,width:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Cloudinary Public ID"}),p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsxs("button",{type:"button",onClick:M,className:"text-[8px] font-bold text-white bg-indigo-600 px-2 py-1 rounded-sm hover:bg-indigo-700 transition-colors uppercase flex items-center space-x-1",children:[p.jsx(t2,{size:10}),p.jsx("span",{children:"Library / Upload"})]}),p.jsx("a",{href:"https://console.cloudinary.com/console/media-library",target:"_blank",rel:"noopener noreferrer",className:"text-[8px] font-bold text-indigo-400 hover:text-indigo-300 underline uppercase",children:"Open Console"})]})]}),p.jsxs("div",{className:"relative group",children:[p.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-600 group-focus-within:text-indigo-500",children:p.jsx(Z0,{size:16})}),p.jsx("input",{type:"text",value:ce.cloudinaryId,onChange:se=>me({...ce,cloudinaryId:se.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white pl-12 pr-4 py-3 rounded-sm text-xs font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex. products/fabric_01"})]}),p.jsx("p",{className:"text-[8px] text-slate-500 font-medium leading-relaxed italic",children:"* Cloudinary   ,   'Public ID'   . (: products/sample)"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Key Features (Comma separated)"}),p.jsx("textarea",{value:ce.features,onChange:se=>me({...ce,features:se.target.value}),className:"w-full h-24 bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs focus:ring-1 focus:ring-indigo-500 outline-none resize-none",placeholder:"Soft touch, High density, No shrinkage..."})]})]}),p.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[p.jsxs("button",{type:"submit",disabled:G,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-800 text-white font-black uppercase tracking-[0.2em] py-5 rounded-sm transition-all flex items-center justify-center space-x-3 text-xs shadow-xl shadow-indigo-600/20",children:[G?p.jsx(tv,{className:"animate-spin",size:18}):he?p.jsx(_2,{size:18}):p.jsx(l1,{size:18}),p.jsx("span",{children:he?"Confirm Modifications":"Commit To Inventory"})]}),he&&p.jsx("button",{type:"button",onClick:I,className:"w-full bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white font-black uppercase tracking-widest py-3 rounded-sm transition-all text-[10px]",children:"Exit Edit Mode"})]})]})]}),p.jsxs("section",{className:"flex-1 flex flex-col min-w-0 bg-[#06080b]",children:[p.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center justify-between shrink-0 bg-[#06080b]/50 backdrop-blur-md sticky top-0 z-10",children:[p.jsxs("div",{className:"relative flex-1 max-w-md",children:[p.jsx(c1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-600",size:16}),p.jsx("input",{type:"text",placeholder:"Search code or name...",value:te,onChange:se=>ee(se.target.value),className:"w-full bg-white/5 border border-white/5 text-white pl-12 pr-6 py-3 rounded-full text-xs outline-none focus:ring-1 focus:ring-indigo-500 transition-all"})]}),p.jsx("div",{className:"flex items-center space-x-4 pl-8",children:p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Total:"}),p.jsx("span",{className:"text-xl font-black italic text-indigo-500",children:w.length})]})})]}),p.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:Ge.length===0?p.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 space-y-4 animate-in fade-in zoom-in duration-500",children:[p.jsx(BS,{size:64,className:"opacity-10"}),p.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"No items in current stream"})]}):p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Ge.map(se=>{var B,Z;return p.jsxs("div",{className:`group relative bg-[#0d1117] border ${he===se.id?"border-indigo-500":"border-white/5"} p-6 rounded-sm transition-all hover:border-indigo-500/50 hover:shadow-2xl hover:shadow-indigo-600/5`,children:[p.jsxs("div",{className:"absolute top-4 right-4 flex space-x-1 opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:[p.jsx("button",{onClick:()=>V(se),className:"p-2 bg-slate-800 text-slate-400 hover:text-white rounded-sm border border-white/5",title:"Edit",children:p.jsx(d2,{size:14})}),p.jsx("button",{onClick:()=>R(se.id),className:"p-2 bg-slate-800 text-slate-400 hover:text-red-500 rounded-sm border border-white/5",title:"Delete",children:p.jsx(A2,{size:14})})]}),p.jsxs("div",{className:"flex items-start space-x-4",children:[p.jsx("div",{className:"w-16 h-20 bg-slate-900 border border-white/5 rounded-sm overflow-hidden shrink-0",children:se.cloudinaryId?p.jsx("img",{src:`https://res.cloudinary.com/dkczitgmn/image/upload/c_fill,w_200,h_250,q_auto:best/v1/${se.cloudinaryId}`,alt:"",className:"w-full h-full object-cover transition-all duration-500"}):p.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-800",children:p.jsx(Z0,{size:20})})}),p.jsxs("div",{className:"min-w-0 flex-1",children:[p.jsx("p",{className:"text-[10px] font-mono text-indigo-500 font-bold uppercase tracking-widest",children:se.code}),p.jsx("h5",{className:"text-sm font-black text-white uppercase italic tracking-tighter truncate mt-1",children:se.name}),p.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase mt-2",children:se.type}),p.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[p.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-white/5 rounded-sm text-slate-400 border border-white/5 uppercase",children:(B=se.material)==null?void 0:B.split(" ")[0]}),p.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-white/5 rounded-sm text-slate-400 border border-white/5 uppercase",children:(Z=se.weight)==null?void 0:Z.split(" ")[0]})]})]})]})]},se.id)})})})]})]}),p.jsx("style",{"hs-admin":!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(99, 102, 241, 0.5);
        }
      `})]}):p.jsx("div",{className:"min-h-screen bg-[#06080b] flex items-center justify-center p-6 font-sans",children:p.jsxs("div",{className:"w-full max-w-md bg-[#0d1117] border border-white/10 p-12 rounded-sm shadow-2xl relative overflow-hidden",children:[p.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-600"}),p.jsx("div",{className:"flex items-center space-x-4 mb-10",children:p.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter italic",children:"Admin Portal"})}),p.jsxs("form",{onSubmit:N,className:"space-y-8",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Credentials"}),p.jsx("input",{type:"email",placeholder:"Manager Email",value:r,onChange:se=>o(se.target.value),className:"w-full bg-[#161b22] border border-white/5 text-white px-5 py-4 rounded-sm focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",required:!0}),p.jsx("input",{type:"password",placeholder:"Access Key",value:c,onChange:se=>f(se.target.value),className:"w-full bg-[#161b22] border border-white/5 text-white px-5 py-4 rounded-sm focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",required:!0})]}),m&&p.jsx("p",{className:"text-red-500 text-[10px] font-bold italic uppercase tracking-widest",children:m}),p.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest py-5 transition-all text-xs",children:"Enter Control Center"}),p.jsx("button",{type:"button",onClick:s,className:"w-full text-slate-500 hover:text-white text-[10px] font-black uppercase tracking-widest py-2 transition-all mt-4",children:"Cancel and Return"})]})]})})},Z6="/assets/processed_inventory-DMZp0z0_.jpg",eM="/assets/knitting_unit-BxFobeir.jpg",Yb="/assets/company_intro-DB3Bd5wd.gif",tM={KR:{brand:"",sub:"    ",home:"",about:" (ABOUT)",business:"",knitting:" / ",processing:" ",hero_tags:"     ",hero_h1:" .",hero_p_line1:"   .",hero_p_line2:"      .",cta:"   ",cta_tooltip:"30  ",stats_history_val:"30",stats_history_label:" ",stats_history_sub:"30    ",stats_partners_val:"2500",stats_partners_label:" ",stats_partners_sub:"   ",stats_samples_val:"15000",stats_samples_label:" ",stats_samples_sub:" ",stats_defect_val:"1",stats_defect_label:"",stats_defect_sub_top:"  ",stats_defect_sub:"",explore:" ",inventory_title:"Signature",inventory_span:"Archive",inventory_p:"   .    .",biz_title:"Business",biz_sub:"System Solutions",sector_a_title:" / ",sector_a_p:"       ,          .",sector_b_title:" ",sector_b_p:", ,          .",learn_more:" ",contact_title:"Visit &",contact_span:"Contact.",contact_sub:"      .",address:"    441 ",tel:"031-832-0068",fax:"031-832-0069",email:"hwoasung0068@gmail.com",hours:" 09:00 ~ 18:00 /  ",ceo:": ",biz_no:": 127-12-70903",modal_title:" ",label_technical:" ",label_logic:" & ",label_raw:"",label_structure:"",label_density:"",label_width:"",label_color:"",label_code:" ",cta_quote:"    ",dashboard_about_cta:"  ",dashboard_inventory_cta:"  ",modal_inventory_cta:"  ",about_hero_tag:"ABOUT US",about_hero_h1:"  .",about_hero_h1_sub:"Textile Analysis Standard",about_hero_motto:"     .",about_hero_sub:"30         .",about_expertise_tag:"CORE EXPERTISE",about_expertise_title:"  ",about_process_tag:"PROCESS",about_process_title:"  ",about_factory_tag:"INFRASTRUCTURE",about_factory_title:"    ",about_closing:"(Hwoasung)       .",expertise_01_t:"  ",expertise_01_d:"  . , ,     .",expertise_02_t:"  ",expertise_02_d:"         .",expertise_03_t:" ",expertise_03_d:"           .",step_01_t:"  ",step_01_d:"   ",step_02_t:" ",step_02_d:"   ",step_03_t:" ",step_03_d:", ,  ",step_04_t:"   ",step_04_d:"  ",archive_explorer:" ",technical_archive:" ",nav_knitting:" /  ",nav_processing:" ",label_category:"",label_status:"",label_live:" ",label_total:" ",label_selected_unit:" ",label_explore:" ",inquiry:" "},EN:{brand:"Hwoasung Textile",sub:"A Solid Foundation for Brand Success",home:"HOME",about:"ROOTS (ABOUT)",business:"BUSINESS",knitting:"KNITTING / RAW",processing:"PROCESSED INVENTORY",inquiry:"INQUIRY",hero_tags:"Knitting Factory  Circular Knit  Polyester Specialist",hero_h1:"Sensation into Spec.",hero_p_line1:"> It's okay if you don't know the fabric name.",hero_p_line2:"We find the perfect spec with just a single sample.",cta:"Request Sample Analysis Now",cta_tooltip:"Connect with 30-year experts",stats_history_val:"30",stats_history_label:"Manufacturing History",stats_history_sub:"Over 30 years of experienced manufacturing history",stats_partners_val:"2500",stats_partners_label:"Cumulative Clients",stats_partners_sub:"Cumulative clients who shared success",stats_samples_val:"15000",stats_samples_label:"Work Order Data",stats_samples_sub:"Digitalized work order data",stats_defect_val:"1",stats_defect_label:"Defect Rate",stats_defect_sub_top:"Realized by in-house knitting",stats_defect_sub:"",explore:"Check Inventory",inventory_title:"Signature",inventory_span:"Archive",inventory_p:"These are the main product lines guaranteed by Hwoasung Textile. Click to check detailed specifications.",biz_title:"Business",biz_sub:"System Solutions",sector_a_title:"Knitting / Raw Fabric",sector_a_p:"Equipped with high-performance circular knitting machinery across diverse gauges, providing a solid production base capable of immediate response to any sample specification.",sector_b_title:"Processed Inventory",sector_b_p:"Premium processed fabric inventory including Boudre, Fleece, and Technical Bonding, carefully selected and digitalized by Hwoasung Textile.",learn_more:"Check Infrastructure",contact_title:"Visit &",contact_span:"Contact.",contact_sub:"Hwoasung Textile will be a lasting partner, not just a simple client.",address:"441 Jeon-young-ro, Cheongsan-myeon, Yeoncheon-gun, Gyeonggi-do, Hwoasung Textile",tel:"+82-31-832-0068",fax:"+82-31-832-0069",email:"hwoasung0068@gmail.com",hours:"Weekdays 09:00 ~ 18:00 / Closed on Weekends & Public Holidays",ceo:"CEO: Lee Won-hwa",biz_no:"Business No: 127-12-70903",modal_title:"Detailed Spec",label_technical:"Technical Spec",label_logic:"Features & Benefits",label_raw:"Material",label_structure:"Structure",label_density:"Weight",label_width:"Width",label_color:"Color",label_code:"Admin Code",cta_quote:"Request Sample Analysis & Quotation",dashboard_about_cta:"Learn about Hwoasung Roots",dashboard_inventory_cta:"View All Processed Inventory",modal_inventory_cta:"Explore Processed Inventory",about_hero_tag:"ABOUT US",about_hero_h1:"Standard of Textile Analysis.",about_hero_h1_sub:"Textile Analysis Standard",about_hero_motto:"The most reliable start for a sample to become a finished product.",about_hero_sub:"We suggest optimal results by precisely analyzing from yarn to process with 30 years of manufacturing know-how.",about_expertise_tag:"CORE EXPERTISE",about_expertise_title:"Value of Expertise and Integration",about_process_tag:"PROCESS",about_process_title:"Journey from Sample to Product",about_factory_tag:"INFRASTRUCTURE",about_factory_title:"Reliable Manufacturing Base",about_closing:"Hwoasung Textile will be a powerful partner maximizing your production efficiency.",expertise_01_t:"Precision Sample Analysis",expertise_01_d:"One swatch is enough. We minimize errors by digitalizing yarn, density, and processing methods.",expertise_02_t:"One-stop Process Integration",expertise_02_d:"We reduce distribution margins and increase production speed by organically connecting knitting to finishing.",expertise_03_t:"Supply Stability",expertise_03_d:"Based on our own factory, we provide uniform quality fabrics that brands can trust in a timely manner.",step_01_t:"Precision Sample Analysis",step_01_d:"Yarn & Tissue Identification",step_02_t:"Optimized Knitting",step_02_d:"Direct Production at Yeoncheon Factory",step_03_t:"Integrated Finishing",step_03_d:"Dyeing, Bonding, Printing, etc.",step_04_t:"Final Inspection & Shipment",step_04_d:"Quality Check by Process",archive_explorer:"Archive Explorer",technical_archive:"Technical Archive",nav_knitting:"KNITTING UNIT",nav_processing:"PROCESSING UNIT",label_category:"Category",label_status:"Status",label_live:"Live Archive",label_total:"Total Entries",label_selected_unit:"Unit Info",label_explore:"Explore Details"}},nM=s=>({knitting:[],processed:[]}),iM=lc.memo(({end:s,duration:e=2e3,suffix:n="",isVisible:r})=>{const[o,c]=pe.useState(0);if(pe.useEffect(()=>{if(!r||isNaN(parseFloat(s)))return;let m=null;const y=_=>{m||(m=_);const T=Math.min((_-m)/e,1),w=Math.floor(T*Math.abs(parseFloat(s)));c(w),T<1&&window.requestAnimationFrame(y)};window.requestAnimationFrame(y)},[r,s,e]),isNaN(parseFloat(s)))return p.jsxs("span",{children:[s,n]});const f=s.includes(".")?(o/100).toFixed(2):o.toLocaleString();return p.jsxs("span",{children:[f,n]})}),th=lc.memo(({icon:s,label:e,value:n,suffix:r,sub:o,subTop:c,isVisible:f,highlight:m=!1,pink:y=!1,showArrow:_=!1})=>p.jsxs("div",{className:`p-10 border-r border-white/5 last:border-r-0 transition-all duration-700 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"} ${m?"bg-indigo-600/5":""} ${y?"bg-pink-600/5":""}`,children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[p.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${y?"bg-pink-600 text-white":m?"bg-indigo-600 text-white":"bg-white/5 text-indigo-400"}`,children:s&&p.jsx(s,{size:20})}),p.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${y?"text-pink-400":"text-white/40"}`,children:e})]}),p.jsxs("div",{className:`text-4xl md:text-5xl font-black mb-4 tracking-tighter flex items-center ${y?"text-white":m?"text-indigo-400":"text-white"}`,children:[p.jsx(iM,{end:n,suffix:r,isVisible:f}),_&&p.jsx(NS,{size:32,className:"ml-2 text-pink-400 animate-bounce"})]}),c&&p.jsx("p",{className:"text-white text-[12px] font-bold mb-1 tracking-tight break-keep",children:c}),o&&p.jsx("p",{className:"text-slate-500 text-[10px] font-bold tracking-tight break-keep",children:o})]})),km=lc.memo(({dark:s=!1,imageSrc:e=null,cloudinaryId:n=null,text:r=""})=>{const o=n?vS(n):e;return p.jsxs("div",{className:`w-full h-full flex items-center justify-center relative overflow-hidden group ${s?"bg-[#0a0c10]":"bg-slate-100"}`,children:[o&&p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("img",{src:o,alt:r||"Textile Background",className:"w-full h-full object-cover opacity-100 group-hover:scale-110 transition-all duration-1000"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-40"})]}),p.jsx("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none z-10",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"30px 30px"}}),p.jsx("div",{className:"absolute -top-1/4 -right-1/4 w-full h-full bg-indigo-600/10 rounded-full blur-[120px] pointer-events-none z-10"}),p.jsx("div",{className:"absolute -bottom-1/4 -left-1/4 w-full h-full bg-blue-600/10 rounded-full blur-[120px] pointer-events-none z-10"}),!o&&p.jsxs("div",{className:"relative z-20 flex flex-col items-center opacity-20 group-hover:opacity-40 transition-opacity duration-1000",children:[p.jsx("div",{className:"w-16 h-16 border border-white/10 rounded-full flex items-center justify-center",children:p.jsx("div",{className:"w-8 h-8 border border-white/20 rounded-full flex items-center justify-center animate-pulse",children:p.jsx("div",{className:"w-2 h-2 bg-indigo-500/40 rounded-full"})})}),p.jsx("div",{className:"mt-4 w-px h-12 bg-gradient-to-b from-indigo-500/40 to-transparent"}),r&&p.jsx("div",{className:"mt-4 text-[8px] font-black text-white/40 uppercase tracking-widest leading-none text-center px-4",children:r})]})]})}),sM=lc.memo(()=>{const s=[{name:" ",url:"https://talk.naver.com/ct/w4aqxg",color:"bg-[#03C75A]",textColor:"text-white",icon:e=>p.jsx("svg",{viewBox:"0 0 40 40",width:e,height:e,fill:"currentColor",children:p.jsx("path",{d:"M20 0C8.954 0 0 8.351 0 18.653c0 4.148 1.486 7.971 4.022 11.026-.549 3.498-1.956 7.427-2.023 7.625-.095.275.05.57.323.659.053.018.107.026.162.026.216 0 .416-.141.488-.344.062-.174 2.859-7.854 6.703-9.176 3.166 1.189 6.641 1.841 10.325 1.841 11.046 0 20-8.351 20-18.653S31.046 0 20 0z"})})},{name:" ",url:"https://pf.kakao.com/_xkhixjn/chat",color:"bg-[#FEE500]",textColor:"text-[#3C1E1E]",icon:e=>p.jsx("svg",{viewBox:"0 0 40 40",width:e,height:e,fill:"currentColor",children:p.jsx("path",{d:"M20 3c-10.493 0-19 6.611-19 14.771 0 5.151 3.473 9.68 8.742 12.339-.395 1.442-1.427 5.215-1.636 6.007-.258.98.375.967.787.69 3.235-2.176 5.318-3.582 6.44-4.349C16.541 32.793 18.238 33 20 33c10.493 0 19-6.611 19-14.771S30.493 3 20 3z"})})}];return p.jsx("div",{className:"fixed bottom-10 right-10 z-[100] flex flex-col items-end space-y-4",children:s.map((e,n)=>p.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-end",children:[p.jsxs("div",{className:"absolute right-full mr-4 px-4 py-2 bg-slate-900 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 translate-x-[10px] group-hover:translate-x-0 transition-all duration-300 pointer-events-none whitespace-nowrap shadow-2xl",children:[e.name,p.jsx("div",{className:"absolute top-1/2 right-0 translate-x-1/2 -translate-y-1/2 border-8 border-transparent border-left-slate-900 border-l-slate-900"})]}),p.jsx("div",{className:`${e.color} ${e.textColor} w-14 h-14 rounded-full flex items-center justify-center shadow-xl hover:scale-110 active:scale-95 transition-all duration-300`,children:e.icon(28)})]},n))})}),rM=lc.memo(({show:s,label:e,onClick:n})=>p.jsx("div",{className:`fixed bottom-8 left-1/2 -translate-x-1/2 z-[110] transition-all duration-700 ${s?"opacity-100 translate-y-0 pointer-events-auto":"opacity-0 translate-y-10 pointer-events-none"}`,children:p.jsxs("button",{onClick:n,className:"group flex items-center space-x-4 bg-indigo-600 hover:bg-indigo-700 text-white px-8 py-4 rounded-full shadow-[0_20px_40px_rgba(79,70,229,0.3)] hover:shadow-[0_25px_50px_rgba(79,70,229,0.4)] transition-all duration-300 hover:scale-105 active:scale-95 border border-white/10",children:[p.jsx("span",{className:"text-[11px] font-black tracking-[0.2em] uppercase whitespace-nowrap",children:e}),p.jsx("div",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center group-hover:bg-white/20 transition-colors",children:p.jsx(er,{size:14,className:"group-hover:translate-x-0.5 transition-transform"})})]})})),aM=({naverUrl:s})=>p.jsxs("div",{className:"relative w-full h-full group/map",children:[p.jsx("iframe",{src:`https://maps.google.com/maps?q=${encodeURIComponent("    441")}&t=&z=15&ie=UTF8&iwloc=&output=embed`,className:"w-full h-full grayscale hover:grayscale-0 transition-all duration-1000 border-none",allowFullScreen:!0,loading:"lazy"}),p.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 left-6 bg-white shadow-2xl px-6 py-4 flex items-center space-x-3 group/btn hover:bg-slate-900 hover:text-white transition-all duration-500 rounded-sm",children:[p.jsxs("div",{className:"text-left",children:[p.jsx("div",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest mb-0.5",children:"Navigation"}),p.jsx("div",{className:"text-xs font-black uppercase tracking-tight",children:"Open Naver Maps"})]}),p.jsx(kS,{size:16,className:"group-hover/btn:translate-x-1 group-hover/btn:-translate-y-1 transition-transform"})]})]}),oM=()=>{const[s,e]=pe.useState("main"),[n,r]=pe.useState("KR"),[o,c]=pe.useState(null),[f,m]=pe.useState(!1),[y,_]=pe.useState(!1),[T,w]=pe.useState(!1),[S,G]=pe.useState([]),[W,te]=pe.useState(!1),ee=pe.useRef(null);pe.useEffect(()=>{const ne=ST(np(Hl,"products"),RT("createdAt","desc"));return IT(ne,cn=>{const bn=cn.docs.map(vs=>({id:vs.id,...vs.data()}));G(bn)},cn=>{console.error("App.jsx Firestore Listener Error:",cn)})},[]);const he="https://map.naver.com/v5/search/%EA%B2%BD%EA%B8%B0%EB%8F%84%20%EC%97%B0%EC%B2%9C%20%EC%B2%AD%EC%82%B0%EB%A9%B4%20%EC%A0%84%EC%98%81%EB%A1%9C%20441%20%ED%99%94%EC%84%B1%EC%84%AC%EC%9C%A0",[be,ge]=pe.useState(0);pe.useEffect(()=>{if(s!=="about")return;const ne=setInterval(()=>{ge(Oe=>Oe===0?1:0)},1500);return()=>clearInterval(ne)},[s]),pe.useEffect(()=>{},[]);const q=pe.useMemo(()=>tM[n],[n]),ce=pe.useMemo(()=>{const ne=nM(),Oe=S.filter(bn=>bn.type==="knitting"),cn=S.filter(bn=>bn.type==="processed");return{knitting:[...Oe,...ne.knitting],processed:[...cn,...ne.processed]}},[n,S]),me=pe.useMemo(()=>[...ce.knitting.slice(0,2),...ce.processed.slice(0,2)],[ce]),N=me.length,A=pe.useMemo(()=>[...me,...me,...me],[me]),[I,M]=pe.useState(N),[k,V]=pe.useState(!0),[R,Ge]=pe.useState(!1),[se,B]=pe.useState(null),[Z,de]=pe.useState(0),[ke,Ke]=pe.useState(!1),O=pe.useCallback(()=>typeof window>"u"?100:window.innerWidth<640?85:window.innerWidth<1024?50:25,[]),[Q,re]=pe.useState(O());pe.useEffect(()=>{const ne=()=>re(O());return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[O]);const ae=pe.useCallback(()=>{V(!0),M(ne=>ne+1)},[]);pe.useEffect(()=>{if(R||se!==null)return;const ne=setInterval(ae,3500);return()=>clearInterval(ne)},[ae,R,se]);const xe=()=>{I>=N*2?(V(!1),M(N)):I<=N-1&&(V(!1),M(N*2-1))},Ae=ne=>{Ge(!0),V(!1),Ke(!1);const Oe=ne.type.includes("mouse")?ne.clientX:ne.touches[0].clientX;B(Oe)},De=ne=>{if(se===null)return;const cn=(ne.type.includes("mouse")?ne.clientX:ne.touches[0].clientX)-se;Math.abs(cn)>5&&Ke(!0),de(cn)},dt=()=>{se!==null&&(V(!0),Z>50?M(ne=>ne-1):Z<-50&&M(ne=>ne+1),B(null),de(0),Ge(!1))};pe.useEffect(()=>{const ne=()=>{m(window.scrollY>50),te(s==="inquiry"?!1:s==="main"?window.scrollY>600:!0)};return window.addEventListener("scroll",ne),ne(),()=>window.removeEventListener("scroll",ne)},[s]);const tt=pe.useRef(null),[Dn,_s]=pe.useState(!1);pe.useEffect(()=>{const ne=new IntersectionObserver(([Oe])=>{Oe.isIntersecting&&_s(!0)},{threshold:.1});return tt.current&&ne.observe(tt.current),()=>ne.disconnect()},[]);const He=pe.useCallback(ne=>{e(ne),c(null),w(!1),window.scrollTo({top:0,behavior:"auto"})},[]);return pe.useEffect(()=>{if(s==="inquiry")if(window.Tally)window.Tally.loadEmbeds();else{const ne=document.createElement("script");ne.src="https://tally.so/widgets/embed.js",ne.onload=()=>{window.Tally&&window.Tally.loadEmbeds()},document.body.appendChild(ne)}},[s]),s==="admin"?p.jsx(W6,{onBack:()=>e("main")}):p.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 leading-relaxed overflow-x-hidden selection:bg-indigo-600 selection:text-white relative",children:[p.jsx("nav",{className:`fixed w-full z-[100] transition-all duration-500 ${f?"bg-white/95 backdrop-blur-md py-4 border-b border-slate-100 shadow-sm":"bg-transparent py-10"}`,children:p.jsxs("div",{className:"container mx-auto px-6 md:px-10 flex justify-between items-center",children:[p.jsxs("div",{className:"flex items-center space-x-4 md:space-x-8",children:[p.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:()=>He("main"),children:[p.jsx("div",{className:"w-10 h-10 bg-white flex items-center justify-center relative overflow-hidden rounded-sm border border-slate-100 group-hover:scale-105 transition-transform duration-300",children:p.jsx("img",{src:"/logo.png",alt:"HS",className:"w-full h-full object-contain"})}),p.jsxs("div",{className:`flex flex-col transition-colors duration-500 ${!f&&s==="main"?"text-white":"text-slate-900"}`,children:[p.jsx("span",{className:"font-bold text-xl tracking-[0.15em] leading-none",children:q.brand}),p.jsx("span",{className:`text-[7px] font-bold tracking-[0.2em] mt-1.5 uppercase ${!f&&s==="main"?"text-white/70":"text-slate-400"}`,children:q.sub})]})]}),p.jsxs("div",{className:`md:hidden flex items-center space-x-2 font-mono text-[10px] px-3 py-1.5 rounded-full border transition-colors ${!f&&s==="main"?"border-white/20 text-white":"border-slate-200 text-slate-400"}`,children:[p.jsx("button",{onClick:()=>r("KR"),className:n==="KR"?"font-black text-indigo-500 underline underline-offset-4":"opacity-60",children:"KR"}),p.jsx("span",{className:"opacity-30",children:"|"}),p.jsx("button",{onClick:()=>r("EN"),className:n==="EN"?"font-black text-indigo-500 underline underline-offset-4":"opacity-60",children:"EN"})]})]}),p.jsxs("div",{className:"hidden md:flex space-x-10 text-[10px] font-black tracking-[0.2em] items-center",children:[p.jsx("button",{onClick:()=>He("main"),className:`transition-all duration-500 ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="main"?"border-b-2 border-indigo-500 pb-1":""}`,children:q.home}),p.jsx("button",{onClick:()=>He("about"),className:`transition-all duration-500 ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="about"?"border-b-2 border-indigo-500 pb-1":""}`,children:q.about}),p.jsxs("div",{className:"relative",onMouseEnter:()=>_(!0),onMouseLeave:()=>_(!1),children:[p.jsxs("button",{className:`flex items-center transition-all duration-500 uppercase ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="knitting"||s==="processing"?"border-b-2 border-indigo-500 pb-1":""}`,children:[q.business," ",p.jsx(VS,{size:12,className:`ml-1 transition-transform ${y?"rotate-180":""}`})]}),p.jsx("div",{className:`absolute top-full left-0 w-64 pt-6 transition-all duration-300 transform ${y?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}`,children:p.jsxs("div",{className:"bg-white border border-slate-100 shadow-2xl rounded-sm p-2",children:[p.jsxs("button",{onClick:()=>He("knitting"),className:"w-full text-left px-5 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50",children:[p.jsx("span",{className:"text-[9px] block text-indigo-600 font-bold mb-1 opacity-60 uppercase font-mono tracking-widest",children:"UNIT_01"}),p.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-tight",children:q.knitting})]}),p.jsxs("button",{onClick:()=>He("processing"),className:"w-full text-left px-5 py-4 hover:bg-slate-50 transition-colors",children:[p.jsx("span",{className:"text-[9px] block text-indigo-600 font-bold mb-1 opacity-60 uppercase font-mono tracking-widest",children:"UNIT_02"}),p.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-tight",children:q.processing})]})]})})]}),p.jsx("button",{onClick:()=>He("inquiry"),className:`transition-all duration-500 ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="inquiry"?"border-b-2 border-indigo-500 pb-1":""}`,children:q.inquiry}),p.jsxs("div",{className:`flex items-center space-x-2 border-l pl-8 font-mono ${!f&&s==="main"?"border-white/20":"border-slate-200"}`,children:[p.jsx("button",{onClick:()=>r("KR"),className:`transition-all ${n==="KR"?!f&&s==="main"?"text-white font-black underline underline-offset-4":"text-slate-900 font-black underline underline-offset-4":!f&&s==="main"?"text-white/40 hover:text-white":"text-slate-400 hover:text-slate-900"}`,children:"KR"}),p.jsx("span",{className:!f&&s==="main"?"text-white/20":"text-slate-300",children:"|"}),p.jsx("button",{onClick:()=>r("EN"),className:`transition-all ${n==="EN"?!f&&s==="main"?"text-white font-black underline underline-offset-4":"text-slate-900 font-black underline underline-offset-4":!f&&s==="main"?"text-white/40 hover:text-white":"text-slate-400 hover:text-slate-900"}`,children:"EN"})]})]}),p.jsx("button",{"aria-label":"Toggle Menu",onClick:()=>w(!T),className:`md:hidden p-2 ${!f&&s==="main"?"text-white":"text-slate-900"}`,children:p.jsx(u2,{size:24})})]})}),s==="main"&&p.jsxs("section",{className:"relative min-h-[90vh] md:min-h-screen flex items-center justify-center pt-20 overflow-hidden bg-[#0A0D14]",children:[p.jsxs("div",{className:"absolute inset-0 z-0",children:[p.jsx("iframe",{src:"https://my.spline.design/animatedshapeblend-L0xmFw01nnmV911WGPSAJZfS/",frameBorder:"0",width:"100%",height:"100%",className:"w-full h-full scale-[1.8] opacity-60 md:scale-110 md:opacity-100 lg:scale-100",style:{pointerEvents:"auto"}}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-[#0A0D14]/80 via-[#0A0D14]/40 to-[#0A0D14] z-10 pointer-events-none"})]}),p.jsx("div",{className:"absolute inset-0 z-[1] opacity-20 pointer-events-none",style:{backgroundImage:"repeating-linear-gradient(-45deg, transparent, transparent 15px, rgba(255,255,255,0.02) 15px, rgba(255,255,255,0.02) 16px)"}}),p.jsx("div",{className:"container mx-auto px-6 md:px-10 relative z-20 text-center",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-10 animate-in fade-in slide-in-from-top-4 duration-1000",children:q.hero_tags.split("  ").map((ne,Oe)=>p.jsx("span",{className:"px-3 py-1 bg-white/5 backdrop-blur-sm border border-white/10 rounded-full text-white/70 text-[10px] font-bold tracking-[0.15em] uppercase transition-colors hover:bg-white/10",children:ne},Oe))}),p.jsx("h1",{className:"text-5xl md:text-[6.5rem] font-black text-white leading-[1.1] md:leading-tight tracking-tighter mb-12 italic animate-in fade-in zoom-in-95 duration-1000 delay-200",children:p.jsxs("span",{className:"relative inline-block",children:[n==="KR"?p.jsxs(p.Fragment,{children:[" ",p.jsx("br",{className:"md:hidden"})," ",p.jsx("span",{className:"text-white",children:"."})]}):p.jsxs(p.Fragment,{children:[q.hero_h1.split(".")[0],p.jsx("span",{className:"text-white",children:"."})]}),p.jsx("div",{className:"absolute -bottom-4 left-0 w-full h-8 bg-indigo-600/40 -z-10 blur-xl"}),p.jsx("div",{className:"absolute -bottom-2 left-0 w-full h-1.5 bg-indigo-500 rounded-full"})]})}),p.jsxs("div",{className:"flex flex-col items-center animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-500",children:[p.jsxs("div",{className:"max-w-2xl mb-16 px-8 py-10 bg-white/5 backdrop-blur-xl border border-white/10 rounded-2xl relative group/card",children:[p.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-1.5 h-3/4 bg-indigo-500 rounded-full shadow-[0_0_15px_rgba(99,102,241,0.5)]"}),p.jsxs("div",{className:"pl-6 text-left",children:[p.jsx("p",{className:"text-white font-black text-2xl md:text-3xl mb-6 tracking-tight drop-shadow-2xl flex items-center",children:q.hero_p_line1}),p.jsx("p",{className:"text-slate-100 text-lg md:text-xl font-medium leading-relaxed break-keep",children:n==="KR"?p.jsxs(p.Fragment,{children:["   ",p.jsxs("span",{className:"relative inline-block",children:[p.jsx("span",{className:"absolute inset-x-0 bottom-1 h-3 bg-indigo-500/20 -z-10"}),p.jsx("span",{className:"text-indigo-400 font-bold decoration-indigo-400 underline underline-offset-8",children:"  "})]})," ."]}):q.hero_p_line2})]})]}),p.jsxs("button",{onClick:()=>He("inquiry"),className:"group relative px-10 py-6 md:px-16 md:py-8 bg-white hover:bg-indigo-600 transition-all duration-500 rounded-lg shadow-[0_0_40px_rgba(255,255,255,0.1)] flex items-center space-x-4 md:space-x-6 hover:scale-105 active:scale-95",children:[p.jsx("span",{className:"text-slate-950 group-hover:text-white text-sm md:text-base font-black tracking-[0.1em] uppercase",children:q.cta}),p.jsx(er,{className:"text-slate-950 group-hover:text-white group-hover:translate-x-3 transition-transform shrink-0",size:24})]})]})]})}),p.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:flex flex-col items-center opacity-20",children:[p.jsx("div",{className:"text-[8px] font-black text-white tracking-[0.4em] uppercase mb-4",children:"SCROLL"}),p.jsx("div",{className:"w-[1px] h-12 bg-gradient-to-b from-white to-transparent"})]})]}),s==="main"&&p.jsx("section",{ref:tt,className:"bg-slate-900 border-y border-white/5 relative z-10",children:p.jsx("div",{className:"container mx-auto px-0 md:px-10",children:p.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4",children:[p.jsx(th,{icon:YS,label:q.stats_history_label,value:q.stats_history_val,suffix:"+",sub:q.stats_history_sub,isVisible:Dn}),p.jsx(th,{icon:R2,label:q.stats_partners_label,value:q.stats_partners_val,suffix:"+",sub:q.stats_partners_sub,isVisible:Dn}),p.jsx(th,{icon:HS,label:q.stats_samples_label,value:q.stats_samples_val,suffix:"+",sub:q.stats_samples_sub,isVisible:Dn}),p.jsx(th,{icon:E2,label:q.stats_defect_label,value:q.stats_defect_val,suffix:"%",subTop:q.stats_defect_sub_top,sub:q.stats_defect_sub,isVisible:Dn,pink:!0,showArrow:!0})]})})}),s==="main"&&p.jsx("section",{className:"py-24 md:py-40 bg-white overflow-hidden",children:p.jsx("div",{className:"container mx-auto px-6 md:px-10",children:p.jsxs("div",{className:"flex flex-col lg:flex-row gap-20 items-center",children:[p.jsxs("div",{className:"w-full lg:w-1/2 relative",children:[p.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-50 rounded-full mix-blend-multiply opacity-70"}),p.jsxs("div",{className:"relative aspect-square bg-slate-100 rounded-sm overflow-hidden group shadow-2xl",children:[p.jsx("img",{src:Yb,alt:"Knitting Infrastructure",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity duration-700 flex items-center justify-center backdrop-blur-sm",children:p.jsx("button",{onClick:()=>He("about"),className:"bg-white text-slate-900 px-8 py-4 text-[10px] font-black tracking-widest uppercase hover:bg-indigo-600 hover:text-white transition-all transform translate-y-4 group-hover:translate-y-0 duration-500",children:"View Infrastructure"})})]}),p.jsxs("div",{className:"absolute -bottom-10 -right-10 w-64 bg-white p-8 shadow-2xl border border-slate-100 hidden md:block animate-bounce-slow",children:[p.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white",children:p.jsx(C2,{size:20})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Efficiency"}),p.jsx("div",{className:"text-xl font-bold text-slate-900 leading-none",children:"Fast-Track"})]})]}),p.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:"     20%    ."})]})]}),p.jsxs("div",{className:"w-full lg:w-1/2",children:[p.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[p.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"}),p.jsx("span",{className:"text-xs font-black text-indigo-600 tracking-[0.3em] uppercase",children:q.biz_sub})]}),p.jsx("h2",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[0.9] tracking-tighter mb-10 italic",children:q.biz_title.split(" ").map((ne,Oe)=>p.jsx("span",{className:"block",children:ne},Oe))}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-16",children:[p.jsxs("div",{onClick:()=>He("knitting"),className:"group relative h-[450px] bg-[#0a0c10] rounded-sm overflow-hidden cursor-pointer shadow-2xl transition-all duration-700 hover:-translate-y-2 border border-white/5",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsxs("div",{className:"absolute inset-0 z-0 scale-100 group-hover:scale-110 transition-transform duration-1000",children:[p.jsx("img",{src:eM,alt:"Knitting Factory",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"}),p.jsx("div",{className:"absolute inset-0 bg-slate-950/70 group-hover:bg-slate-950/40 transition-colors duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/20 to-transparent opacity-90"})]}),p.jsxs("div",{className:"relative z-10 h-full p-10 flex flex-col justify-end",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-xl shadow-indigo-600/30",children:p.jsx(dm,{size:20})}),p.jsx("div",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em] mb-3",children:"Unit 01"}),p.jsx("h3",{className:"text-3xl font-black text-white mb-5 italic tracking-tighter uppercase leading-none md:text-3xl",children:q.sector_a_title}),p.jsx("p",{className:"text-slate-100 text-xs font-medium leading-relaxed max-w-sm mb-6 opacity-100 transform translate-y-0 md:opacity-0 md:translate-y-4 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition-all duration-700 break-keep",children:q.sector_a_p}),p.jsxs("div",{className:"flex items-center space-x-3 text-white text-[10px] font-black tracking-widest uppercase opacity-100 md:opacity-60 md:group-hover:opacity-100 transition-opacity",children:[p.jsx("span",{children:"Explore Infrastructure"}),p.jsx(er,{size:12,className:"md:group-hover:translate-x-2 transition-transform"})]})]})]}),p.jsxs("div",{onClick:()=>He("processing"),className:"group relative h-[450px] bg-[#0a0c10] rounded-sm overflow-hidden cursor-pointer shadow-2xl transition-all duration-700 hover:-translate-y-2 border border-white/5",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),p.jsxs("div",{className:"absolute inset-0 z-0 scale-100 group-hover:scale-110 transition-transform duration-1000",children:[p.jsx("img",{src:Z6,alt:"Processed Inventory",className:"w-full h-full object-cover transition-transform duration-1000 group-hover:scale-110"}),p.jsx("div",{className:"absolute inset-0 bg-slate-950/70 group-hover:bg-slate-950/40 transition-colors duration-700"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-950 via-slate-950/20 to-transparent opacity-90"})]}),p.jsxs("div",{className:"relative z-10 h-full p-10 flex flex-col justify-end",children:[p.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-xl shadow-indigo-600/30",children:p.jsx(ev,{size:20})}),p.jsx("div",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em] mb-3",children:"Unit 02"}),p.jsx("h3",{className:"text-3xl font-black text-white mb-5 italic tracking-tighter uppercase leading-none md:text-3xl",children:q.sector_b_title}),p.jsx("p",{className:"text-slate-100 text-xs font-medium leading-relaxed max-w-sm mb-6 opacity-100 transform translate-y-0 md:opacity-0 md:translate-y-4 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition-all duration-700 break-keep",children:q.sector_b_p}),p.jsxs("div",{className:"flex items-center space-x-3 text-white text-[10px] font-black tracking-widest uppercase opacity-100 md:opacity-60 md:group-hover:opacity-100 transition-opacity",children:[p.jsx("span",{children:"Check Inventory"}),p.jsx(er,{size:12,className:"md:group-hover:translate-x-2 transition-transform"})]})]})]})]}),p.jsxs("button",{onClick:()=>He("about"),className:"flex items-center space-x-4 text-slate-900 hover:text-indigo-600 transition-all group",children:[p.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:q.learn_more}),p.jsx("div",{className:"w-12 h-12 rounded-full border border-slate-200 flex items-center justify-center group-hover:border-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:p.jsx(LS,{size:18})})]})]})]})})}),s==="main"&&p.jsx("section",{className:"py-24 md:py-40 bg-white relative overflow-hidden",children:p.jsxs("div",{className:"container mx-auto px-6 md:px-10 relative z-10 flex flex-col items-center",children:[p.jsxs("div",{className:"text-center mb-20 md:mb-32",children:[p.jsxs("h2",{className:"text-[12vw] md:text-[8rem] font-black leading-[0.8] tracking-tighter mb-12 italic uppercase",children:[p.jsx("span",{className:"text-slate-950 block",children:"Signature"}),p.jsx("span",{className:"text-indigo-600 block",children:"Archive."})]}),p.jsx("p",{className:"max-w-2xl mx-auto text-slate-500 text-lg md:text-xl font-medium leading-relaxed italic break-keep",children:q.inventory_p})]}),p.jsxs("div",{className:"w-full relative cursor-grab active:cursor-grabbing select-none mb-20",onMouseEnter:()=>Ge(!0),onMouseLeave:()=>{Ge(!1),dt()},onMouseDown:Ae,onMouseMove:De,onMouseUp:dt,onTouchStart:Ae,onTouchMove:De,onTouchEnd:dt,children:[p.jsx("div",{className:"flex transition-transform duration-700 ease-[cubic-bezier(0.23,1,0.32,1)]",style:{transform:`translateX(calc(-${I*Q}% + ${Z}px))`,transition:k?"transform 0.7s cubic-bezier(0.23,1,0.32,1)":"none"},onTransitionEnd:xe,children:A.map((ne,Oe)=>p.jsx("div",{className:"flex-shrink-0 px-3 transition-all duration-500",style:{width:`${Q}%`},children:p.jsxs("div",{onClick:()=>!ke&&c(ne),className:"bg-white group/card rounded-sm overflow-hidden border border-slate-100 shadow-sm hover:shadow-2xl transition-all duration-500 h-full flex flex-col",children:[p.jsxs("div",{className:"aspect-[4/5] bg-slate-100 relative overflow-hidden",children:[p.jsx(km,{text:ne.engName,imageSrc:ne.imageSrc,cloudinaryId:ne.cloudinaryId}),p.jsx("div",{className:"absolute inset-0 bg-indigo-600/0 group-hover/card:bg-indigo-600/10 transition-colors duration-500"}),p.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-white/90 backdrop-blur-md flex items-center justify-center text-slate-900 opacity-0 group-hover/card:opacity-100 transform translate-x-4 group-hover/card:translate-x-0 transition-all duration-500",children:p.jsx(l1,{size:16})}),p.jsxs("div",{className:"absolute bottom-6 left-6",children:[p.jsx("div",{className:"text-[10px] font-black text-white/60 uppercase tracking-[0.2em] mb-1",children:ne.code}),p.jsx("div",{className:"text-xl font-black text-white leading-none tracking-tight",children:n==="KR"?ne.name:ne.engName||ne.name})]})]}),p.jsxs("div",{className:"p-8",children:[p.jsx("div",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest mb-4 font-mono",children:ne.material}),p.jsx("p",{className:"text-slate-500 text-[11px] leading-relaxed line-clamp-2 h-8",children:ne.desc})]})]})},Oe))}),p.jsx("div",{className:"flex justify-center mt-12 space-x-2",children:me.map((ne,Oe)=>p.jsx("button",{onClick:()=>{V(!0),M(Oe+N)},className:`h-1 transition-all duration-500 ${I%N===Oe?"w-12 bg-indigo-600":"w-4 bg-slate-200"}`},Oe))})]}),p.jsxs("button",{onClick:()=>He("processing"),className:"group flex items-center space-x-6 text-slate-950 hover:text-indigo-600 transition-all",children:[p.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:q.dashboard_inventory_cta}),p.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-600 text-white flex items-center justify-center group-hover:bg-indigo-700 shadow-lg shadow-indigo-600/30 transition-all group-hover:scale-110",children:p.jsx(er,{size:18})})]})]})}),s==="about"&&p.jsx("section",{className:"bg-slate-900 text-white min-h-screen pt-40 pb-24 overflow-hidden relative",children:p.jsxs("div",{className:"container mx-auto px-6 md:px-10 relative z-10 flex flex-col items-center",children:[p.jsxs("div",{className:"text-center mb-40",children:[p.jsx("div",{className:"inline-block px-4 py-1 border border-indigo-500/30 text-indigo-400 text-[10px] font-black tracking-[0.3em] uppercase mb-12 rounded-sm animate-in fade-in slide-in-from-bottom-4 duration-700",children:q.about_hero_tag}),p.jsxs("h2",{className:"text-[12vw] md:text-[8rem] font-black leading-[0.8] tracking-tighter mb-16 italic uppercase",children:[p.jsx("span",{className:"text-white block",children:"Hwoasung"}),p.jsx("span",{className:"text-indigo-500 block",children:"Roots."})]}),p.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-300",children:[p.jsx("p",{className:"text-indigo-400 font-mono text-xl md:text-2xl mb-8 leading-tight break-keep italic",children:q.about_hero_motto}),p.jsx("div",{className:"h-[1px] w-20 bg-indigo-500/50 mx-auto mb-10"}),p.jsx("p",{className:"text-slate-400 text-xl md:text-2xl leading-relaxed font-medium break-keep",children:q.about_hero_sub})]})]}),p.jsxs("div",{className:"w-full max-w-6xl mx-auto relative aspect-video bg-slate-800 rounded-sm overflow-hidden group shadow-[0_0_100px_rgba(79,70,229,0.15)] mb-40 animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-500",children:[p.jsx("img",{src:Yb,alt:"Hwoasung Archive",className:"w-full h-full object-cover"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-transparent"}),p.jsx("div",{className:"absolute bottom-10 right-10 flex space-x-3",children:[0,1].map(ne=>p.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-500 ${be===ne?"bg-indigo-500 w-8":"bg-white/20"}`},ne))})]}),p.jsxs("div",{className:"mb-40",children:[p.jsxs("div",{className:"flex items-center space-x-6 mb-20 group",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-white flex items-center justify-center shadow-xl shadow-indigo-600/10 group-hover:scale-110 transition-transform overflow-hidden border border-white/10",children:p.jsx("img",{src:"/logo.png",alt:"HS",className:"w-full h-full object-contain"})}),p.jsx("h3",{className:"text-3xl font-black tracking-tighter italic uppercase",children:q.about_expertise_title}),p.jsx("div",{className:"flex-1 h-[1px] bg-white/10"})]}),p.jsx("div",{className:"grid md:grid-cols-3 gap-1px bg-white/5 border border-white/5 rounded-sm overflow-hidden",children:[{t:q.expertise_01_t,d:q.expertise_01_d,icon:c1},{t:q.expertise_02_t,d:q.expertise_02_d,icon:ev},{t:q.expertise_03_t,d:q.expertise_03_d,icon:x2}].map((ne,Oe)=>p.jsxs("div",{className:"bg-slate-900 p-12 hover:bg-slate-800 transition-colors group",children:[p.jsx(ne.icon,{className:"text-indigo-500 mb-8 group-hover:scale-110 transition-transform",size:32}),p.jsx("h4",{className:"text-2xl font-black mb-6 tracking-tight italic",children:ne.t}),p.jsx("p",{className:"text-slate-400 text-sm leading-relaxed font-medium break-keep",children:ne.d})]},Oe))})]}),p.jsxs("div",{className:"mb-40",children:[p.jsxs("div",{className:"text-center mb-24",children:[p.jsx("div",{className:"text-[10px] font-black text-indigo-500 tracking-[0.4em] uppercase mb-4",children:q.about_process_tag}),p.jsx("h3",{className:"text-5xl md:text-6xl font-black tracking-tighter italic uppercase",children:q.about_process_title})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[1px] bg-white/10 hidden lg:block -translate-y-1/2"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8 relative z-10",children:[{t:q.step_01_t,d:q.step_01_d,icon:Dm},{t:q.step_02_t,d:q.step_02_d,icon:dm},{t:q.step_03_t,d:q.step_03_d,icon:SS},{t:q.step_04_t,d:q.step_04_d,icon:W0}].map((ne,Oe)=>p.jsxs("div",{className:"flex flex-col items-center text-center group",children:[p.jsxs("div",{className:"w-24 h-24 rounded-full bg-slate-800 border-2 border-white/5 flex items-center justify-center mb-8 group-hover:border-indigo-500 transition-all duration-500 shadow-2xl relative",children:[p.jsxs("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-[10px] font-black italic",children:["0",Oe+1]}),p.jsx(ne.icon,{size:28,className:"text-indigo-400 group-hover:text-white transition-colors"})]}),p.jsx("h4",{className:"text-xl font-bold mb-4 italic tracking-tight",children:ne.t}),p.jsx("p",{className:"text-slate-500 text-[11px] font-bold uppercase tracking-widest",children:ne.d})]},Oe))})]})]}),p.jsx("div",{className:"py-32 border-t border-white/5 flex flex-col items-center",children:p.jsxs("div",{className:"max-w-4xl text-center",children:[p.jsx("div",{className:"w-20 h-20 mx-auto mb-12 rounded-2xl bg-indigo-600 rotate-12 flex items-center justify-center text-white shadow-2xl shadow-indigo-600/40",children:p.jsx(OS,{size:32})}),p.jsx("h3",{className:"text-3xl md:text-5xl font-black mb-12 italic tracking-tighter leading-tight break-keep",children:q.about_closing}),p.jsx("button",{onClick:()=>He("knitting"),className:"group relative px-12 py-6 bg-white hover:bg-indigo-600 transition-all duration-500 rounded-full",children:p.jsxs("div",{className:"relative z-10 flex items-center space-x-4",children:[p.jsx("span",{className:"text-slate-900 group-hover:text-white text-xs font-black tracking-[0.2em] uppercase",children:q.dashboard_inventory_cta}),p.jsx(er,{className:"text-slate-900 group-hover:text-white group-hover:translate-x-2 transition-transform",size:18})]})})]})})]})}),(s==="knitting"||s==="processing")&&p.jsx("section",{className:"bg-[#f8f9fa] min-h-screen pt-32 pb-24 overflow-hidden",children:p.jsx("div",{className:"container mx-auto px-6 md:px-10 h-full",children:p.jsxs("div",{className:"flex flex-col lg:flex-row gap-12 items-start h-full",children:[p.jsxs("aside",{className:"w-full lg:w-80 lg:sticky lg:top-40 space-y-12",children:[p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-8 h-[2px] bg-indigo-600"}),p.jsx("span",{className:"text-[10px] font-black text-indigo-600 tracking-[0.4em] uppercase",children:q.archive_explorer})]}),p.jsx("h2",{className:"text-4xl font-black text-slate-900 tracking-tighter italic uppercase leading-none",children:n==="KR"?" ":p.jsxs(p.Fragment,{children:["Technical",p.jsx("br",{}),"Archive"]})})]}),p.jsxs("nav",{className:"space-y-2 border-l border-slate-200 pl-6",children:[p.jsxs("button",{onClick:()=>He("knitting"),className:`block w-full text-left py-2 text-sm font-black transition-all group ${s==="knitting"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-3 transition-all ${s==="knitting"?"bg-indigo-600 scale-125":"bg-transparent border border-slate-300"}`}),q.nav_knitting]}),p.jsxs("button",{onClick:()=>He("processing"),className:`block w-full text-left py-2 text-sm font-black transition-all group ${s==="processing"?"text-indigo-600":"text-slate-400 hover:text-slate-600"}`,children:[p.jsx("span",{className:`inline-block w-2 h-2 rounded-full mr-3 transition-all ${s==="processing"?"bg-indigo-600 scale-125":"bg-transparent border border-slate-300"}`}),q.nav_processing]})]}),p.jsxs("div",{className:"p-8 bg-white border border-slate-100 rounded-sm space-y-6 shadow-sm",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:q.label_category}),p.jsx("div",{className:"text-[10px] font-bold text-slate-900 uppercase",children:s==="knitting"?n==="KR"?" / ":"Knitted":n==="KR"?"":"Processed"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:q.label_status}),p.jsxs("div",{className:"flex items-center space-x-2",children:[p.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),p.jsx("span",{className:"text-[10px] font-bold text-slate-900 uppercase",children:q.label_live})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("div",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest",children:q.label_total}),p.jsx("div",{className:"text-[10px] font-mono font-bold text-indigo-600",children:String((s==="knitting"?ce.knitting:ce.processed).length).padStart(3,"0")})]})]})]}),p.jsxs("div",{className:"flex-1 w-full h-full",children:[p.jsxs("div",{className:"mb-12 flex items-center bg-white p-6 border border-slate-100 rounded-sm shadow-sm justify-between",children:[p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsx("div",{className:"p-3 bg-slate-50 rounded-sm border border-slate-100 text-indigo-600",children:s==="knitting"?p.jsx(Dm,{size:20}):p.jsx(dm,{size:20})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:q.label_selected_unit}),p.jsx("div",{className:"text-sm font-black uppercase text-slate-900 italic tracking-tight",children:s==="knitting"?n==="KR"?" 01:   ":"Unit 01: Circular Knitting":n==="KR"?" 02:   ":"Unit 02: Specialized Processing"})]})]}),p.jsx("div",{className:"hidden md:block text-[9px] font-black text-slate-300 uppercase tracking-[0.3em]",children:"Hwoasung Textile R&D Center"})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-8",children:(s==="knitting"?ce.knitting:ce.processed).map(ne=>p.jsxs("div",{onClick:()=>c(ne),className:"group bg-white border border-slate-200 rounded-sm overflow-hidden hover:border-indigo-500 transition-all duration-500 cursor-pointer flex flex-col h-full shadow-sm hover:shadow-xl hover:-translate-y-1",children:[p.jsxs("div",{className:"px-5 py-3 border-b border-slate-100 flex items-center justify-between bg-slate-50/50",children:[p.jsxs("span",{className:"text-[9px] font-black text-indigo-600/60 uppercase tracking-widest font-mono",children:["SPEC://",ne.code]}),p.jsxs("div",{className:"flex space-x-1",children:[p.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"}),p.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"}),p.jsx("div",{className:"w-1 h-1 bg-slate-300 rounded-full"})]})]}),p.jsx("div",{className:"aspect-[4/5] relative overflow-hidden bg-white p-4",children:p.jsxs("div",{className:"w-full h-full rounded-sm overflow-hidden relative shadow-inner",children:[p.jsx(km,{text:ne.engName,imageSrc:ne.imageSrc,cloudinaryId:ne.cloudinaryId}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-indigo-500/5 to-transparent w-full h-[2px] -top-full group-hover:top-full transition-all duration-[2000ms] ease-in-out pointer-events-none"})]})}),p.jsxs("div",{className:"p-6 pt-2 flex-1 flex flex-col space-y-4",children:[p.jsxs("div",{children:[p.jsx("h3",{className:"text-xl font-black text-slate-900 group-hover:text-indigo-600 transition-colors uppercase tracking-tight italic mb-1",children:n==="KR"?ne.name:ne.engName||ne.name}),p.jsx("div",{className:"w-8 h-1 bg-slate-200 group-hover:w-16 group-hover:bg-indigo-500 transition-all duration-500"})]}),p.jsx("p",{className:"text-slate-500 text-[11px] leading-relaxed line-clamp-2 h-8 font-medium italic break-keep",children:ne.desc}),p.jsxs("div",{className:"pt-4 mt-auto border-t border-slate-100 grid grid-cols-2 gap-px bg-slate-100",children:[p.jsxs("div",{className:"bg-white py-3 px-1 text-center",children:[p.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase mb-1 tracking-tighter",children:"Material"}),p.jsx("div",{className:"text-[10px] font-bold text-slate-800 uppercase truncate px-2",children:ne.material||"N/A"})]}),p.jsxs("div",{className:"bg-white py-3 px-1 text-center border-l border-slate-100",children:[p.jsx("div",{className:"text-[8px] font-black text-slate-400 uppercase mb-1 tracking-tighter",children:"Density"}),p.jsx("div",{className:"text-[10px] font-bold text-slate-800 uppercase truncate px-2",children:ne.weight||"N/A"})]})]})]}),p.jsxs("div",{className:"px-6 py-4 border-t border-slate-100 flex items-center justify-between group-hover:bg-indigo-600 transition-colors duration-500",children:[p.jsx("span",{className:"text-[9px] font-black text-slate-400 group-hover:text-white/80 uppercase tracking-widest",children:q.label_explore}),p.jsx(er,{size:14,className:"text-slate-400 group-hover:text-white transition-all transform group-hover:translate-x-1"})]})]},ne.id))})]})]})})}),s==="inquiry"&&p.jsx("section",{className:"pt-32 pb-24 bg-white min-h-screen",children:p.jsx("div",{className:"container mx-auto px-6 md:px-10",children:p.jsxs("div",{className:"max-w-5xl mx-auto",children:[p.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[p.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"}),p.jsx("span",{className:"text-xs font-black text-indigo-600 tracking-[0.3em] uppercase",children:"Inquiry"})]}),p.jsx("h2",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[0.9] tracking-tighter mb-12 italic",children:q.inquiry}),p.jsx("div",{className:"w-full bg-white rounded-sm relative",children:p.jsx("iframe",{"data-tally-src":"https://tally.so/embed/wovxA1?alignLeft=1&hideTitle=1&transparentBackground=1&dynamicHeight=1",width:"100%",height:"500",frameBorder:"0",marginHeight:"0",marginWidth:"0",title:"Hwoasung Textile Inquiry Form",className:"w-full",scrolling:"no"})})]})})}),p.jsxs("section",{ref:ee,className:"bg-slate-50 py-24 md:py-40 border-t border-slate-100 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"100px 100px"}}),p.jsx("div",{className:"container mx-auto px-6 md:px-10 relative z-10",children:p.jsxs("div",{className:"flex flex-col lg:flex-row gap-20 items-stretch",children:[p.jsxs("div",{className:"w-full lg:w-1/2",children:[p.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[p.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"}),p.jsx("span",{className:"text-xs font-black text-indigo-600 tracking-[0.3em] uppercase",children:"Partnership"})]}),p.jsxs("h2",{className:"text-6xl md:text-8xl font-black text-slate-900 leading-[0.85] tracking-tighter italic mb-12",children:[q.contact_title," ",p.jsx("br",{}),p.jsx("span",{className:"text-indigo-600 not-italic",children:q.contact_span})]}),p.jsx("p",{className:"text-slate-500 text-lg md:text-xl font-medium mb-16 max-w-lg leading-relaxed break-keep",children:q.contact_sub}),p.jsxs("div",{className:"space-y-10",children:[p.jsxs("div",{className:"flex items-start space-x-6 group",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:p.jsx(l2,{size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Office & Factory"}),p.jsx("div",{className:"text-lg font-bold text-slate-900 break-keep",children:q.address})]})]}),p.jsxs("div",{className:"flex items-center space-x-6 group",children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:p.jsx(p2,{size:24})}),p.jsxs("div",{className:"flex gap-10",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"TEL"}),p.jsx("div",{className:"text-lg font-black text-slate-900 hover:text-indigo-600 transition-colors uppercase font-mono",children:q.tel})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"FAX"}),p.jsx("div",{className:"text-lg font-black text-slate-900 uppercase font-mono",children:q.fax})]})]})]}),p.jsxs("div",{className:"flex items-center space-x-6 group cursor-pointer",onClick:()=>window.location.href=`mailto:${q.email}`,children:[p.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:p.jsx(a2,{size:24})}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Email"}),p.jsx("div",{className:"text-lg font-black text-slate-900 hover:text-indigo-600 transition-colors uppercase font-mono border-b-2 border-slate-900/10 group-hover:border-indigo-600/30 transition-all",children:q.email})]})]})]})]}),p.jsx("div",{className:"w-full lg:w-1/2 h-[350px] md:h-auto min-h-[350px] md:min-h-[500px] bg-slate-200 rounded-sm overflow-hidden shadow-2xl relative border-4 md:border-8 border-white mt-10 lg:mt-0",children:p.jsx(aM,{naverUrl:he})})]})})]}),p.jsx("footer",{className:"bg-slate-900 pt-24 pb-12 border-t border-white/5 relative z-10",children:p.jsxs("div",{className:"container mx-auto px-6 md:px-10",children:[p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-16 mb-20",children:[p.jsxs("div",{className:"col-span-1 md:col-span-1",children:[p.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[p.jsx("div",{className:"w-10 h-10 bg-white flex items-center justify-center rounded-sm overflow-hidden border border-white/5",children:p.jsx("img",{src:"/logo.png",alt:"HS",className:"w-full h-full object-contain"})}),p.jsx("span",{className:"text-white font-bold tracking-widest text-lg uppercase",children:q.brand})]}),p.jsx("p",{className:"text-slate-500 text-xs leading-relaxed max-w-xs",children:q.about_hero_sub})]}),p.jsxs("div",{className:"md:col-start-3 space-y-4",children:[p.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em] mb-6",children:"Navigation"}),p.jsx("button",{onClick:()=>He("main"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:q.home}),p.jsx("button",{onClick:()=>He("about"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:q.about}),p.jsx("button",{onClick:()=>He("knitting"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:q.knitting}),p.jsx("button",{onClick:()=>He("processing"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:q.processing})]}),p.jsxs("div",{className:"space-y-4",children:[p.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em] mb-6",children:"Contact"}),p.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:q.tel}),p.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:q.email}),p.jsx("p",{className:"text-indigo-500 text-[10px] font-black uppercase tracking-widest mt-6",children:q.hours})]})]}),p.jsxs("div",{className:"pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-8",children:[p.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-x-8 gap-y-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:[p.jsx("span",{children:"COPYRIGHT  HWOASUNG TEXTILE. ALL RIGHTS RESERVED."}),p.jsx("button",{onClick:()=>e("admin"),className:"hover:text-white transition-colors uppercase tracking-[0.2em] opacity-0 hover:opacity-100",children:"Manage Site"})]}),p.jsxs("div",{className:"flex items-center space-x-6 text-slate-600",children:[p.jsx($S,{size:16}),p.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest",children:"South Korea / Yeoncheon"})]})]})]})}),o&&p.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300",children:[p.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-xl",onClick:()=>c(null)}),p.jsxs("div",{className:"relative w-full max-w-5xl bg-white shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in-95 duration-500 origin-center",children:[p.jsx("button",{onClick:()=>c(null),className:"absolute top-6 right-6 z-10 w-12 h-12 bg-white/10 hover:bg-white text-slate-900 border border-slate-100 flex items-center justify-center transition-all duration-300 group shadow-xl",children:p.jsx(nv,{size:20,className:"group-hover:rotate-90 transition-transform"})}),p.jsxs("div",{className:"w-full md:w-1/2 bg-slate-100 relative",children:[p.jsx(km,{text:o.engName,cloudinaryId:o.cloudinaryId,imageSrc:o.imageSrc}),p.jsxs("div",{className:"absolute top-10 left-10",children:[p.jsx("div",{className:"w-16 h-1 bg-indigo-600 mb-6"}),p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-2 font-mono",children:o.code}),p.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter italic uppercase",children:n==="KR"?o.name:o.engName||o.name})]})]}),p.jsxs("div",{className:"w-full md:w-1/2 p-10 md:p-16 overflow-y-auto max-h-[80vh] md:max-h-none",children:[p.jsxs("div",{className:"mb-12",children:[p.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-8 flex items-center",children:[p.jsx("div",{className:"w-4 h-4 rounded-full border border-indigo-200 flex items-center justify-center mr-3",children:p.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full"})}),q.label_technical]}),p.jsxs("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:[p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:q.label_raw}),p.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.material})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:q.label_structure}),p.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.structure})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:q.label_density}),p.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.weight})]}),p.jsxs("div",{children:[p.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:q.label_width}),p.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.width})]}),p.jsxs("div",{className:"col-span-2",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:q.label_color}),p.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.colors})]})]})]}),p.jsxs("div",{className:"mb-12",children:[p.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-8 flex items-center",children:[p.jsx("div",{className:"w-4 h-4 rounded-full border border-indigo-200 flex items-center justify-center mr-3",children:p.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full"})}),q.label_logic]}),p.jsx("div",{className:"space-y-4",children:o.features.map((ne,Oe)=>p.jsxs("div",{className:"flex items-start space-x-3 group",children:[p.jsx(W0,{size:14,className:"text-indigo-600 mt-0.5"}),p.jsx("span",{className:"text-xs font-medium text-slate-600 group-hover:text-slate-900 transition-colors leading-relaxed",children:ne})]},Oe))})]}),p.jsxs("button",{onClick:()=>He("inquiry"),className:"w-full py-6 bg-slate-900 hover:bg-indigo-600 text-white transition-all duration-500 flex items-center justify-center space-x-4 group shadow-xl shadow-slate-900/10",children:[p.jsx("span",{className:"text-xs font-black tracking-widest uppercase",children:q.cta_quote}),p.jsx(er,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]})]}),T&&p.jsx("div",{className:"fixed inset-0 z-[150] bg-white animate-in slide-in-from-right duration-500",children:p.jsxs("div",{className:"p-6 md:p-10 flex flex-col h-full",children:[p.jsxs("div",{className:"flex justify-between items-center mb-20",children:[p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"w-12 h-12 bg-white flex items-center justify-center rounded-sm overflow-hidden border border-slate-100",children:p.jsx("img",{src:"/logo.png",alt:"HS",className:"w-full h-full object-contain"})}),p.jsx("span",{className:"font-bold text-xl tracking-[0.15em] leading-none uppercase",children:q.brand})]}),p.jsx("button",{onClick:()=>w(!1),className:"w-12 h-12 flex items-center justify-center text-slate-900 border border-slate-100",children:p.jsx(nv,{size:24})})]}),p.jsxs("div",{className:"flex flex-col space-y-10",children:[p.jsxs("button",{onClick:()=>He("main"),className:"text-left group",children:[p.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"01"}),p.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:q.home})]}),p.jsxs("button",{onClick:()=>He("about"),className:"text-left group",children:[p.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"02"}),p.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:q.about})]}),p.jsxs("button",{onClick:()=>He("knitting"),className:"text-left group",children:[p.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"03"}),p.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:q.knitting})]}),p.jsxs("button",{onClick:()=>He("processing"),className:"text-left group",children:[p.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"04"}),p.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:q.processing})]}),p.jsxs("button",{onClick:()=>He("inquiry"),className:"text-left group",children:[p.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"05"}),p.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:q.inquiry})]})]}),p.jsxs("div",{className:"mt-auto py-10 border-t border-slate-100",children:[p.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Support & Inquiry"}),p.jsx("div",{className:"text-xl font-black text-slate-900 font-mono mb-2",children:q.tel}),p.jsx("div",{className:"text-xs font-bold text-slate-500",children:q.email})]})]})}),p.jsx(sM,{}),p.jsx(rM,{show:W,label:q.cta,onClick:()=>He("inquiry")})]})};Yw.createRoot(document.getElementById("root")).render(p.jsx(pe.StrictMode,{children:p.jsx(oM,{})}));
