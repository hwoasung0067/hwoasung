(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Ux(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var lm={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0;function Lx(){if(O0)return jl;O0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=n,jl.jsxs=n,jl}var M0;function zx(){return M0||(M0=1,lm.exports=Lx()),lm.exports}var _=zx(),cm={exports:{}},Re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V0;function Bx(){if(V0)return Re;V0=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),S=Symbol.iterator;function G(O){return O===null||typeof O!="object"?null:(O=S&&O[S]||O["@@iterator"],typeof O=="function"?O:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},te=Object.assign,ee={};function z(O,$,se){this.props=O,this.context=$,this.refs=ee,this.updater=se||W}z.prototype.isReactComponent={},z.prototype.setState=function(O,$){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,$,"setState")},z.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ye(){}ye.prototype=z.prototype;function ue(O,$,se){this.props=O,this.context=$,this.refs=ee,this.updater=se||W}var be=ue.prototype=new ye;be.constructor=ue,te(be,z.prototype),be.isPureReactComponent=!0;var he=Array.isArray;function me(){}var N={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function I(O,$,se){var ae=se.ref;return{$$typeof:s,type:O,key:$,ref:ae!==void 0?ae:null,props:se}}function M(O,$){return I(O.type,$,O.props)}function k(O){return typeof O=="object"&&O!==null&&O.$$typeof===s}function V(O){var $={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(se){return $[se]})}var R=/\/+/g;function Qe(O,$){return typeof O=="object"&&O!==null&&O.key!=null?V(""+O.key):$.toString(36)}function re(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(me,me):(O.status="pending",O.then(function($){O.status==="pending"&&(O.status="fulfilled",O.value=$)},function($){O.status==="pending"&&(O.status="rejected",O.reason=$)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function q(O,$,se,ae,Ee){var xe=typeof O;(xe==="undefined"||xe==="boolean")&&(O=null);var Oe=!1;if(O===null)Oe=!0;else switch(xe){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(O.$$typeof){case s:case e:Oe=!0;break;case T:return Oe=O._init,q(Oe(O._payload),$,se,ae,Ee)}}if(Oe)return Ee=Ee(O),Oe=ae===""?"."+Qe(O,0):ae,he(Ee)?(se="",Oe!=null&&(se=Oe.replace(R,"$&/")+"/"),q(Ee,$,se,"",function(ne){return ne})):Ee!=null&&(k(Ee)&&(Ee=M(Ee,se+(Ee.key==null||O&&O.key===Ee.key?"":(""+Ee.key).replace(R,"$&/")+"/")+Oe)),$.push(Ee)),1;Oe=0;var gt=ae===""?".":ae+":";if(he(O))for(var Ae=0;Ae<O.length;Ae++)ae=O[Ae],xe=gt+Qe(ae,Ae),Oe+=q(ae,$,se,xe,Ee);else if(Ae=G(O),typeof Ae=="function")for(O=Ae.call(O),Ae=0;!(ae=O.next()).done;)ae=ae.value,xe=gt+Qe(ae,Ae++),Oe+=q(ae,$,se,xe,Ee);else if(xe==="object"){if(typeof O.then=="function")return q(re(O),$,se,ae,Ee);throw $=String(O),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Z(O,$,se){if(O==null)return O;var ae=[],Ee=0;return q(O,ae,"","",function(xe){return $.call(se,xe,Ee++)}),ae}function fe(O){if(O._status===-1){var $=O._result;$=$(),$.then(function(se){(O._status===0||O._status===-1)&&(O._status=1,O._result=se)},function(se){(O._status===0||O._status===-1)&&(O._status=2,O._result=se)}),O._status===-1&&(O._status=0,O._result=$)}if(O._status===1)return O._result.default;throw O._result}var De=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},$e={map:Z,forEach:function(O,$,se){Z(O,function(){$.apply(this,arguments)},se)},count:function(O){var $=0;return Z(O,function(){$++}),$},toArray:function(O){return Z(O,function($){return $})||[]},only:function(O){if(!k(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Re.Activity=x,Re.Children=$e,Re.Component=z,Re.Fragment=n,Re.Profiler=o,Re.PureComponent=ue,Re.StrictMode=r,Re.Suspense=g,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Re.__COMPILER_RUNTIME={__proto__:null,c:function(O){return N.H.useMemoCache(O)}},Re.cache=function(O){return function(){return O.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(O,$,se){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var ae=te({},O.props),Ee=O.key;if($!=null)for(xe in $.key!==void 0&&(Ee=""+$.key),$)!A.call($,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&$.ref===void 0||(ae[xe]=$[xe]);var xe=arguments.length-2;if(xe===1)ae.children=se;else if(1<xe){for(var Oe=Array(xe),gt=0;gt<xe;gt++)Oe[gt]=arguments[gt+2];ae.children=Oe}return I(O.type,Ee,ae)},Re.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Re.createElement=function(O,$,se){var ae,Ee={},xe=null;if($!=null)for(ae in $.key!==void 0&&(xe=""+$.key),$)A.call($,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Ee[ae]=$[ae]);var Oe=arguments.length-2;if(Oe===1)Ee.children=se;else if(1<Oe){for(var gt=Array(Oe),Ae=0;Ae<Oe;Ae++)gt[Ae]=arguments[Ae+2];Ee.children=gt}if(O&&O.defaultProps)for(ae in Oe=O.defaultProps,Oe)Ee[ae]===void 0&&(Ee[ae]=Oe[ae]);return I(O,xe,Ee)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(O){return{$$typeof:m,render:O}},Re.isValidElement=k,Re.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:fe}},Re.memo=function(O,$){return{$$typeof:y,type:O,compare:$===void 0?null:$}},Re.startTransition=function(O){var $=N.T,se={};N.T=se;try{var ae=O(),Ee=N.S;Ee!==null&&Ee(se,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(me,De)}catch(xe){De(xe)}finally{$!==null&&se.types!==null&&($.types=se.types),N.T=$}},Re.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Re.use=function(O){return N.H.use(O)},Re.useActionState=function(O,$,se){return N.H.useActionState(O,$,se)},Re.useCallback=function(O,$){return N.H.useCallback(O,$)},Re.useContext=function(O){return N.H.useContext(O)},Re.useDebugValue=function(){},Re.useDeferredValue=function(O,$){return N.H.useDeferredValue(O,$)},Re.useEffect=function(O,$){return N.H.useEffect(O,$)},Re.useEffectEvent=function(O){return N.H.useEffectEvent(O)},Re.useId=function(){return N.H.useId()},Re.useImperativeHandle=function(O,$,se){return N.H.useImperativeHandle(O,$,se)},Re.useInsertionEffect=function(O,$){return N.H.useInsertionEffect(O,$)},Re.useLayoutEffect=function(O,$){return N.H.useLayoutEffect(O,$)},Re.useMemo=function(O,$){return N.H.useMemo(O,$)},Re.useOptimistic=function(O,$){return N.H.useOptimistic(O,$)},Re.useReducer=function(O,$,se){return N.H.useReducer(O,$,se)},Re.useRef=function(O){return N.H.useRef(O)},Re.useState=function(O){return N.H.useState(O)},Re.useSyncExternalStore=function(O,$,se){return N.H.useSyncExternalStore(O,$,se)},Re.useTransition=function(){return N.H.useTransition()},Re.version="19.2.4",Re}var j0;function ap(){return j0||(j0=1,cm.exports=Bx()),cm.exports}var _e=ap();const jh=Ux(_e);var um={exports:{}},Pl={},hm={exports:{}},fm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P0;function qx(){return P0||(P0=1,(function(s){function e(q,Z){var fe=q.length;q.push(Z);e:for(;0<fe;){var De=fe-1>>>1,$e=q[De];if(0<o($e,Z))q[De]=Z,q[fe]=$e,fe=De;else break e}}function n(q){return q.length===0?null:q[0]}function r(q){if(q.length===0)return null;var Z=q[0],fe=q.pop();if(fe!==Z){q[0]=fe;e:for(var De=0,$e=q.length,O=$e>>>1;De<O;){var $=2*(De+1)-1,se=q[$],ae=$+1,Ee=q[ae];if(0>o(se,fe))ae<$e&&0>o(Ee,se)?(q[De]=Ee,q[ae]=fe,De=ae):(q[De]=se,q[$]=fe,De=$);else if(ae<$e&&0>o(Ee,fe))q[De]=Ee,q[ae]=fe,De=ae;else break e}}return Z}function o(q,Z){var fe=q.sortIndex-Z.sortIndex;return fe!==0?fe:q.id-Z.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var f=Date,m=f.now();s.unstable_now=function(){return f.now()-m}}var g=[],y=[],T=1,x=null,S=3,G=!1,W=!1,te=!1,ee=!1,z=typeof setTimeout=="function"?setTimeout:null,ye=typeof clearTimeout=="function"?clearTimeout:null,ue=typeof setImmediate<"u"?setImmediate:null;function be(q){for(var Z=n(y);Z!==null;){if(Z.callback===null)r(y);else if(Z.startTime<=q)r(y),Z.sortIndex=Z.expirationTime,e(g,Z);else break;Z=n(y)}}function he(q){if(te=!1,be(q),!W)if(n(g)!==null)W=!0,me||(me=!0,V());else{var Z=n(y);Z!==null&&re(he,Z.startTime-q)}}var me=!1,N=-1,A=5,I=-1;function M(){return ee?!0:!(s.unstable_now()-I<A)}function k(){if(ee=!1,me){var q=s.unstable_now();I=q;var Z=!0;try{e:{W=!1,te&&(te=!1,ye(N),N=-1),G=!0;var fe=S;try{t:{for(be(q),x=n(g);x!==null&&!(x.expirationTime>q&&M());){var De=x.callback;if(typeof De=="function"){x.callback=null,S=x.priorityLevel;var $e=De(x.expirationTime<=q);if(q=s.unstable_now(),typeof $e=="function"){x.callback=$e,be(q),Z=!0;break t}x===n(g)&&r(g),be(q)}else r(g);x=n(g)}if(x!==null)Z=!0;else{var O=n(y);O!==null&&re(he,O.startTime-q),Z=!1}}break e}finally{x=null,S=fe,G=!1}Z=void 0}}finally{Z?V():me=!1}}}var V;if(typeof ue=="function")V=function(){ue(k)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Qe=R.port2;R.port1.onmessage=k,V=function(){Qe.postMessage(null)}}else V=function(){z(k,0)};function re(q,Z){N=z(function(){q(s.unstable_now())},Z)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return S},s.unstable_next=function(q){switch(S){case 1:case 2:case 3:var Z=3;break;default:Z=S}var fe=S;S=Z;try{return q()}finally{S=fe}},s.unstable_requestPaint=function(){ee=!0},s.unstable_runWithPriority=function(q,Z){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var fe=S;S=q;try{return Z()}finally{S=fe}},s.unstable_scheduleCallback=function(q,Z,fe){var De=s.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?De+fe:De):fe=De,q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=fe+$e,q={id:T++,callback:Z,priorityLevel:q,startTime:fe,expirationTime:$e,sortIndex:-1},fe>De?(q.sortIndex=fe,e(y,q),n(g)===null&&q===n(y)&&(te?(ye(N),N=-1):te=!0,re(he,fe-De))):(q.sortIndex=$e,e(g,q),W||G||(W=!0,me||(me=!0,V()))),q},s.unstable_shouldYield=M,s.unstable_wrapCallback=function(q){var Z=S;return function(){var fe=S;S=Z;try{return q.apply(this,arguments)}finally{S=fe}}}})(fm)),fm}var U0;function Fx(){return U0||(U0=1,hm.exports=qx()),hm.exports}var dm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0;function Hx(){if(L0)return Jt;L0=1;var s=ap();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,y,T){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:g,containerInfo:y,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(g,y,null,T)},Jt.flushSync=function(g){var y=f.T,T=r.p;try{if(f.T=null,r.p=2,g)return g()}finally{f.T=y,r.p=T,r.d.f()}},Jt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(g,y))},Jt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Jt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,x=m(T,y.crossOrigin),S=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?r.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:S,fetchPriority:G}):T==="script"&&r.d.X(g,{crossOrigin:x,integrity:S,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Jt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);r.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(g)},Jt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,x=m(T,y.crossOrigin);r.d.L(g,T,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Jt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=m(y.as,y.crossOrigin);r.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(g)},Jt.requestFormReset=function(g){r.d.r(g)},Jt.unstable_batchedUpdates=function(g,y){return g(y)},Jt.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.2.4",Jt}var z0;function Gx(){if(z0)return dm.exports;z0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),dm.exports=Hx(),dm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B0;function Kx(){if(B0)return Pl;B0=1;var s=Fx(),e=ap(),n=Gx();function r(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(r(188))}function y(t){var i=t.alternate;if(!i){if(i=c(t),i===null)throw Error(r(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,E=h.child;E;){if(E===a){v=!0,a=h,l=d;break}if(E===l){v=!0,l=h,a=d;break}E=E.sibling}if(!v){for(E=d.child;E;){if(E===a){v=!0,a=d,l=h;break}if(E===l){v=!0,l=d,a=h;break}E=E.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var x=Object.assign,S=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),te=Symbol.for("react.fragment"),ee=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),ye=Symbol.for("react.consumer"),ue=Symbol.for("react.context"),be=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function V(t){return t===null||typeof t!="object"?null:(t=k&&t[k]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Qe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case te:return"Fragment";case z:return"Profiler";case ee:return"StrictMode";case he:return"Suspense";case me:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case W:return"Portal";case ue:return t.displayName||"Context";case ye:return(t._context.displayName||"Context")+".Consumer";case be:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:Qe(t.type)||"Memo";case A:i=t._payload,t=t._init;try{return Qe(t(i))}catch{}}return null}var re=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},De=[],$e=-1;function O(t){return{current:t}}function $(t){0>$e||(t.current=De[$e],De[$e]=null,$e--)}function se(t,i){$e++,De[$e]=t.current,t.current=i}var ae=O(null),Ee=O(null),xe=O(null),Oe=O(null);function gt(t,i){switch(se(xe,i),se(Ee,t),se(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?n0(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=n0(i),t=i0(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}$(ae),se(ae,t)}function Ae(){$(ae),$(Ee),$(xe)}function ne(t){t.memoizedState!==null&&se(Oe,t);var i=ae.current,a=i0(i,t.type);i!==a&&(se(Ee,t),se(ae,a))}function Fe(t){Ee.current===t&&($(ae),$(Ee)),Oe.current===t&&($(Oe),Dl._currentValue=fe)}var nn,kn;function vn(t){if(nn===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);nn=i&&i[1]||"",kn=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+nn+t+kn}var Do=!1;function vr(t,i){if(!t||Do)return"";Do=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(H){var B=H}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(H){B=H}t.call(Y.prototype)}}else{try{throw Error()}catch(H){B=H}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],E=d[1];if(v&&E){var C=v.split(`
`),L=E.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{Do=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?vn(a):""}function Oo(t,i){switch(t.tag){case 26:case 27:case 5:return vn(t.type);case 16:return vn("Lazy");case 13:return t.child!==i&&i!==null?vn("Suspense Fallback"):vn("Suspense");case 19:return vn("SuspenseList");case 0:case 15:return vr(t.type,!1);case 11:return vr(t.type.render,!1);case 1:return vr(t.type,!0);case 31:return vn("Activity");default:return""}}function Mo(t){try{var i="",a=null;do i+=Oo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=s.unstable_scheduleCallback,ys=s.unstable_cancelCallback,uf=s.unstable_shouldYield,vc=s.unstable_requestPaint,sn=s.unstable_now,br=s.unstable_getCurrentPriorityLevel,Vo=s.unstable_ImmediatePriority,jo=s.unstable_UserBlockingPriority,_s=s.unstable_NormalPriority,hf=s.unstable_LowPriority,bc=s.unstable_IdlePriority,Ec=s.log,Tc=s.unstable_setDisableYieldValue,Jn=null,qt=null;function Dn(t){if(typeof Ec=="function"&&Tc(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(Jn,t)}catch{}}var yt=Math.clz32?Math.clz32:xc,wc=Math.log,pa=Math.LN2;function xc(t){return t>>>=0,t===0?32:31-(wc(t)/pa|0)|0}var gi=256,Er=262144,wt=4194304;function yi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _i(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=yi(l):(v&=E,v!==0?h=yi(v):a||(a=E&~t,a!==0&&(h=yi(a))))):(E=l&~d,E!==0?h=yi(E):v!==0?h=yi(v):a||(a=l&~t,a!==0&&(h=yi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ff(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ac(){var t=wt;return wt<<=1,(wt&62914560)===0&&(wt=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Tr(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function df(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-yt(a),Y=1<<K;E[K]=0,C[K]=-1;var B=L[K];if(B!==null)for(L[K]=null,K=0;K<B.length;K++){var H=B[K];H!==null&&(H.lane&=-536870913)}a&=~Y}l!==0&&wr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function wr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-yt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Po(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-yt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Uo(t,i){var a=i&-i;return a=(a&42)!==0?1:xr(a),(a&(t.suspendedLanes|i))!==0?0:a}function xr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Sc(){var t=Z.p;return t!==0?t:(t=window.event,t===void 0?32:S0(t.type))}function Zn(t,i){var a=Z.p;try{return Z.p=t,i()}finally{Z.p=a}}var ei=Math.random().toString(36).slice(2),xt="__reactFiber$"+ei,Ut="__reactProps$"+ei,bi="__reactContainer$"+ei,ga="__reactEvents$"+ei,mf="__reactListeners$"+ei,Rc="__reactHandles$"+ei,Ic="__reactResources$"+ei,Ei="__reactMarker$"+ei;function ya(t){delete t[xt],delete t[Ut],delete t[ga],delete t[mf],delete t[Rc]}function Ti(t){var i=t[xt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bi]||a[xt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=u0(t);t!==null;){if(a=t[xt])return a;t=u0(t)}return i}t=a,a=t.parentNode}return null}function On(t){if(t=t[xt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function bn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(r(33))}function wi(t){var i=t[Ic];return i||(i=t[Ic]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function At(t){t[Ei]=!0}var Lo=new Set,zo={};function xi(t,i){Ai(t,i),Ai(t+"Capture",i)}function Ai(t,i){for(zo[t]=i,t=0;t<i.length;t++)Lo.add(i[t])}var Bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function Nc(t){return Tt.call(Fo,t)?!0:Tt.call(qo,t)?!1:Bo.test(t)?Fo[t]=!0:(qo[t]=!0,!1)}function _a(t,i,a){if(Nc(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function En(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function St(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vs(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ho(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function We(t){if(!t._valueTracker){var i=vs(t)?"checked":"value";t._valueTracker=Ho(t,i,""+t[i])}}function Ar(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Si(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sr=/[\n"\\]/g;function cn(t){return t.replace(Sr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(t,i,a,l,h,d,v,E){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Go(t,v,Lt(i)):a!=null?Go(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Lt(E):t.removeAttribute("name")}function Cc(t,i,a,l,h,d,v,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){We(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),We(t)}function Go(t,i,a){i==="number"&&Si(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function bs(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function kc(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Es(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(re(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),We(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Dc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Dc.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Qo(t,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(t,d,i[d])}function ba(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ts.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function ti(){}var $o=null;function Mn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ws=null,Ri=null;function Rr(t){var i=On(t);if(i&&(t=i.stateNode)){var a=t[Ut]||null;e:switch(t=i.stateNode,i.type){case"input":if(va(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+cn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Ut]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Ar(l)}break e;case"textarea":kc(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&bs(t,!!a.multiple,i,!1)}}}var Ta=!1;function xs(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(ws!==null||Ri!==null)&&(Su(),ws&&(i=ws,t=Ri,Ri=ws=null,Rr(i),t)))for(i=0;i<t.length;i++)Rr(t[i])}}function ni(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Ut]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Vn)try{var tt={};Object.defineProperty(tt,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",tt,tt),window.removeEventListener("test",tt,tt)}catch{Ir=!1}var Ii=null,Yo=null,Nr=null;function Xo(){if(Nr)return Nr;var t,i=Yo,a=i.length,l,h="value"in Ii?Ii.value:Ii.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Nr=h.slice(t,1<l?1-l:void 0)}function Cr(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Qi(){return!0}function ii(){return!1}function Ft(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Qi:ii,this.isPropagationStopped=ii,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Qi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Qi)},persist:function(){},isPersistent:Qi}),i}var $i={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Ft($i),As=x({},$i,{view:0,detail:0}),Jo=Ft(As),Ss,wa,Ci,xa=x({},As,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ci&&(Ci&&t.type==="mousemove"?(Ss=t.screenX-Ci.screenX,wa=t.screenY-Ci.screenY):wa=Ss=0,Ci=t),Ss)},movementY:function(t){return"movementY"in t?t.movementY:wa}}),Wo=Ft(xa),kr=x({},xa,{dataTransfer:0}),Mc=Ft(kr),Vc=x({},As,{relatedTarget:0}),Dr=Ft(Vc),Zo=x({},$i,{animationName:0,elapsedTime:0,pseudoElement:0}),jc=Ft(Zo),Aa=x({},$i,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pc=Ft(Aa),Uc=x({},$i,{data:0}),ki=Ft(Uc),Lc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},zc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Bc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Bc[t])?!!i[t]:!1}function Rs(){return qc}var rn=x({},As,{key:function(t){if(t.key){var i=Lc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Cr(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?zc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?Cr(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Cr(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fc=Ft(rn),Hc=x({},xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yi=Ft(Hc),u=x({},As,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),p=Ft(u),b=x({},$i,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Ft(b),P=x({},xa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Ft(P),ie=x({},$i,{newState:0,oldState:0}),Ne=Ft(ie),_t=[9,13,27,32],Ye=Vn&&"CompositionEvent"in window,ut=null;Vn&&"documentMode"in document&&(ut=document.documentMode);var jn=Vn&&"TextEvent"in window&&!ut,Di=Vn&&(!Ye||ut&&8<ut&&11>=ut),si=" ",ri=!1;function Or(t,i){switch(t){case"keyup":return _t.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function lw(t,i){switch(t){case"compositionend":return Sa(i);case"keypress":return i.which!==32?null:(ri=!0,si);case"textInput":return t=i.data,t===si&&ri?null:t;default:return null}}function cw(t,i){if(Ra)return t==="compositionend"||!Ye&&Or(t,i)?(t=Xo(),Nr=Yo=Ii=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var uw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!uw[t.type]:i==="textarea"}function mg(t,i,a,l){ws?Ri?Ri.push(l):Ri=[l]:ws=l,i=Ou(i,"onChange"),0<i.length&&(a=new Ni("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var el=null,tl=null;function hw(t){X_(t,0)}function Gc(t){var i=bn(t);if(Ar(i))return t}function pg(t,i){if(t==="change")return i}var gg=!1;if(Vn){var pf;if(Vn){var gf="oninput"in document;if(!gf){var yg=document.createElement("div");yg.setAttribute("oninput","return;"),gf=typeof yg.oninput=="function"}pf=gf}else pf=!1;gg=pf&&(!document.documentMode||9<document.documentMode)}function _g(){el&&(el.detachEvent("onpropertychange",vg),tl=el=null)}function vg(t){if(t.propertyName==="value"&&Gc(tl)){var i=[];mg(i,tl,t,Mn(t)),xs(hw,i)}}function fw(t,i,a){t==="focusin"?(_g(),el=i,tl=a,el.attachEvent("onpropertychange",vg)):t==="focusout"&&_g()}function dw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gc(tl)}function mw(t,i){if(t==="click")return Gc(i)}function pw(t,i){if(t==="input"||t==="change")return Gc(i)}function gw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:gw;function nl(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Eg(t,i){var a=bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=bg(a)}}function Tg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Tg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Si(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Si(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var yw=Vn&&"documentMode"in document&&11>=document.documentMode,Ia=null,_f=null,il=null,vf=!1;function xg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Ia==null||Ia!==Si(l)||(l=Ia,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Ou(_f,"onSelect"),0<l.length&&(i=new Ni("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ia)))}function Mr(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},bf={},Ag={};Vn&&(Ag=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Vr(t){if(bf[t])return bf[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Ag)return bf[t]=i[a];return t}var Sg=Vr("animationend"),Rg=Vr("animationiteration"),Ig=Vr("animationstart"),_w=Vr("transitionrun"),vw=Vr("transitionstart"),bw=Vr("transitioncancel"),Ng=Vr("transitionend"),Cg=new Map,Ef="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ef.push("scrollEnd");function ai(t,i){Cg.set(t,i),xi(i,[t])}var Kc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Pn=[],Ca=0,Tf=0;function Qc(){for(var t=Ca,i=Tf=Ca=0;i<t;){var a=Pn[i];Pn[i++]=null;var l=Pn[i];Pn[i++]=null;var h=Pn[i];Pn[i++]=null;var d=Pn[i];if(Pn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&kg(a,h,d)}}function $c(t,i,a,l){Pn[Ca++]=t,Pn[Ca++]=i,Pn[Ca++]=a,Pn[Ca++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return $c(t,i,a,l),Yc(t)}function jr(t,i){return $c(t,null,null,i),Yc(t)}function kg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-yt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Yc(t){if(50<Al)throw Al=0,Dd=null,Error(r(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var ka={};function Ew(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(t,i,a,l){return new Ew(t,i,a,l)}function xf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xi(t,i){var a=t.alternate;return a===null?(a=wn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")xf(t)&&(v=1);else if(typeof t=="string")v=Sx(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=wn(31,a,i,h),t.elementType=I,t.lanes=d,t;case te:return Pr(a.children,h,d,i);case ee:v=8,h|=24;break;case z:return t=wn(12,a,i,h|2),t.elementType=z,t.lanes=d,t;case he:return t=wn(13,a,i,h),t.elementType=he,t.lanes=d,t;case me:return t=wn(19,a,i,h),t.elementType=me,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ue:v=10;break e;case ye:v=9;break e;case be:v=11;break e;case N:v=14;break e;case A:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return i=wn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Pr(t,i,a,l){return t=wn(7,t,l,i),t.lanes=a,t}function Af(t,i,a){return t=wn(6,t,null,i),t.lanes=a,t}function Og(t){var i=wn(18,null,null,0);return i.stateNode=t,i}function Sf(t,i,a){return i=wn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Mg=new WeakMap;function Un(t,i){if(typeof t=="object"&&t!==null){var a=Mg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Mo(i)},Mg.set(t,i),i)}return{value:t,source:i,stack:Mo(i)}}var Da=[],Oa=0,Jc=null,sl=0,Ln=[],zn=0,Is=null,Oi=1,Mi="";function Ji(t,i){Da[Oa++]=sl,Da[Oa++]=Jc,Jc=t,sl=i}function Vg(t,i,a){Ln[zn++]=Oi,Ln[zn++]=Mi,Ln[zn++]=Is,Is=t;var l=Oi;t=Mi;var h=32-yt(l)-1;l&=~(1<<h),a+=1;var d=32-yt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Oi=1<<32-yt(i)+h|a<<h|l,Mi=d+t}else Oi=1<<d|a<<h|l,Mi=t}function Rf(t){t.return!==null&&(Ji(t,1),Vg(t,1,0))}function If(t){for(;t===Jc;)Jc=Da[--Oa],Da[Oa]=null,sl=Da[--Oa],Da[Oa]=null;for(;t===Is;)Is=Ln[--zn],Ln[zn]=null,Mi=Ln[--zn],Ln[zn]=null,Oi=Ln[--zn],Ln[zn]=null}function jg(t,i){Ln[zn++]=Oi,Ln[zn++]=Mi,Ln[zn++]=Is,Oi=i.id,Mi=i.overflow,Is=t}var Ht=null,ot=null,Be=!1,Ns=null,Bn=!1,Nf=Error(r(519));function Cs(t){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw rl(Un(i,t)),Nf}function Pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[xt]=t,i[Ut]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)Ve(Rl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Cc(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Es(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||e0(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=ti),i=!0):i=!1,i||Cs(t,!0)}function Ug(t){for(Ht=t.return;Ht;)switch(Ht.tag){case 5:case 31:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Ht=Ht.return}}function Ma(t){if(t!==Ht)return!1;if(!Be)return Ug(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Qd(t.type,t.memoizedProps)),a=!a),a&&ot&&Cs(t),Ug(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=c0(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));ot=c0(t)}else i===27?(i=ot,Hs(t.type)?(t=Wd,Wd=null,ot=t):ot=i):ot=Ht?Fn(t.stateNode.nextSibling):null;return!0}function Ur(){ot=Ht=null,Be=!1}function Cf(){var t=Ns;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Ns=null),t}function rl(t){Ns===null?Ns=[t]:Ns.push(t)}var kf=O(null),Lr=null,Wi=null;function ks(t,i,a){se(kf,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=kf.current,$(kf)}function Df(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Of(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=h;for(var C=0;C<i.length;C++)if(E.context===i[C]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Df(d.return,a,t),l||(v=null);break e}d=E.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(r(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Df(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var E=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(E):t=[E])}}else if(h===Oe.current){if(v=h.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Dl):t=[Dl])}h=h.return}t!==null&&Of(i,t,a,l),i.flags|=262144}function Wc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zr(t){Lr=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Gt(t){return Lg(Lr,t)}function Zc(t,i){return Lr===null&&zr(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(r(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var Tw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},ww=s.unstable_scheduleCallback,xw=s.unstable_NormalPriority,Rt={$$typeof:ue,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mf(){return{controller:new Tw,data:new Map,refCount:0}}function al(t){t.refCount--,t.refCount===0&&ww(xw,function(){t.controller.abort()})}var ol=null,Vf=0,ja=0,Pa=null;function Aw(t,i){if(ol===null){var a=ol=[];Vf=0,ja=Ud(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(zg,zg),i}function zg(){if(--Vf===0&&ol!==null){Pa!==null&&(Pa.status="fulfilled");var t=ol;ol=null,ja=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function Sw(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Bg=q.S;q.S=function(t,i){x_=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&Aw(t,i),Bg!==null&&Bg(t,i)};var Br=O(null);function jf(){var t=Br.current;return t!==null?t:rt.pooledCache}function eu(t,i){i===null?se(Br,Br.current):se(Br,i.pool)}function qg(){var t=jf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Ua=Error(r(460)),Pf=Error(r(474)),tu=Error(r(542)),nu={then:function(){}};function Fg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Hg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ti,ti),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t;default:if(typeof i.status=="string")i.then(ti,ti);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,Kg(t),t}throw Fr=i,Ua}}function qr(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Fr=a,Ua):a}}var Fr=null;function Gg(){if(Fr===null)throw Error(r(459));var t=Fr;return Fr=null,t}function Kg(t){if(t===Ua||t===tu)throw Error(r(483))}var La=null,ll=0;function iu(t){var i=ll;return ll+=1,La===null&&(La=[]),Hg(La,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function su(t,i){throw i.$$typeof===S?Error(r(525)):(t=Object.prototype.toString.call(i),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Qg(t){function i(j,D){if(t){var U=j.deletions;U===null?(j.deletions=[D],j.flags|=16):U.push(D)}}function a(j,D){if(!t)return null;for(;D!==null;)i(j,D),D=D.sibling;return null}function l(j){for(var D=new Map;j!==null;)j.key!==null?D.set(j.key,j):D.set(j.index,j),j=j.sibling;return D}function h(j,D){return j=Xi(j,D),j.index=0,j.sibling=null,j}function d(j,D,U){return j.index=U,t?(U=j.alternate,U!==null?(U=U.index,U<D?(j.flags|=67108866,D):U):(j.flags|=67108866,D)):(j.flags|=1048576,D)}function v(j){return t&&j.alternate===null&&(j.flags|=67108866),j}function E(j,D,U,Q){return D===null||D.tag!==6?(D=Af(U,j.mode,Q),D.return=j,D):(D=h(D,U),D.return=j,D)}function C(j,D,U,Q){var pe=U.type;return pe===te?K(j,D,U.props.children,Q,U.key):D!==null&&(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&qr(pe)===D.type)?(D=h(D,U.props),cl(D,U),D.return=j,D):(D=Xc(U.type,U.key,U.props,null,j.mode,Q),cl(D,U),D.return=j,D)}function L(j,D,U,Q){return D===null||D.tag!==4||D.stateNode.containerInfo!==U.containerInfo||D.stateNode.implementation!==U.implementation?(D=Sf(U,j.mode,Q),D.return=j,D):(D=h(D,U.children||[]),D.return=j,D)}function K(j,D,U,Q,pe){return D===null||D.tag!==7?(D=Pr(U,j.mode,Q,pe),D.return=j,D):(D=h(D,U),D.return=j,D)}function Y(j,D,U){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Af(""+D,j.mode,U),D.return=j,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case G:return U=Xc(D.type,D.key,D.props,null,j.mode,U),cl(U,D),U.return=j,U;case W:return D=Sf(D,j.mode,U),D.return=j,D;case A:return D=qr(D),Y(j,D,U)}if(re(D)||V(D))return D=Pr(D,j.mode,U,null),D.return=j,D;if(typeof D.then=="function")return Y(j,iu(D),U);if(D.$$typeof===ue)return Y(j,Zc(j,D),U);su(j,D)}return null}function B(j,D,U,Q){var pe=D!==null?D.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return pe!==null?null:E(j,D,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case G:return U.key===pe?C(j,D,U,Q):null;case W:return U.key===pe?L(j,D,U,Q):null;case A:return U=qr(U),B(j,D,U,Q)}if(re(U)||V(U))return pe!==null?null:K(j,D,U,Q,null);if(typeof U.then=="function")return B(j,D,iu(U),Q);if(U.$$typeof===ue)return B(j,D,Zc(j,U),Q);su(j,U)}return null}function H(j,D,U,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return j=j.get(U)||null,E(D,j,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case G:return j=j.get(Q.key===null?U:Q.key)||null,C(D,j,Q,pe);case W:return j=j.get(Q.key===null?U:Q.key)||null,L(D,j,Q,pe);case A:return Q=qr(Q),H(j,D,U,Q,pe)}if(re(Q)||V(Q))return j=j.get(U)||null,K(D,j,Q,pe,null);if(typeof Q.then=="function")return H(j,D,U,iu(Q),pe);if(Q.$$typeof===ue)return H(j,D,U,Zc(D,Q),pe);su(D,Q)}return null}function ce(j,D,U,Q){for(var pe=null,Ge=null,de=D,ke=D=0,Pe=null;de!==null&&ke<U.length;ke++){de.index>ke?(Pe=de,de=null):Pe=de.sibling;var Ke=B(j,de,U[ke],Q);if(Ke===null){de===null&&(de=Pe);break}t&&de&&Ke.alternate===null&&i(j,de),D=d(Ke,D,ke),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke,de=Pe}if(ke===U.length)return a(j,de),Be&&Ji(j,ke),pe;if(de===null){for(;ke<U.length;ke++)de=Y(j,U[ke],Q),de!==null&&(D=d(de,D,ke),Ge===null?pe=de:Ge.sibling=de,Ge=de);return Be&&Ji(j,ke),pe}for(de=l(de);ke<U.length;ke++)Pe=H(de,j,ke,U[ke],Q),Pe!==null&&(t&&Pe.alternate!==null&&de.delete(Pe.key===null?ke:Pe.key),D=d(Pe,D,ke),Ge===null?pe=Pe:Ge.sibling=Pe,Ge=Pe);return t&&de.forEach(function(Ys){return i(j,Ys)}),Be&&Ji(j,ke),pe}function ve(j,D,U,Q){if(U==null)throw Error(r(151));for(var pe=null,Ge=null,de=D,ke=D=0,Pe=null,Ke=U.next();de!==null&&!Ke.done;ke++,Ke=U.next()){de.index>ke?(Pe=de,de=null):Pe=de.sibling;var Ys=B(j,de,Ke.value,Q);if(Ys===null){de===null&&(de=Pe);break}t&&de&&Ys.alternate===null&&i(j,de),D=d(Ys,D,ke),Ge===null?pe=Ys:Ge.sibling=Ys,Ge=Ys,de=Pe}if(Ke.done)return a(j,de),Be&&Ji(j,ke),pe;if(de===null){for(;!Ke.done;ke++,Ke=U.next())Ke=Y(j,Ke.value,Q),Ke!==null&&(D=d(Ke,D,ke),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return Be&&Ji(j,ke),pe}for(de=l(de);!Ke.done;ke++,Ke=U.next())Ke=H(de,j,ke,Ke.value,Q),Ke!==null&&(t&&Ke.alternate!==null&&de.delete(Ke.key===null?ke:Ke.key),D=d(Ke,D,ke),Ge===null?pe=Ke:Ge.sibling=Ke,Ge=Ke);return t&&de.forEach(function(Px){return i(j,Px)}),Be&&Ji(j,ke),pe}function st(j,D,U,Q){if(typeof U=="object"&&U!==null&&U.type===te&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case G:e:{for(var pe=U.key;D!==null;){if(D.key===pe){if(pe=U.type,pe===te){if(D.tag===7){a(j,D.sibling),Q=h(D,U.props.children),Q.return=j,j=Q;break e}}else if(D.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===A&&qr(pe)===D.type){a(j,D.sibling),Q=h(D,U.props),cl(Q,U),Q.return=j,j=Q;break e}a(j,D);break}else i(j,D);D=D.sibling}U.type===te?(Q=Pr(U.props.children,j.mode,Q,U.key),Q.return=j,j=Q):(Q=Xc(U.type,U.key,U.props,null,j.mode,Q),cl(Q,U),Q.return=j,j=Q)}return v(j);case W:e:{for(pe=U.key;D!==null;){if(D.key===pe)if(D.tag===4&&D.stateNode.containerInfo===U.containerInfo&&D.stateNode.implementation===U.implementation){a(j,D.sibling),Q=h(D,U.children||[]),Q.return=j,j=Q;break e}else{a(j,D);break}else i(j,D);D=D.sibling}Q=Sf(U,j.mode,Q),Q.return=j,j=Q}return v(j);case A:return U=qr(U),st(j,D,U,Q)}if(re(U))return ce(j,D,U,Q);if(V(U)){if(pe=V(U),typeof pe!="function")throw Error(r(150));return U=pe.call(U),ve(j,D,U,Q)}if(typeof U.then=="function")return st(j,D,iu(U),Q);if(U.$$typeof===ue)return st(j,D,Zc(j,U),Q);su(j,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,D!==null&&D.tag===6?(a(j,D.sibling),Q=h(D,U),Q.return=j,j=Q):(a(j,D),Q=Af(U,j.mode,Q),Q.return=j,j=Q),v(j)):a(j,D)}return function(j,D,U,Q){try{ll=0;var pe=st(j,D,U,Q);return La=null,pe}catch(de){if(de===Ua||de===tu)throw de;var Ge=wn(29,de,null,j.mode);return Ge.lanes=Q,Ge.return=j,Ge}finally{}}}var Hr=Qg(!0),$g=Qg(!1),Ds=!1;function Uf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Os(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Xe&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yc(t),kg(t,null,a),i}return $c(t,l,i,a),Yc(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}function zf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Bf=!1;function hl(){if(Bf){var t=Pa;if(t!==null)throw t}}function fl(t,i,a,l){Bf=!1;var h=t.updateQueue;Ds=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,L=C.next;C.next=null,v===null?d=L:v.next=L,v=C;var K=t.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==v&&(E===null?K.firstBaseUpdate=L:E.next=L,K.lastBaseUpdate=C))}if(d!==null){var Y=h.baseState;v=0,K=L=C=null,E=d;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(je&B)===B:(l&B)===B){B!==0&&B===ja&&(Bf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var ce=t,ve=E;B=i;var st=a;switch(ve.tag){case 1:if(ce=ve.payload,typeof ce=="function"){Y=ce.call(st,Y,B);break e}Y=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=ve.payload,B=typeof ce=="function"?ce.call(st,Y,B):ce,B==null)break e;Y=x({},Y,B);break e;case 2:Ds=!0}}B=E.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(L=K=H,C=Y):K=K.next=H,v|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(C=Y),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),Ls|=v,t.lanes=v,t.memoizedState=Y}}function Yg(t,i){if(typeof t!="function")throw Error(r(191,t));t.call(i)}function Xg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Yg(a[t],i)}var za=O(null),ru=O(0);function Jg(t,i){t=ls,se(ru,t),se(za,i),ls=t|i.baseLanes}function qf(){se(ru,ls),se(za,za.current)}function Ff(){ls=ru.current,$(za),$(ru)}var xn=O(null),qn=null;function Vs(t){var i=t.alternate;se(vt,vt.current&1),se(xn,t),qn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(qn=t)}function Hf(t){se(vt,vt.current),se(xn,t),qn===null&&(qn=t)}function Wg(t){t.tag===22?(se(vt,vt.current),se(xn,t),qn===null&&(qn=t)):js()}function js(){se(vt,vt.current),se(xn,xn.current)}function An(t){$(xn),qn===t&&(qn=null),$(vt)}var vt=O(0);function au(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Xd(a)||Jd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var es=0,Ce=null,nt=null,It=null,ou=!1,Ba=!1,Gr=!1,lu=0,dl=0,qa=null,Rw=0;function mt(){throw Error(r(321))}function Gf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Kf(t,i,a,l,h,d){return es=d,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,q.H=t===null||t.memoizedState===null?Vy:od,Gr=!1,d=a(l,h),Gr=!1,Ba&&(d=ey(i,a,l,h)),Zg(t),d}function Zg(t){q.H=gl;var i=nt!==null&&nt.next!==null;if(es=0,It=nt=Ce=null,ou=!1,dl=0,qa=null,i)throw Error(r(300));t===null||Nt||(t=t.dependencies,t!==null&&Wc(t)&&(Nt=!0))}function ey(t,i,a,l){Ce=t;var h=0;do{if(Ba&&(qa=null),dl=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,It=nt=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}q.H=jy,d=i(a,l)}while(Ba);return d}function Iw(){var t=q.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(nt!==null?nt.memoizedState:null)!==t&&(Ce.flags|=1024),i}function Qf(){var t=lu!==0;return lu=0,t}function $f(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Yf(t){if(ou){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ou=!1}es=0,It=nt=Ce=null,Ba=!1,dl=lu=0,qa=null}function an(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ce.memoizedState=It=t:It=It.next=t,It}function bt(){if(nt===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=nt.next;var i=It===null?Ce.memoizedState:It.next;if(i!==null)It=i,nt=t;else{if(t===null)throw Ce.alternate===null?Error(r(467)):Error(r(310));nt=t,t={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},It===null?Ce.memoizedState=It=t:It=It.next=t}return It}function cu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ml(t){var i=dl;return dl+=1,qa===null&&(qa=[]),t=Hg(qa,t,i),i=Ce,(It===null?i.memoizedState:It.next)===null&&(i=i.alternate,q.H=i===null||i.memoizedState===null?Vy:od),t}function uu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===ue)return Gt(t)}throw Error(r(438,String(t)))}function Xf(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=cu(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function ts(t,i){return typeof i=="function"?i(t):i}function hu(t){var i=bt();return Jf(i,nt,t)}function Jf(t,i,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var E=v=null,C=null,L=i,K=!1;do{var Y=L.lane&-536870913;if(Y!==L.lane?(je&Y)===Y:(es&Y)===Y){var B=L.revertLane;if(B===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Y===ja&&(K=!0);else if((es&B)===B){L=L.next,B===ja&&(K=!0);continue}else Y={lane:0,revertLane:L.revertLane,gesture:null,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=Y,v=d):C=C.next=Y,Ce.lanes|=B,Ls|=B;Y=L.action,Gr&&a(d,Y),d=L.hasEagerState?L.eagerState:a(d,Y)}else B={lane:Y,revertLane:L.revertLane,gesture:L.gesture,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(E=C=B,v=d):C=C.next=B,Ce.lanes|=Y,Ls|=Y;L=L.next}while(L!==null&&L!==i);if(C===null?v=d:C.next=E,!Tn(d,t.memoizedState)&&(Nt=!0,K&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Wf(t){var i=bt(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Tn(d,i.memoizedState)||(Nt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ty(t,i,a){var l=Ce,h=bt(),d=Be;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var v=!Tn((nt||h).memoizedState,a);if(v&&(h.memoizedState=a,Nt=!0),h=h.queue,td(sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||It!==null&&It.memoizedState.tag&1){if(l.flags|=2048,Fa(9,{destroy:void 0},iy.bind(null,l,h,a,i),null),rt===null)throw Error(r(349));d||(es&127)!==0||ny(l,i,a)}return a}function ny(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=cu(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function iy(t,i,a,l){i.value=a,i.getSnapshot=l,ry(i)&&ay(t)}function sy(t,i,a){return a(function(){ry(i)&&ay(t)})}function ry(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function ay(t){var i=jr(t,2);i!==null&&pn(i,t,2)}function Zf(t){var i=an();if(typeof t=="function"){var a=t;if(t=a(),Gr){Dn(!0);try{a()}finally{Dn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:t},i}function oy(t,i,a,l){return t.baseState=a,Jf(t,nt,typeof l=="function"?l:ts)}function Nw(t,i,a,l,h){if(mu(t))throw Error(r(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};q.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,ly(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ly(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=q.T,v={};q.T=v;try{var E=a(h,l),C=q.S;C!==null&&C(v,E),cy(t,i,E)}catch(L){ed(t,i,L)}finally{d!==null&&v.types!==null&&(d.types=v.types),q.T=d}}else try{d=a(h,l),cy(t,i,d)}catch(L){ed(t,i,L)}}function cy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){uy(t,i,l)},function(l){return ed(t,i,l)}):uy(t,i,a)}function uy(t,i,a){i.status="fulfilled",i.value=a,hy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ly(t,a)))}function ed(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,hy(i),i=i.next;while(i!==l)}t.action=null}function hy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function fy(t,i){return i}function dy(t,i){if(Be){var a=rt.formState;if(a!==null){e:{var l=Ce;if(Be){if(ot){t:{for(var h=ot,d=Bn;h.nodeType!==8;){if(!d){h=null;break t}if(h=Fn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){ot=Fn(h.nextSibling),l=h.data==="F!";break e}}Cs(l)}l=!1}l&&(i=a[0])}}return a=an(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fy,lastRenderedState:i},a.queue=l,a=Dy.bind(null,Ce,l),l.dispatch=a,l=Zf(!1),d=ad.bind(null,Ce,!1,l.queue),l=an(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=Nw.bind(null,Ce,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function my(t){var i=bt();return py(i,nt,t)}function py(t,i,a){if(i=Jf(t,i,fy)[0],t=hu(ts)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=ml(i)}catch(v){throw v===Ua?tu:v}else l=i;i=bt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,Fa(9,{destroy:void 0},Cw.bind(null,h,a),null)),[l,d,t]}function Cw(t,i){t.action=i}function gy(t){var i=bt(),a=nt;if(a!==null)return py(i,a,t);bt(),i=i.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Fa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=cu(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function yy(){return bt().memoizedState}function fu(t,i,a,l){var h=an();Ce.flags|=t,h.memoizedState=Fa(1|i,{destroy:void 0},a,l===void 0?null:l)}function du(t,i,a,l){var h=bt();l=l===void 0?null:l;var d=h.memoizedState.inst;nt!==null&&l!==null&&Gf(l,nt.memoizedState.deps)?h.memoizedState=Fa(i,d,a,l):(Ce.flags|=t,h.memoizedState=Fa(1|i,d,a,l))}function _y(t,i){fu(8390656,8,t,i)}function td(t,i){du(2048,8,t,i)}function kw(t){Ce.flags|=4;var i=Ce.updateQueue;if(i===null)i=cu(),Ce.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function vy(t){var i=bt().memoizedState;return kw({ref:i,nextImpl:t}),function(){if((Xe&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function by(t,i){return du(4,2,t,i)}function Ey(t,i){return du(4,4,t,i)}function Ty(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function wy(t,i,a){a=a!=null?a.concat([t]):null,du(4,4,Ty.bind(null,i,t),a)}function nd(){}function xy(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Gf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ay(t,i){var a=bt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Gf(i,l[1]))return l[0];if(l=t(),Gr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l}function id(t,i,a){return a===void 0||(es&1073741824)!==0&&(je&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=S_(),Ce.lanes|=t,Ls|=t,a)}function Sy(t,i,a,l){return Tn(a,i)?a:za.current!==null?(t=id(t,a,l),Tn(t,i)||(Nt=!0),t):(es&42)===0||(es&1073741824)!==0&&(je&261930)===0?(Nt=!0,t.memoizedState=a):(t=S_(),Ce.lanes|=t,Ls|=t,i)}function Ry(t,i,a,l,h){var d=Z.p;Z.p=d!==0&&8>d?d:8;var v=q.T,E={};q.T=E,ad(t,!1,i,a);try{var C=h(),L=q.S;if(L!==null&&L(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=Sw(C,l);pl(t,i,K,In(t))}else pl(t,i,l,In(t))}catch(Y){pl(t,i,{then:function(){},status:"rejected",reason:Y},In())}finally{Z.p=d,v!==null&&E.types!==null&&(v.types=E.types),q.T=v}}function Dw(){}function sd(t,i,a,l){if(t.tag!==5)throw Error(r(476));var h=Iy(t).queue;Ry(t,h,i,fe,a===null?Dw:function(){return Ny(t),a(l)})}function Iy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:fe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ts,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ny(t){var i=Iy(t);i.next===null&&(i=t.alternate.memoizedState),pl(t,i.next.queue,{},In())}function rd(){return Gt(Dl)}function Cy(){return bt().memoizedState}function ky(){return bt().memoizedState}function Ow(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=Os(a);var l=Ms(i,t,a);l!==null&&(pn(l,i,a),ul(l,i,a)),i={cache:Mf()},t.payload=i;return}i=i.return}}function Mw(t,i,a){var l=In();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},mu(t)?Oy(i,a):(a=wf(t,i,a,l),a!==null&&(pn(a,t,l),My(a,i,l)))}function Dy(t,i,a){var l=In();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(mu(t))Oy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,E=d(v,a);if(h.hasEagerState=!0,h.eagerState=E,Tn(E,v))return $c(t,i,h,0),rt===null&&Qc(),!1}catch{}finally{}if(a=wf(t,i,h,l),a!==null)return pn(a,t,l),My(a,i,l),!0}return!1}function ad(t,i,a,l){if(l={lane:2,revertLane:Ud(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},mu(t)){if(i)throw Error(r(479))}else i=wf(t,a,l,2),i!==null&&pn(i,t,2)}function mu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function Oy(t,i){Ba=ou=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function My(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Po(t,a)}}var gl={readContext:Gt,use:uu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt,useHostTransitionStatus:mt,useFormState:mt,useActionState:mt,useOptimistic:mt,useMemoCache:mt,useCacheRefresh:mt};gl.useEffectEvent=mt;var Vy={readContext:Gt,use:uu,useCallback:function(t,i){return an().memoizedState=[t,i===void 0?null:i],t},useContext:Gt,useEffect:_y,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,fu(4194308,4,Ty.bind(null,i,t),a)},useLayoutEffect:function(t,i){return fu(4194308,4,t,i)},useInsertionEffect:function(t,i){fu(4,2,t,i)},useMemo:function(t,i){var a=an();i=i===void 0?null:i;var l=t();if(Gr){Dn(!0);try{t()}finally{Dn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=an();if(a!==void 0){var h=a(i);if(Gr){Dn(!0);try{a(i)}finally{Dn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=Mw.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=an();return t={current:t},i.memoizedState=t},useState:function(t){t=Zf(t);var i=t.queue,a=Dy.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:nd,useDeferredValue:function(t,i){var a=an();return id(a,t,i)},useTransition:function(){var t=Zf(!1);return t=Ry.bind(null,Ce,t.queue,!0,!1),an().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=an();if(Be){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),rt===null)throw Error(r(349));(je&127)!==0||ny(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,_y(sy.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,{destroy:void 0},iy.bind(null,l,d,a,i),null),a},useId:function(){var t=an(),i=rt.identifierPrefix;if(Be){var a=Mi,l=Oi;a=(l&~(1<<32-yt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=lu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Rw++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:rd,useFormState:dy,useActionState:dy,useOptimistic:function(t){var i=an();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=ad.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:Xf,useCacheRefresh:function(){return an().memoizedState=Ow.bind(null,Ce)},useEffectEvent:function(t){var i=an(),a={impl:t};return i.memoizedState=a,function(){if((Xe&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},od={readContext:Gt,use:uu,useCallback:xy,useContext:Gt,useEffect:td,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ay,useReducer:hu,useRef:yy,useState:function(){return hu(ts)},useDebugValue:nd,useDeferredValue:function(t,i){var a=bt();return Sy(a,nt.memoizedState,t,i)},useTransition:function(){var t=hu(ts)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:ty,useId:Cy,useHostTransitionStatus:rd,useFormState:my,useActionState:my,useOptimistic:function(t,i){var a=bt();return oy(a,nt,t,i)},useMemoCache:Xf,useCacheRefresh:ky};od.useEffectEvent=vy;var jy={readContext:Gt,use:uu,useCallback:xy,useContext:Gt,useEffect:td,useImperativeHandle:wy,useInsertionEffect:by,useLayoutEffect:Ey,useMemo:Ay,useReducer:Wf,useRef:yy,useState:function(){return Wf(ts)},useDebugValue:nd,useDeferredValue:function(t,i){var a=bt();return nt===null?id(a,t,i):Sy(a,nt.memoizedState,t,i)},useTransition:function(){var t=Wf(ts)[0],i=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:ty,useId:Cy,useHostTransitionStatus:rd,useFormState:gy,useActionState:gy,useOptimistic:function(t,i){var a=bt();return nt!==null?oy(a,nt,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Xf,useCacheRefresh:ky};jy.useEffectEvent=vy;function ld(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var cd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=Os(l);h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,l),i!==null&&(pn(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=Os(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ms(t,h,l),i!==null&&(pn(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=Os(a);l.tag=2,i!=null&&(l.callback=i),i=Ms(t,l,a),i!==null&&(pn(i,t,a),ul(i,t,a))}};function Py(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function Uy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&cd.enqueueReplaceState(i,i.state,null)}function Kr(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ly(t){Kc(t)}function zy(t){console.error(t)}function By(t){Kc(t)}function pu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function qy(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function ud(t,i,a){return a=Os(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,i)},a}function Fy(t){return t=Os(t),t.tag=3,t}function Hy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){qy(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){qy(i,a,l),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function Vw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=xn.current,a!==null){switch(a.tag){case 31:case 13:return qn===null?Ru():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===nu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Vd(t,l,h)),!1;case 22:return a.flags|=65536,l===nu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Vd(t,l,h)),!1}throw Error(r(435,a.tag))}return Vd(t,l,h),Ru(),!1}if(Be)return i=xn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Nf&&(t=Error(r(422),{cause:l}),rl(Un(t,a)))):(l!==Nf&&(i=Error(r(423),{cause:l}),rl(Un(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Un(l,a),h=ud(t.stateNode,l,h),zf(t,h),pt!==4&&(pt=2)),!1;var d=Error(r(520),{cause:l});if(d=Un(d,a),xl===null?xl=[d]:xl.push(d),pt!==4&&(pt=2),i===null)return!0;l=Un(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=ud(a.stateNode,l,t),zf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zs===null||!zs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Fy(h),Hy(h,t,a,l),zf(a,h),!1}a=a.return}while(a!==null);return!1}var hd=Error(r(461)),Nt=!1;function Kt(t,i,a,l){i.child=t===null?$g(i,null,a,l):Hr(i,t.child,a,l)}function Gy(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var E in l)E!=="ref"&&(v[E]=l[E])}else v=l;return zr(i),l=Kf(t,i,a,v,d,h),E=Qf(),t!==null&&!Nt?($f(t,i,h),ns(t,i,h)):(Be&&E&&Rf(i),i.flags|=1,Kt(t,i,l,h),i.child)}function Ky(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!xf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Qy(t,i,d,l,h)):(t=Xc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!vd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(v,l)&&t.ref===i.ref)return ns(t,i,h)}return i.flags|=1,t=Xi(d,l),t.ref=i.ref,t.return=i,i.child=t}function Qy(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(Nt=!1,i.pendingProps=l=d,vd(t,h))(t.flags&131072)!==0&&(Nt=!0);else return i.lanes=t.lanes,ns(t,i,h)}return fd(t,i,a,l,h)}function $y(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return Yy(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&eu(i,d!==null?d.cachePool:null),d!==null?Jg(i,d):qf(),Wg(i);else return l=i.lanes=536870912,Yy(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(eu(i,d.cachePool),Jg(i,d),js(),i.memoizedState=null):(t!==null&&eu(i,null),qf(),js());return Kt(t,i,h,a),i.child}function yl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Yy(t,i,a,l,h){var d=jf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&eu(i,null),qf(),Wg(i),t!==null&&Va(t,i,l,!0),i.childLanes=h,null}function gu(t,i){return i=_u({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Xy(t,i,a){return Hr(i,t.child,null,a),t=gu(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function jw(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=gu(i,l),i.lanes=536870912,yl(null,t);if(Hf(i),(t=ot)?(t=l0(t,Bn),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Og(t),a.return=i,i.child=a,Ht=i,ot=null)):t=null,t===null)throw Cs(i);return i.lanes=536870912,null}return gu(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(Hf(i),h)if(i.flags&256)i.flags&=-257,i=Xy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(r(558));else if(Nt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,Nt||h){if(l=rt,l!==null&&(v=Uo(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,jr(t,v),pn(l,t,v),hd;Ru(),i=Xy(t,i,a)}else t=d.treeContext,ot=Fn(v.nextSibling),Ht=i,Be=!0,Ns=null,Bn=!1,t!==null&&jg(i,t),i=gu(i,l),i.flags|=4096;return i}return t=Xi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function yu(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fd(t,i,a,l,h){return zr(i),a=Kf(t,i,a,l,void 0,h),l=Qf(),t!==null&&!Nt?($f(t,i,h),ns(t,i,h)):(Be&&l&&Rf(i),i.flags|=1,Kt(t,i,a,h),i.child)}function Jy(t,i,a,l,h,d){return zr(i),i.updateQueue=null,a=ey(i,l,a,h),Zg(t),l=Qf(),t!==null&&!Nt?($f(t,i,d),ns(t,i,d)):(Be&&l&&Rf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function Wy(t,i,a,l,h){if(zr(i),i.stateNode===null){var d=ka,v=a.contextType;typeof v=="object"&&v!==null&&(d=Gt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=cd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Uf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Gt(v):ka,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(ld(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&cd.enqueueReplaceState(d,d.state,null),fl(i,l,d,h),hl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var E=i.memoizedProps,C=Kr(a,E);d.props=C;var L=d.context,K=a.contextType;v=ka,typeof K=="object"&&K!==null&&(v=Gt(K));var Y=a.getDerivedStateFromProps;K=typeof Y=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||L!==v)&&Uy(i,d,l,v),Ds=!1;var B=i.memoizedState;d.state=B,fl(i,l,d,h),hl(),L=i.memoizedState,E||B!==L||Ds?(typeof Y=="function"&&(ld(i,a,Y,l),L=i.memoizedState),(C=Ds||Py(i,a,C,l,B,L,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Lf(t,i),v=i.memoizedProps,K=Kr(a,v),d.props=K,Y=i.pendingProps,B=d.context,L=a.contextType,C=ka,typeof L=="object"&&L!==null&&(C=Gt(L)),E=a.getDerivedStateFromProps,(L=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Y||B!==C)&&Uy(i,d,l,C),Ds=!1,B=i.memoizedState,d.state=B,fl(i,l,d,h),hl();var H=i.memoizedState;v!==Y||B!==H||Ds||t!==null&&t.dependencies!==null&&Wc(t.dependencies)?(typeof E=="function"&&(ld(i,a,E,l),H=i.memoizedState),(K=Ds||Py(i,a,K,l,B,H,C)||t!==null&&t.dependencies!==null&&Wc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,H,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,H,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),d.props=l,d.state=H,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&B===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,yu(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Hr(i,t.child,null,h),i.child=Hr(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=ns(t,i,h),t}function Zy(t,i,a,l){return Ur(),i.flags|=256,Kt(t,i,a,l),i.child}var dd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function md(t){return{baseLanes:t,cachePool:qg()}}function pd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Rn),t}function e_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(vt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?Vs(i):js(),(t=ot)?(t=l0(t,Bn),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Is!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=Og(t),a.return=i,i.child=a,Ht=i,ot=null)):t=null,t===null)throw Cs(i);return Jd(t)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(js(),h=i.mode,E=_u({mode:"hidden",children:E},h),l=Pr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,v,a),i.memoizedState=dd,yl(null,l)):(Vs(i),gd(i,E))}var C=t.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(d)i.flags&256?(Vs(i),i.flags&=-257,i=yd(t,i,a)):i.memoizedState!==null?(js(),i.child=t.child,i.flags|=128,i=null):(js(),E=l.fallback,h=i.mode,l=_u({mode:"visible",children:l.children},h),E=Pr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Hr(i,t.child,null,a),l=i.child,l.memoizedState=md(a),l.childLanes=pd(t,v,a),i.memoizedState=dd,i=yl(null,l));else if(Vs(i),Jd(E)){if(v=E.nextSibling&&E.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(r(419)),l.stack="",l.digest=v,rl({value:l,source:null,stack:null}),i=yd(t,i,a)}else if(Nt||Va(t,i,a,!1),v=(a&t.childLanes)!==0,Nt||v){if(v=rt,v!==null&&(l=Uo(v,a),l!==0&&l!==C.retryLane))throw C.retryLane=l,jr(t,l),pn(v,t,l),hd;Xd(E)||Ru(),i=yd(t,i,a)}else Xd(E)?(i.flags|=192,i.child=t.child,i=null):(t=C.treeContext,ot=Fn(E.nextSibling),Ht=i,Be=!0,Ns=null,Bn=!1,t!==null&&jg(i,t),i=gd(i,l.children),i.flags|=4096);return i}return h?(js(),E=l.fallback,h=i.mode,C=t.child,L=C.sibling,l=Xi(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&65011712,L!==null?E=Xi(L,E):(E=Pr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,yl(null,l),l=i.child,E=t.child.memoizedState,E===null?E=md(a):(h=E.cachePool,h!==null?(C=Rt._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=qg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=pd(t,v,a),i.memoizedState=dd,yl(t.child,l)):(Vs(i),a=t.child,t=a.sibling,a=Xi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function gd(t,i){return i=_u({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function _u(t,i){return t=wn(22,t,null,i),t.lanes=0,t}function yd(t,i,a){return Hr(i,t.child,null,a),t=gd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function t_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Df(t.return,i,a)}function _d(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function n_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=vt.current,E=(v&2)!==0;if(E?(v=v&1|2,i.flags|=128):v&=1,se(vt,v),Kt(t,i,l,a),l=Be?sl:0,!E&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&t_(t,a,i);else if(t.tag===19)t_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&au(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),_d(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&au(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}_d(i,!0,a,null,d,l);break;case"together":_d(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function ns(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ls|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(r(153));if(i.child!==null){for(t=i.child,a=Xi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Wc(t)))}function Pw(t,i,a){switch(i.tag){case 3:gt(i,i.stateNode.containerInfo),ks(i,Rt,t.memoizedState.cache),Ur();break;case 27:case 5:ne(i);break;case 4:gt(i,i.stateNode.containerInfo);break;case 10:ks(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Hf(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Vs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?e_(t,i,a):(Vs(i),t=ns(t,i,a),t!==null?t.sibling:null);Vs(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return n_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),se(vt,vt.current),l)break;return null;case 22:return i.lanes=0,$y(t,i,a,i.pendingProps);case 24:ks(i,Rt,t.memoizedState.cache)}return ns(t,i,a)}function i_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Nt=!0;else{if(!vd(t,a)&&(i.flags&128)===0)return Nt=!1,Pw(t,i,a);Nt=(t.flags&131072)!==0}else Nt=!1,Be&&(i.flags&1048576)!==0&&Vg(i,sl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=qr(i.elementType),i.type=t,typeof t=="function")xf(t)?(l=Kr(t,l),i.tag=1,i=Wy(null,i,t,l,a)):(i.tag=0,i=fd(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===be){i.tag=11,i=Gy(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=Ky(null,i,t,l,a);break e}}throw i=Qe(t)||t,Error(r(306,i,""))}}return i;case 0:return fd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Kr(l,i.pendingProps),Wy(t,i,l,h,a);case 3:e:{if(gt(i,i.stateNode.containerInfo),t===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,Lf(t,i),fl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,ks(i,Rt,l),l!==d.cache&&Of(i,[Rt],a,!0),hl(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Zy(t,i,l,a);break e}else if(l!==h){h=Un(Error(r(424)),i),rl(h),i=Zy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ot=Fn(t.firstChild),Ht=i,Be=!0,Ns=null,Bn=!0,a=$g(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Ur(),l===h){i=ns(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return yu(t,i),t===null?(a=m0(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Mu(xe.current).createElement(a),l[xt]=i,l[Ut]=t,Qt(l,a,t),At(l),i.stateNode=l):i.memoizedState=m0(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ne(i),t===null&&Be&&(l=i.stateNode=h0(i.type,i.pendingProps,xe.current),Ht=i,Bn=!0,h=ot,Hs(i.type)?(Wd=h,ot=Fn(l.firstChild)):ot=h),Kt(t,i,i.pendingProps.children,a),yu(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=ot)&&(l=dx(l,i.type,i.pendingProps,Bn),l!==null?(i.stateNode=l,Ht=i,ot=Fn(l.firstChild),Bn=!1,h=!0):h=!1),h||Cs(i)),ne(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Qd(h,d)?l=null:v!==null&&Qd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Kf(t,i,Iw,null,null,a),Dl._currentValue=h),yu(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=ot)&&(a=mx(a,i.pendingProps,Bn),a!==null?(i.stateNode=a,Ht=i,ot=null,t=!0):t=!1),t||Cs(i)),null;case 13:return e_(t,i,a);case 4:return gt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Hr(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return Gy(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,ks(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,zr(i),h=Gt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return Ky(t,i,i.type,i.pendingProps,a);case 15:return Qy(t,i,i.type,i.pendingProps,a);case 19:return n_(t,i,a);case 31:return jw(t,i,a);case 22:return $y(t,i,a,i.pendingProps);case 24:return zr(i),l=Gt(Rt),t===null?(h=jf(),h===null&&(h=rt,d=Mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Uf(i),ks(i,Rt,h)):((t.lanes&a)!==0&&(Lf(t,i),fl(i,null,null,a),hl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),ks(i,Rt,l)):(l=d.cache,ks(i,Rt,l),l!==h.cache&&Of(i,[Rt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function is(t){t.flags|=4}function bd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(C_())t.flags|=8192;else throw Fr=nu,Pf}else t.flags&=-16777217}function s_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!v0(i))if(C_())t.flags|=8192;else throw Fr=nu,Pf}function vu(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ac():536870912,t.lanes|=i,Qa|=i)}function _l(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function Uw(t,i,a){var l=i.pendingProps;switch(If(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(Rt),Ae(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?is(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Cf())),lt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(is(i),d!==null?(lt(i),s_(i,d)):(lt(i),bd(i,h,null,l,a))):d?d!==t.memoizedState?(is(i),lt(i),s_(i,d)):(lt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&is(i),lt(i),bd(i,h,t,l,a)),null;case 27:if(Fe(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return lt(i),null}t=ae.current,Ma(i)?Pg(i):(t=h0(h,l,a),i.stateNode=t,is(i))}return lt(i),null;case 5:if(Fe(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return lt(i),null}if(d=ae.current,Ma(i))Pg(i);else{var v=Mu(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[xt]=i,d[Ut]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Qt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&is(i)}}return lt(i),bd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&is(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(t=xe.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Ht,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[xt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e0(t.nodeValue,a)),t||Cs(i,!0)}else t=Mu(t).createTextNode(l),t[xt]=i,i.stateNode=t}return lt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(r(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(557));t[xt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),t=!1}else a=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(r(558))}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[xt]=i}else Ur(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=Cf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),vu(i,i.updateQueue),lt(i),null);case 4:return Ae(),t===null&&qd(i.stateNode.containerInfo),lt(i),null;case 10:return Zi(i.type),lt(i),null;case 19:if($(vt),l=i.memoizedState,l===null)return lt(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)_l(l,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=au(t),d!==null){for(i.flags|=128,_l(l,!1),t=d.updateQueue,i.updateQueue=t,vu(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Dg(a,t),a=a.sibling;return se(vt,vt.current&1|2),Be&&Ji(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>xu&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304)}else{if(!h)if(t=au(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,vu(i,t),_l(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return lt(i),null}else 2*sn()-l.renderingStartTime>xu&&a!==536870912&&(i.flags|=128,h=!0,_l(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=vt.current,se(vt,h?a&1|2:a&1),Be&&Ji(i,l.treeForkCount),t):(lt(i),null);case 22:case 23:return An(i),Ff(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&vu(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&$(Br),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(Rt),lt(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function Lw(t,i){switch(If(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(Rt),Ae(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Fe(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(r(340));Ur()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return $(vt),null;case 4:return Ae(),null;case 10:return Zi(i.type),null;case 22:case 23:return An(i),Ff(),t!==null&&$(Br),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(Rt),null;case 25:return null;default:return null}}function r_(t,i){switch(If(i),i.tag){case 3:Zi(Rt),Ae();break;case 26:case 27:case 5:Fe(i);break;case 4:Ae();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:$(vt);break;case 10:Zi(i.type);break;case 22:case 23:An(i),Ff(),t!==null&&$(Br);break;case 24:Zi(Rt)}}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(E){et(i,i.return,E)}}function Ps(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,E=v.destroy;if(E!==void 0){v.destroy=void 0,h=i;var C=a,L=E;try{L()}catch(K){et(h,C,K)}}}l=l.next}while(l!==d)}}catch(K){et(i,i.return,K)}}function a_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Xg(i,a)}catch(l){et(t,t.return,l)}}}function o_(t,i,a){a.props=Kr(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){et(t,i,l)}}function bl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){et(t,i,h)}}function Vi(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){et(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){et(t,i,h)}else a.current=null}function l_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){et(t,t.return,h)}}function Ed(t,i,a){try{var l=t.stateNode;ox(l,t.type,a,i),l[Ut]=i}catch(h){et(t,t.return,h)}}function c_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Hs(t.type)||t.tag===4}function Td(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||c_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Hs(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function wd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ti));else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(wd(t,i,a),t=t.sibling;t!==null;)wd(t,i,a),t=t.sibling}function bu(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Hs(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(bu(t,i,a),t=t.sibling;t!==null;)bu(t,i,a),t=t.sibling}function u_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Qt(i,l,a),i[xt]=t,i[Ut]=a}catch(d){et(t,t.return,d)}}var ss=!1,Ct=!1,xd=!1,h_=typeof WeakSet=="function"?WeakSet:Set,zt=null;function zw(t,i){if(t=t.containerInfo,Gd=Bu,t=wg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,E=-1,C=-1,L=0,K=0,Y=t,B=null;t:for(;;){for(var H;Y!==a||h!==0&&Y.nodeType!==3||(E=v+h),Y!==d||l!==0&&Y.nodeType!==3||(C=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(H=Y.firstChild)!==null;)B=Y,Y=H;for(;;){if(Y===t)break t;if(B===a&&++L===h&&(E=v),B===d&&++K===l&&(C=v),(H=Y.nextSibling)!==null)break;Y=B,B=Y.parentNode}Y=H}a=E===-1||C===-1?null:{start:E,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kd={focusedElem:t,selectionRange:a},Bu=!1,zt=i;zt!==null;)if(i=zt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,zt=t;else for(;zt!==null;){switch(i=zt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Kr(a.type,h);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){et(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=i.sibling,t!==null){t.return=i.return,zt=t;break}zt=i.return}}function f_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:as(t,a),l&4&&vl(5,a);break;case 1:if(as(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){et(a,a.return,v)}else{var h=Kr(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){et(a,a.return,v)}}l&64&&a_(a),l&512&&bl(a,a.return);break;case 3:if(as(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Xg(t,i)}catch(v){et(a,a.return,v)}}break;case 27:i===null&&l&4&&u_(a);case 26:case 5:as(t,a),i===null&&l&4&&l_(a),l&512&&bl(a,a.return);break;case 12:as(t,a);break;case 31:as(t,a),l&4&&p_(t,a);break;case 13:as(t,a),l&4&&g_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Yw.bind(null,a),px(t,a))));break;case 22:if(l=a.memoizedState!==null||ss,!l){i=i!==null&&i.memoizedState!==null||Ct,h=ss;var d=Ct;ss=l,(Ct=i)&&!d?os(t,a,(a.subtreeFlags&8772)!==0):as(t,a),ss=h,Ct=d}break;case 30:break;default:as(t,a)}}function d_(t){var i=t.alternate;i!==null&&(t.alternate=null,d_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ya(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ht=null,hn=!1;function rs(t,i,a){for(a=a.child;a!==null;)m_(t,i,a),a=a.sibling}function m_(t,i,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(Jn,a)}catch{}switch(a.tag){case 26:Ct||Vi(a,i),rs(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Ct||Vi(a,i);var l=ht,h=hn;Hs(a.type)&&(ht=a.stateNode,hn=!1),rs(t,i,a),Nl(a.stateNode),ht=l,hn=h;break;case 5:Ct||Vi(a,i);case 6:if(l=ht,h=hn,ht=null,rs(t,i,a),ht=l,hn=h,ht!==null)if(hn)try{(ht.nodeType===9?ht.body:ht.nodeName==="HTML"?ht.ownerDocument.body:ht).removeChild(a.stateNode)}catch(d){et(a,i,d)}else try{ht.removeChild(a.stateNode)}catch(d){et(a,i,d)}break;case 18:ht!==null&&(hn?(t=ht,a0(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),to(t)):a0(ht,a.stateNode));break;case 4:l=ht,h=hn,ht=a.stateNode.containerInfo,hn=!0,rs(t,i,a),ht=l,hn=h;break;case 0:case 11:case 14:case 15:Ps(2,a,i),Ct||Ps(4,a,i),rs(t,i,a);break;case 1:Ct||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&o_(a,i,l)),rs(t,i,a);break;case 21:rs(t,i,a);break;case 22:Ct=(l=Ct)||a.memoizedState!==null,rs(t,i,a),Ct=l;break;default:rs(t,i,a)}}function p_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{to(t)}catch(a){et(i,i.return,a)}}}function g_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{to(t)}catch(a){et(i,i.return,a)}}function Bw(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new h_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new h_),i;default:throw Error(r(435,t.tag))}}function Eu(t,i){var a=Bw(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=Xw.bind(null,t,l);l.then(h,h)}})}function fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,E=v;e:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){ht=E.stateNode,hn=!1;break e}break;case 5:ht=E.stateNode,hn=!1;break e;case 3:case 4:ht=E.stateNode.containerInfo,hn=!0;break e}E=E.return}if(ht===null)throw Error(r(160));m_(d,v,h),ht=null,hn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)y_(i,t),i=i.sibling}var oi=null;function y_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(i,t),dn(t),l&4&&(Ps(3,t,t.return),vl(3,t),Ps(5,t,t.return));break;case 1:fn(i,t),dn(t),l&512&&(Ct||a===null||Vi(a,a.return)),l&64&&ss&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=oi;if(fn(i,t),dn(t),l&512&&(Ct||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ei]||d[xt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Qt(d,l,a),d[xt]=t,At(d),l=d;break e;case"link":var v=y0("link","href",h).get(l+(a.href||""));if(v){for(var E=0;E<v.length;E++)if(d=v[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=y0("meta","content",h).get(l+(a.content||""))){for(E=0;E<v.length;E++)if(d=v[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(E,1);break t}}d=h.createElement(l),Qt(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[xt]=t,At(d),l=d}t.stateNode=l}else _0(h,t.type,t.stateNode);else t.stateNode=g0(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?_0(h,t.type,t.stateNode):g0(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Ed(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(i,t),dn(t),l&512&&(Ct||a===null||Vi(a,a.return)),a!==null&&l&4&&Ed(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(i,t),dn(t),l&512&&(Ct||a===null||Vi(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(ce){et(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Ed(t,h,a!==null?a.memoizedProps:h)),l&1024&&(xd=!0);break;case 6:if(fn(i,t),dn(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){et(t,t.return,ce)}}break;case 3:if(Pu=null,h=oi,oi=Vu(i.containerInfo),fn(i,t),oi=h,dn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{to(i.containerInfo)}catch(ce){et(t,t.return,ce)}xd&&(xd=!1,__(t));break;case 4:l=oi,oi=Vu(t.stateNode.containerInfo),fn(i,t),dn(t),oi=l;break;case 12:fn(i,t),dn(t);break;case 31:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 13:fn(i,t),dn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(wu=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 22:h=t.memoizedState!==null;var C=a!==null&&a.memoizedState!==null,L=ss,K=Ct;if(ss=L||h,Ct=K||C,fn(i,t),Ct=K,ss=L,dn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||C||ss||Ct||Qr(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){C=a=i;try{if(d=C.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{E=C.stateNode;var Y=C.memoizedProps.style,B=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ce){et(C,C.return,ce)}}}else if(i.tag===6){if(a===null){C=i;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(ce){et(C,C.return,ce)}}}else if(i.tag===18){if(a===null){C=i;try{var H=C.stateNode;h?o0(H,!0):o0(C.stateNode,!1)}catch(ce){et(C,C.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Eu(t,a))));break;case 19:fn(i,t),dn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Eu(t,l)));break;case 30:break;case 21:break;default:fn(i,t),dn(t)}}function dn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(c_(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Td(t);bu(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var E=Td(t);bu(t,E,v);break;case 3:case 4:var C=a.stateNode.containerInfo,L=Td(t);wd(t,L,C);break;default:throw Error(r(161))}}catch(K){et(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function __(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;__(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function as(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)f_(t,i.alternate,i),i=i.sibling}function Qr(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Ps(4,i,i.return),Qr(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&o_(i,i.return,a),Qr(i);break;case 27:Nl(i.stateNode);case 26:case 5:Vi(i,i.return),Qr(i);break;case 22:i.memoizedState===null&&Qr(i);break;case 30:Qr(i);break;default:Qr(i)}t=t.sibling}}function os(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:os(h,d,a),vl(4,d);break;case 1:if(os(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){et(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)Yg(C[h],E)}catch(L){et(l,l.return,L)}}a&&v&64&&a_(d),bl(d,d.return);break;case 27:u_(d);case 26:case 5:os(h,d,a),a&&l===null&&v&4&&l_(d),bl(d,d.return);break;case 12:os(h,d,a);break;case 31:os(h,d,a),a&&v&4&&p_(h,d);break;case 13:os(h,d,a),a&&v&4&&g_(h,d);break;case 22:d.memoizedState===null&&os(h,d,a),bl(d,d.return);break;case 30:break;default:os(h,d,a)}i=i.sibling}}function Ad(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&al(a))}function Sd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t))}function li(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)v_(t,i,a,l),i=i.sibling}function v_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:li(t,i,a,l),h&2048&&vl(9,i);break;case 1:li(t,i,a,l);break;case 3:li(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&al(t)));break;case 12:if(h&2048){li(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,E=d.onPostCommit;typeof E=="function"&&E(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){et(i,i.return,C)}}else li(t,i,a,l);break;case 31:li(t,i,a,l);break;case 13:li(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?li(t,i,a,l):El(t,i):d._visibility&2?li(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Ad(v,i);break;case 24:li(t,i,a,l),h&2048&&Sd(i.alternate,i);break;default:li(t,i,a,l)}}function Ha(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,E=a,C=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(d,v,E,C,h),vl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&2?Ha(d,v,E,C,h):El(d,v):(K._visibility|=2,Ha(d,v,E,C,h)),h&&L&2048&&Ad(v.alternate,v);break;case 24:Ha(d,v,E,C,h),h&&L&2048&&Sd(v.alternate,v);break;default:Ha(d,v,E,C,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&Ad(l.alternate,l);break;case 24:El(a,l),h&2048&&Sd(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Ga(t,i,a){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)b_(t,i,a),t=t.sibling}function b_(t,i,a){switch(t.tag){case 26:Ga(t,i,a),t.flags&Tl&&t.memoizedState!==null&&Rx(a,oi,t.memoizedState,t.memoizedProps);break;case 5:Ga(t,i,a);break;case 3:case 4:var l=oi;oi=Vu(t.stateNode.containerInfo),Ga(t,i,a),oi=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Tl,Tl=16777216,Ga(t,i,a),Tl=l):Ga(t,i,a));break;default:Ga(t,i,a)}}function E_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,w_(l,t)}E_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)T_(t),t=t.sibling}function T_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Ps(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Tu(t)):wl(t);break;default:wl(t)}}function Tu(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];zt=l,w_(l,t)}E_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Ps(8,i,i.return),Tu(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(i));break;default:Tu(i)}t=t.sibling}}function w_(t,i){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Ps(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:al(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var h=l.sibling,d=l.return;if(d_(l),l===a){zt=null;break e}if(h!==null){h.return=d,zt=h;break e}zt=d}}}var qw={getCacheForType:function(t){var i=Gt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Gt(Rt).controller.signal}},Fw=typeof WeakMap=="function"?WeakMap:Map,Xe=0,rt=null,Me=null,je=0,Ze=0,Sn=null,Us=!1,Ka=!1,Rd=!1,ls=0,pt=0,Ls=0,$r=0,Id=0,Rn=0,Qa=0,xl=null,mn=null,Nd=!1,wu=0,x_=0,xu=1/0,Au=null,zs=null,jt=0,Bs=null,$a=null,cs=0,Cd=0,kd=null,A_=null,Al=0,Dd=null;function In(){return(Xe&2)!==0&&je!==0?je&-je:q.T!==null?Ud():Sc()}function S_(){if(Rn===0)if((je&536870912)===0||Be){var t=Er;Er<<=1,(Er&3932160)===0&&(Er=262144),Rn=t}else Rn=536870912;return t=xn.current,t!==null&&(t.flags|=32),Rn}function pn(t,i,a){(t===rt&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),qs(t,je,Rn,!1)),Tr(t,a),((Xe&2)===0||t!==rt)&&(t===rt&&((Xe&2)===0&&($r|=a),pt===4&&qs(t,je,Rn,!1)),ji(t))}function R_(t,i,a){if((Xe&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Wn(t,i),h=l?Kw(t,i):Md(t,i,!0),d=l;do{if(h===0){Ka&&!l&&qs(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!Hw(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var E=t;h=xl;var C=E.current.memoizedState.isDehydrated;if(C&&(Ya(E,v).flags|=256),v=Md(E,v,!1),v!==2){if(Rd&&!C){E.errorRecoveryDisabledLanes|=d,$r|=d,h=4;break e}d=mn,mn=h,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),qs(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:qs(l,i,Rn,!Us);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=wu+300-sn(),10<h)){if(qs(l,i,Rn,!Us),_i(l,0,!0)!==0)break e;cs=i,l.timeoutHandle=s0(I_.bind(null,l,a,mn,Au,Nd,i,Rn,$r,Qa,Us,d,"Throttled",-0,0),h);break e}I_(l,a,mn,Au,Nd,i,Rn,$r,Qa,Us,d,null,-0,0)}}break}while(!0);ji(t)}function I_(t,i,a,l,h,d,v,E,C,L,K,Y,B,H){if(t.timeoutHandle=-1,Y=i.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ti},b_(i,d,Y);var ce=(d&62914560)===d?wu-sn():(d&4194048)===d?x_-sn():0;if(ce=Ix(Y,ce),ce!==null){cs=d,t.cancelPendingCommit=ce(j_.bind(null,t,i,d,a,l,h,v,E,C,K,Y,null,B,H)),qs(t,d,v,!L);return}}j_(t,i,d,a,l,h,v,E,C)}function Hw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qs(t,i,a,l){i&=~Id,i&=~$r,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-yt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&wr(t,a,i)}function Su(){return(Xe&6)===0?(Sl(0),!1):!0}function Od(){if(Me!==null){if(Ze===0)var t=Me.return;else t=Me,Wi=Lr=null,Yf(t),La=null,ll=0,t=Me;for(;t!==null;)r_(t.alternate,t),t=t.return;Me=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,ux(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),cs=0,Od(),rt=t,Me=a=Xi(t.current,null),je=i,Ze=0,Sn=null,Us=!1,Ka=Wn(t,i),Rd=!1,Qa=Rn=Id=$r=Ls=pt=0,mn=xl=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-yt(l),d=1<<h;i|=t[h],l&=~d}return ls=i,Qc(),a}function N_(t,i){Ce=null,q.H=gl,i===Ua||i===tu?(i=Gg(),Ze=3):i===Pf?(i=Gg(),Ze=4):Ze=i===hd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Me===null&&(pt=1,pu(t,Un(i,t.current)))}function C_(){var t=xn.current;return t===null?!0:(je&4194048)===je?qn===null:(je&62914560)===je||(je&536870912)!==0?t===qn:!1}function k_(){var t=q.H;return q.H=gl,t===null?gl:t}function D_(){var t=q.A;return q.A=qw,t}function Ru(){pt=4,Us||(je&4194048)!==je&&xn.current!==null||(Ka=!0),(Ls&134217727)===0&&($r&134217727)===0||rt===null||qs(rt,je,Rn,!1)}function Md(t,i,a){var l=Xe;Xe|=2;var h=k_(),d=D_();(rt!==t||je!==i)&&(Au=null,Ya(t,i)),i=!1;var v=pt;e:do try{if(Ze!==0&&Me!==null){var E=Me,C=Sn;switch(Ze){case 8:Od(),v=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(i=!0);var L=Ze;if(Ze=0,Sn=null,Xa(t,E,C,L),a&&Ka){v=0;break e}break;default:L=Ze,Ze=0,Sn=null,Xa(t,E,C,L)}}Gw(),v=pt;break}catch(K){N_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Wi=Lr=null,Xe=l,q.H=h,q.A=d,Me===null&&(rt=null,je=0,Qc()),v}function Gw(){for(;Me!==null;)O_(Me)}function Kw(t,i){var a=Xe;Xe|=2;var l=k_(),h=D_();rt!==t||je!==i?(Au=null,xu=sn()+500,Ya(t,i)):Ka=Wn(t,i);e:do try{if(Ze!==0&&Me!==null){i=Me;var d=Sn;t:switch(Ze){case 1:Ze=0,Sn=null,Xa(t,i,d,1);break;case 2:case 9:if(Fg(d)){Ze=0,Sn=null,M_(i);break}i=function(){Ze!==2&&Ze!==9||rt!==t||(Ze=7),ji(t)},d.then(i,i);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:Fg(d)?(Ze=0,Sn=null,M_(i)):(Ze=0,Sn=null,Xa(t,i,d,7));break;case 5:var v=null;switch(Me.tag){case 26:v=Me.memoizedState;case 5:case 27:var E=Me;if(v?v0(v):E.stateNode.complete){Ze=0,Sn=null;var C=E.sibling;if(C!==null)Me=C;else{var L=E.return;L!==null?(Me=L,Iu(L)):Me=null}break t}}Ze=0,Sn=null,Xa(t,i,d,5);break;case 6:Ze=0,Sn=null,Xa(t,i,d,6);break;case 8:Od(),pt=6;break e;default:throw Error(r(462))}}Qw();break}catch(K){N_(t,K)}while(!0);return Wi=Lr=null,q.H=l,q.A=h,Xe=a,Me!==null?0:(rt=null,je=0,Qc(),pt)}function Qw(){for(;Me!==null&&!uf();)O_(Me)}function O_(t){var i=i_(t.alternate,t,ls);t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function M_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Jy(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=Jy(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Yf(i);default:r_(a,i),i=Me=Dg(i,ls),i=i_(a,i,ls)}t.memoizedProps=t.pendingProps,i===null?Iu(t):Me=i}function Xa(t,i,a,l){Wi=Lr=null,Yf(i),La=null,ll=0;var h=i.return;try{if(Vw(t,h,i,a,je)){pt=1,pu(t,Un(a,t.current)),Me=null;return}}catch(d){if(h!==null)throw Me=h,d;pt=1,pu(t,Un(a,t.current)),Me=null;return}i.flags&32768?(Be||l===1?t=!0:Ka||(je&536870912)!==0?t=!1:(Us=t=!0,(l===2||l===9||l===3||l===6)&&(l=xn.current,l!==null&&l.tag===13&&(l.flags|=16384))),V_(i,t)):Iu(i)}function Iu(t){var i=t;do{if((i.flags&32768)!==0){V_(i,Us);return}t=i.return;var a=Uw(i.alternate,i,ls);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);pt===0&&(pt=5)}function V_(t,i){do{var a=Lw(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);pt=6,Me=null}function j_(t,i,a,l,h,d,v,E,C){t.cancelPendingCommit=null;do Nu();while(jt!==0);if((Xe&6)!==0)throw Error(r(327));if(i!==null){if(i===t.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Tf,df(t,a,d,v,E,C),t===rt&&(Me=rt=null,je=0),$a=i,Bs=t,cs=a,Cd=d,kd=h,A_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,Jw(_s,function(){return B_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=Z.p,Z.p=2,v=Xe,Xe|=4;try{zw(t,i,a)}finally{Xe=v,Z.p=h,q.T=l}}jt=1,P_(),U_(),L_()}}function P_(){if(jt===1){jt=0;var t=Bs,i=$a,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=Z.p;Z.p=2;var h=Xe;Xe|=4;try{y_(i,t);var d=Kd,v=wg(t.containerInfo),E=d.focusedElem,C=d.selectionRange;if(v!==E&&E&&E.ownerDocument&&Tg(E.ownerDocument.documentElement,E)){if(C!==null&&yf(E)){var L=C.start,K=C.end;if(K===void 0&&(K=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(K,E.value.length);else{var Y=E.ownerDocument||document,B=Y&&Y.defaultView||window;if(B.getSelection){var H=B.getSelection(),ce=E.textContent.length,ve=Math.min(C.start,ce),st=C.end===void 0?ve:Math.min(C.end,ce);!H.extend&&ve>st&&(v=st,st=ve,ve=v);var j=Eg(E,ve),D=Eg(E,st);if(j&&D&&(H.rangeCount!==1||H.anchorNode!==j.node||H.anchorOffset!==j.offset||H.focusNode!==D.node||H.focusOffset!==D.offset)){var U=Y.createRange();U.setStart(j.node,j.offset),H.removeAllRanges(),ve>st?(H.addRange(U),H.extend(D.node,D.offset)):(U.setEnd(D.node,D.offset),H.addRange(U))}}}}for(Y=[],H=E;H=H.parentNode;)H.nodeType===1&&Y.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var Q=Y[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Bu=!!Gd,Kd=Gd=null}finally{Xe=h,Z.p=l,q.T=a}}t.current=i,jt=2}}function U_(){if(jt===2){jt=0;var t=Bs,i=$a,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=Z.p;Z.p=2;var h=Xe;Xe|=4;try{f_(t,i.alternate,i)}finally{Xe=h,Z.p=l,q.T=a}}jt=3}}function L_(){if(jt===4||jt===3){jt=0,vc();var t=Bs,i=$a,a=cs,l=A_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,$a=Bs=null,z_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zs=null),Ki(a),i=i.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(Jn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=q.T,h=Z.p,Z.p=2,q.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var E=l[v];d(E.value,{componentStack:E.stack})}}finally{q.T=i,Z.p=h}}(cs&3)!==0&&Nu(),ji(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Dd?Al++:(Al=0,Dd=t):Al=0,Sl(0)}}function z_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,al(i)))}function Nu(){return P_(),U_(),L_(),B_()}function B_(){if(jt!==5)return!1;var t=Bs,i=Cd;Cd=0;var a=Ki(cs),l=q.T,h=Z.p;try{Z.p=32>a?32:a,q.T=null,a=kd,kd=null;var d=Bs,v=cs;if(jt=0,$a=Bs=null,cs=0,(Xe&6)!==0)throw Error(r(331));var E=Xe;if(Xe|=4,T_(d.current),v_(d,d.current,v,a),Xe=E,Sl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(Jn,d)}catch{}return!0}finally{Z.p=h,q.T=l,z_(t,i)}}function q_(t,i,a){i=Un(a,i),i=ud(t.stateNode,i,2),t=Ms(t,i,2),t!==null&&(Tr(t,2),ji(t))}function et(t,i,a){if(t.tag===3)q_(t,t,a);else for(;i!==null;){if(i.tag===3){q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zs===null||!zs.has(l))){t=Un(a,t),a=Fy(2),l=Ms(i,a,2),l!==null&&(Hy(a,l,i,t),Tr(l,2),ji(l));break}}i=i.return}}function Vd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Fw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Rd=!0,h.add(a),t=$w.bind(null,t,i,a),i.then(t,t))}function $w(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(je&a)===a&&(pt===4||pt===3&&(je&62914560)===je&&300>sn()-wu?(Xe&2)===0&&Ya(t,0):Id|=a,Qa===je&&(Qa=0)),ji(t)}function F_(t,i){i===0&&(i=Ac()),t=jr(t,i),t!==null&&(Tr(t,i),ji(t))}function Yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),F_(t,a)}function Xw(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),F_(t,a)}function Jw(t,i){return Vt(t,i)}var Cu=null,Ja=null,jd=!1,ku=!1,Pd=!1,Fs=0;function ji(t){t!==Ja&&t.next===null&&(Ja===null?Cu=Ja=t:Ja=Ja.next=t),ku=!0,jd||(jd=!0,Zw())}function Sl(t,i){if(!Pd&&ku){Pd=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-yt(42|t)+1)-1,d&=h&~(v&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,Q_(l,d))}else d=je,d=_i(l,l===rt?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,Q_(l,d));l=l.next}while(a);Pd=!1}}function Ww(){H_()}function H_(){ku=jd=!1;var t=0;Fs!==0&&cx()&&(t=Fs);for(var i=sn(),a=null,l=Cu;l!==null;){var h=l.next,d=G_(l,i);d===0?(l.next=null,a===null?Cu=h:a.next=h,h===null&&(Ja=a)):(a=l,(t!==0||(d&3)!==0)&&(ku=!0)),l=h}jt!==0&&jt!==5||Sl(t),Fs!==0&&(Fs=0)}function G_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-yt(d),E=1<<v,C=h[v];C===-1?((E&a)===0||(E&l)!==0)&&(h[v]=ff(E,i)):C<=i&&(t.expiredLanes|=E),d&=~E}if(i=rt,a=je,a=_i(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Ze===2||Ze===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ys(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Wn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ys(l),Ki(a)){case 2:case 8:a=jo;break;case 32:a=_s;break;case 268435456:a=bc;break;default:a=_s}return l=K_.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ys(l),t.callbackPriority=2,t.callbackNode=null,2}function K_(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Nu()&&t.callbackNode!==a)return null;var l=je;return l=_i(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(R_(t,l,i),G_(t,sn()),t.callbackNode!=null&&t.callbackNode===a?K_.bind(null,t):null)}function Q_(t,i){if(Nu())return null;R_(t,i,!0)}function Zw(){hx(function(){(Xe&6)!==0?Vt(Vo,Ww):H_()})}function Ud(){if(Fs===0){var t=ja;t===0&&(t=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Fs=t}return Fs}function $_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function Y_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ex(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=$_((h[Ut]||null).action),v=l.submitter;v&&(i=(i=v[Ut]||null)?$_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var E=new Ni("action","action",null,l,h);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=v?Y_(h,v):new FormData(h);sd(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(E.preventDefault(),C=v?Y_(h,v):new FormData(h),sd(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ld=0;Ld<Ef.length;Ld++){var zd=Ef[Ld],tx=zd.toLowerCase(),nx=zd[0].toUpperCase()+zd.slice(1);ai(tx,"on"+nx)}ai(Sg,"onAnimationEnd"),ai(Rg,"onAnimationIteration"),ai(Ig,"onAnimationStart"),ai("dblclick","onDoubleClick"),ai("focusin","onFocus"),ai("focusout","onBlur"),ai(_w,"onTransitionRun"),ai(vw,"onTransitionStart"),ai(bw,"onTransitionCancel"),ai(Ng,"onTransitionEnd"),Ai("onMouseEnter",["mouseout","mouseover"]),Ai("onMouseLeave",["mouseout","mouseover"]),Ai("onPointerEnter",["pointerout","pointerover"]),Ai("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ix=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function X_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var E=l[v],C=E.instance,L=E.currentTarget;if(E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(K){Kc(K)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(E=l[v],C=E.instance,L=E.currentTarget,E=E.listener,C!==d&&h.isPropagationStopped())break e;d=E,h.currentTarget=L;try{d(h)}catch(K){Kc(K)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[ga];a===void 0&&(a=i[ga]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function Bd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var Du="_reactListening"+Math.random().toString(36).slice(2);function qd(t){if(!t[Du]){t[Du]=!0,Lo.forEach(function(a){a!=="selectionchange"&&(ix.has(a)||Bd(a,!1,t),Bd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Du]||(i[Du]=!0,Bd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(S0(i)){case 2:var h=kx;break;case 8:h=Dx;break;default:h=im}a=h.bind(null,i,a,t),h=void 0,!Ir||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Fd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var E=l.stateNode.containerInfo;if(E===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;E!==null;){if(v=Ti(E),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}E=E.parentNode}}l=l.return}xs(function(){var L=d,K=Mn(a),Y=[];e:{var B=Cg.get(t);if(B!==void 0){var H=Ni,ce=t;switch(t){case"keypress":if(Cr(a)===0)break e;case"keydown":case"keyup":H=Fc;break;case"focusin":ce="focus",H=Dr;break;case"focusout":ce="blur",H=Dr;break;case"beforeblur":case"afterblur":H=Dr;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Wo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=p;break;case Sg:case Rg:case Ig:H=jc;break;case Ng:H=w;break;case"scroll":case"scrollend":H=Jo;break;case"wheel":H=F;break;case"copy":case"cut":case"paste":H=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Yi;break;case"toggle":case"beforetoggle":H=Ne}var ve=(i&4)!==0,st=!ve&&(t==="scroll"||t==="scrollend"),j=ve?B!==null?B+"Capture":null:B;ve=[];for(var D=L,U;D!==null;){var Q=D;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||j===null||(Q=ni(D,j),Q!=null&&ve.push(Il(D,Q,U))),st)break;D=D.return}0<ve.length&&(B=new H(B,ce,null,a,K),Y.push({event:B,listeners:ve}))}}if((i&7)===0){e:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==$o&&(ce=a.relatedTarget||a.fromElement)&&(Ti(ce)||ce[bi]))break e;if((H||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ce=a.relatedTarget||a.toElement,H=L,ce=ce?Ti(ce):null,ce!==null&&(st=c(ce),ve=ce.tag,ce!==st||ve!==5&&ve!==27&&ve!==6)&&(ce=null)):(H=null,ce=L),H!==ce)){if(ve=Wo,Q="onMouseLeave",j="onMouseEnter",D="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Yi,Q="onPointerLeave",j="onPointerEnter",D="pointer"),st=H==null?B:bn(H),U=ce==null?B:bn(ce),B=new ve(Q,D+"leave",H,a,K),B.target=st,B.relatedTarget=U,Q=null,Ti(K)===L&&(ve=new ve(j,D+"enter",ce,a,K),ve.target=U,ve.relatedTarget=st,Q=ve),st=Q,H&&ce)t:{for(ve=sx,j=H,D=ce,U=0,Q=j;Q;Q=ve(Q))U++;Q=0;for(var pe=D;pe;pe=ve(pe))Q++;for(;0<U-Q;)j=ve(j),U--;for(;0<Q-U;)D=ve(D),Q--;for(;U--;){if(j===D||D!==null&&j===D.alternate){ve=j;break t}j=ve(j),D=ve(D)}ve=null}else ve=null;H!==null&&W_(Y,B,H,ve,!1),ce!==null&&st!==null&&W_(Y,st,ce,ve,!0)}}e:{if(B=L?bn(L):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var Ge=pg;else if(dg(B))if(gg)Ge=pw;else{Ge=dw;var de=fw}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&ba(L.elementType)&&(Ge=pg):Ge=mw;if(Ge&&(Ge=Ge(t,L))){mg(Y,Ge,a,K);break e}de&&de(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Go(B,"number",B.value)}switch(de=L?bn(L):window,t){case"focusin":(dg(de)||de.contentEditable==="true")&&(Ia=de,_f=L,il=null);break;case"focusout":il=_f=Ia=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,xg(Y,a,K);break;case"selectionchange":if(yw)break;case"keydown":case"keyup":xg(Y,a,K)}var ke;if(Ye)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ra?Or(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Di&&a.locale!=="ko"&&(Ra||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ra&&(ke=Xo()):(Ii=K,Yo="value"in Ii?Ii.value:Ii.textContent,Ra=!0)),de=Ou(L,Pe),0<de.length&&(Pe=new ki(Pe,t,null,a,K),Y.push({event:Pe,listeners:de}),ke?Pe.data=ke:(ke=Sa(a),ke!==null&&(Pe.data=ke)))),(ke=jn?lw(t,a):cw(t,a))&&(Pe=Ou(L,"onBeforeInput"),0<Pe.length&&(de=new ki("onBeforeInput","beforeinput",null,a,K),Y.push({event:de,listeners:Pe}),de.data=ke)),ex(Y,t,L,a,K)}X_(Y,i)})}function Il(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ou(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ni(t,a),h!=null&&l.unshift(Il(t,h,d)),h=ni(t,i),h!=null&&l.push(Il(t,h,d))),t.tag===3)return l;t=t.return}return[]}function sx(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function W_(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var E=a,C=E.alternate,L=E.stateNode;if(E=E.tag,C!==null&&C===l)break;E!==5&&E!==26&&E!==27||L===null||(C=L,h?(L=ni(a,d),L!=null&&v.unshift(Il(a,L,C))):h||(L=ni(a,d),L!=null&&v.push(Il(a,L,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var rx=/\r\n?/g,ax=/\u0000|\uFFFD/g;function Z_(t){return(typeof t=="string"?t:""+t).replace(rx,`
`).replace(ax,"")}function e0(t,i){return i=Z_(i),Z_(t)===i}function it(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":En(t,"class",l);break;case"tabIndex":En(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":En(t,a,l);break;case"style":Qo(t,l,d);break;case"data":if(i!=="object"){En(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&it(t,i,"name",h.name,h,null),it(t,i,"formEncType",h.formEncType,h,null),it(t,i,"formMethod",h.formMethod,h,null),it(t,i,"formTarget",h.formTarget,h,null)):(it(t,i,"encType",h.encType,h,null),it(t,i,"method",h.method,h,null),it(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=ti);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),_a(t,"popover",l);break;case"xlinkActuate":St(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":St(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":St(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":St(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":St(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":St(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":St(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":St(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":St(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Oc.get(a)||a,_a(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":Qo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=ti);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zo.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Ut]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):_a(t,a,l)}}}function Qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:it(t,i,d,v,a,null)}}h&&it(t,i,"srcSet",a.srcSet,a,null),l&&it(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var E=d=v=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":L=K;break;case"value":d=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,i));break;default:it(t,i,l,K,a,null)}}Cc(t,d,E,C,L,v,h,!1);return;case"select":Ve("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":v=E;break;case"multiple":l=E;default:it(t,i,h,E,a,null)}i=d,a=v,t.multiple=!!l,i!=null?bs(t,!!l,i,!1):a!=null&&bs(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(E=a[v],E!=null))switch(v){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:it(t,i,v,E,a,null)}Es(t,l,h,d);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:it(t,i,C,l,a,null)}return;case"dialog":Ve("beforetoggle",t),Ve("toggle",t),Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)Ve(Rl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:it(t,i,L,l,a,null)}return;default:if(ba(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Hd(t,i,K,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&it(t,i,E,l,a,null))}function ox(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,E=null,C=null,L=null,K=null;for(H in a){var Y=a[H];if(a.hasOwnProperty(H)&&Y!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=Y;default:l.hasOwnProperty(H)||it(t,i,H,null,l,Y)}}for(var B in l){var H=l[B];if(Y=a[B],l.hasOwnProperty(B)&&(H!=null||Y!=null))switch(B){case"type":d=H;break;case"name":h=H;break;case"checked":L=H;break;case"defaultChecked":K=H;break;case"value":v=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(137,i));break;default:H!==Y&&it(t,i,B,H,l,Y)}}va(t,v,E,C,L,K,d,h);return;case"select":H=v=E=B=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":H=C;default:l.hasOwnProperty(d)||it(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":v=d;default:d!==C&&it(t,i,h,d,l,C)}i=E,a=v,l=H,B!=null?bs(t,!!a,B,!1):!!l!=!!a&&(i!=null?bs(t,!!a,i,!0):bs(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:it(t,i,E,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&it(t,i,v,h,l,d)}kc(t,B,H);return;case"option":for(var ce in a)if(B=a[ce],a.hasOwnProperty(ce)&&B!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:it(t,i,ce,null,l,B)}for(C in l)if(B=l[C],H=a[C],l.hasOwnProperty(C)&&B!==H&&(B!=null||H!=null))switch(C){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:it(t,i,C,B,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)B=a[ve],a.hasOwnProperty(ve)&&B!=null&&!l.hasOwnProperty(ve)&&it(t,i,ve,null,l,B);for(L in l)if(B=l[L],H=a[L],l.hasOwnProperty(L)&&B!==H&&(B!=null||H!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:it(t,i,L,B,l,H)}return;default:if(ba(i)){for(var st in a)B=a[st],a.hasOwnProperty(st)&&B!==void 0&&!l.hasOwnProperty(st)&&Hd(t,i,st,void 0,l,B);for(K in l)B=l[K],H=a[K],!l.hasOwnProperty(K)||B===H||B===void 0&&H===void 0||Hd(t,i,K,B,l,H);return}}for(var j in a)B=a[j],a.hasOwnProperty(j)&&B!=null&&!l.hasOwnProperty(j)&&it(t,i,j,null,l,B);for(Y in l)B=l[Y],H=a[Y],!l.hasOwnProperty(Y)||B===H||B==null&&H==null||it(t,i,Y,B,l,H)}function t0(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lx(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,E=h.duration;if(d&&E&&t0(v)){for(v=0,E=h.responseEnd,l+=1;l<a.length;l++){var C=a[l],L=C.startTime;if(L>E)break;var K=C.transferSize,Y=C.initiatorType;K&&t0(Y)&&(C=C.responseEnd,v+=K*(C<E?1:(E-L)/(C-L)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Gd=null,Kd=null;function Mu(t){return t.nodeType===9?t:t.ownerDocument}function n0(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function i0(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Qd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function cx(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var s0=typeof setTimeout=="function"?setTimeout:void 0,ux=typeof clearTimeout=="function"?clearTimeout:void 0,r0=typeof Promise=="function"?Promise:void 0,hx=typeof queueMicrotask=="function"?queueMicrotask:typeof r0<"u"?function(t){return r0.resolve(null).then(t).catch(fx)}:s0;function fx(t){setTimeout(function(){throw t})}function Hs(t){return t==="head"}function a0(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),to(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Nl(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Nl(a);for(var d=a.firstChild;d;){var v=d.nextSibling,E=d.nodeName;d[Ei]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Nl(t.ownerDocument.body);a=h}while(a);to(i)}function o0(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function dx(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ei])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Fn(t.nextSibling),t===null)break}return null}function mx(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Fn(t.nextSibling),t===null))return null;return t}function l0(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Fn(t.nextSibling),t===null))return null;return t}function Xd(t){return t.data==="$?"||t.data==="$~"}function Jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function px(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Fn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var Wd=null;function c0(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Fn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function u0(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function h0(t,i,a){switch(i=Mu(a),t){case"html":if(t=i.documentElement,!t)throw Error(r(452));return t;case"head":if(t=i.head,!t)throw Error(r(453));return t;case"body":if(t=i.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function Nl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ya(t)}var Hn=new Map,f0=new Set;function Vu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var us=Z.d;Z.d={f:gx,r:yx,D:_x,C:vx,L:bx,m:Ex,X:wx,S:Tx,M:xx};function gx(){var t=us.f(),i=Su();return t||i}function yx(t){var i=On(t);i!==null&&i.tag===5&&i.type==="form"?Ny(i):us.r(t)}var Wa=typeof document>"u"?null:document;function d0(t,i,a){var l=Wa;if(l&&typeof i=="string"&&i){var h=cn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),f0.has(h)||(f0.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function _x(t){us.D(t),d0("dns-prefetch",t,null)}function vx(t,i){us.C(t,i),d0("preconnect",t,i)}function bx(t,i,a){us.L(t,i,a);var l=Wa;if(l&&t&&i){var h='link[rel="preload"][as="'+cn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+cn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+cn(a.imageSizes)+'"]')):h+='[href="'+cn(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=eo(t)}Hn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Hn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Cl(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Qt(i,"link",t),At(i),l.head.appendChild(i)))}}function Ex(t,i){us.m(t,i);var a=Wa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+cn(l)+'"][href="'+cn(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=eo(t)}if(!Hn.has(d)&&(t=x({rel:"modulepreload",href:t},i),Hn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Qt(l,"link",t),At(l),a.head.appendChild(l)}}}function Tx(t,i,a){us.S(t,i,a);var l=Wa;if(l&&t){var h=wi(l).hoistableStyles,d=Za(t);i=i||"default";var v=h.get(d);if(!v){var E={loading:0,preload:null};if(v=l.querySelector(Cl(d)))E.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Hn.get(d))&&Zd(t,a);var C=v=l.createElement("link");At(C),Qt(C,"link",t),C._p=new Promise(function(L,K){C.onload=L,C.onerror=K}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,ju(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:E},h.set(d,v)}}}function wx(t,i){us.X(t,i);var a=Wa;if(a&&t){var l=wi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=x({src:t,async:!0},i),(i=Hn.get(h))&&em(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xx(t,i){us.M(t,i);var a=Wa;if(a&&t){var l=wi(a).hoistableScripts,h=eo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=Hn.get(h))&&em(t,i),d=a.createElement("script"),At(d),Qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function m0(t,i,a,l){var h=(h=xe.current)?Vu(h):null;if(!h)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=wi(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=wi(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Cl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Hn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Hn.set(t,a),d||Ax(h,t,a,v.state))),i&&l===null)throw Error(r(528,""));return v}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=eo(a),a=wi(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Za(t){return'href="'+cn(t)+'"'}function Cl(t){return'link[rel="stylesheet"]['+t+"]"}function p0(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Ax(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Qt(i,"link",a),At(i),t.head.appendChild(i))}function eo(t){return'[src="'+cn(t)+'"]'}function kl(t){return"script[async]"+t}function g0(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+cn(a.href)+'"]');if(l)return i.instance=l,At(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),At(l),Qt(l,"style",h),ju(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Cl(h));if(d)return i.state.loading|=4,i.instance=d,At(d),d;l=p0(a),(h=Hn.get(h))&&Zd(l,h),d=(t.ownerDocument||t).createElement("link"),At(d);var v=d;return v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Qt(d,"link",l),i.state.loading|=4,ju(d,a.precedence,t),i.instance=d;case"script":return d=eo(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,At(h),h):(l=a,(h=Hn.get(d))&&(l=x({},a),em(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),At(h),Qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,ju(l,a.precedence,t));return i.instance}function ju(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var E=l[v];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Zd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function em(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Pu=null;function y0(t,i,a){if(Pu===null){var l=new Map,h=Pu=new Map;h.set(a,l)}else h=Pu,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ei]||d[xt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var E=l.get(v);E?E.push(d):l.set(v,[d])}}return l}function _0(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Sx(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function v0(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function Rx(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=i.querySelector(Cl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=Uu.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,At(d);return}d=i.ownerDocument||i,l=p0(l),(h=Hn.get(h))&&Zd(l,h),d=d.createElement("link"),At(d);var v=d;v._p=new Promise(function(E,C){v.onload=E,v.onerror=C}),Qt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=Uu.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var tm=0;function Ix(t,i){return t.stylesheets&&t.count===0&&zu(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&tm===0&&(tm=62500*lx());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&zu(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>tm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function zu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,i.forEach(Nx,t),Lu=null,Uu.call(t))}function Nx(t,i){if(!(i.state.loading&4)){var a=Lu.get(t);if(a)var l=a.get(null);else{a=new Map,Lu.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Uu.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Dl={$$typeof:ue,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function Cx(t,i,a,l,h,d,v,E,C){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function b0(t,i,a,l,h,d,v,E,C,L,K,Y){return t=new Cx(t,i,a,v,C,L,K,Y,E),i=1,d===!0&&(i|=24),d=wn(3,null,null,i),t.current=d,d.stateNode=t,i=Mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Uf(d),t}function E0(t){return t?(t=ka,t):ka}function T0(t,i,a,l,h,d){h=E0(h),l.context===null?l.context=h:l.pendingContext=h,l=Os(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ms(t,l,i),a!==null&&(pn(a,t,i),ul(a,t,i))}function w0(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nm(t,i){w0(t,i),(t=t.alternate)&&w0(t,i)}function x0(t){if(t.tag===13||t.tag===31){var i=jr(t,67108864);i!==null&&pn(i,t,67108864),nm(t,67108864)}}function A0(t){if(t.tag===13||t.tag===31){var i=In();i=xr(i);var a=jr(t,i);a!==null&&pn(a,t,i),nm(t,i)}}var Bu=!0;function kx(t,i,a,l){var h=q.T;q.T=null;var d=Z.p;try{Z.p=2,im(t,i,a,l)}finally{Z.p=d,q.T=h}}function Dx(t,i,a,l){var h=q.T;q.T=null;var d=Z.p;try{Z.p=8,im(t,i,a,l)}finally{Z.p=d,q.T=h}}function im(t,i,a,l){if(Bu){var h=sm(l);if(h===null)Fd(t,i,l,qu,a),R0(t,l);else if(Mx(h,t,i,a,l))l.stopPropagation();else if(R0(t,l),i&4&&-1<Ox.indexOf(t)){for(;h!==null;){var d=On(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=yi(d.pendingLanes);if(v!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;v;){var C=1<<31-yt(v);E.entanglements[1]|=C,v&=~C}ji(d),(Xe&6)===0&&(xu=sn()+500,Sl(0))}}break;case 31:case 13:E=jr(d,2),E!==null&&pn(E,d,2),Su(),nm(d,2)}if(d=sm(l),d===null&&Fd(t,i,l,qu,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Fd(t,i,l,null,a)}}function sm(t){return t=Mn(t),rm(t)}var qu=null;function rm(t){if(qu=null,t=Ti(t),t!==null){var i=c(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qu=t,null}function S0(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case Vo:return 2;case jo:return 8;case _s:case hf:return 32;case bc:return 268435456;default:return 32}default:return 32}}var am=!1,Gs=null,Ks=null,Qs=null,Ol=new Map,Ml=new Map,$s=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function R0(t,i){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=On(i),i!==null&&x0(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Mx(t,i,a,l,h){switch(i){case"focusin":return Gs=Vl(Gs,t,i,a,l,h),!0;case"dragenter":return Ks=Vl(Ks,t,i,a,l,h),!0;case"mouseover":return Qs=Vl(Qs,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function I0(t){var i=Ti(t.target);if(i!==null){var a=c(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){A0(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Zn(t.priority,function(){A0(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fu(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=sm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);$o=l,a.target.dispatchEvent(l),$o=null}else return i=On(a),i!==null&&x0(i),t.blockedOn=a,!1;i.shift()}return!0}function N0(t,i,a){Fu(t)&&a.delete(i)}function Vx(){am=!1,Gs!==null&&Fu(Gs)&&(Gs=null),Ks!==null&&Fu(Ks)&&(Ks=null),Qs!==null&&Fu(Qs)&&(Qs=null),Ol.forEach(N0),Ml.forEach(N0)}function Hu(t,i){t.blockedOn===i&&(t.blockedOn=null,am||(am=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Vx)))}var Gu=null;function C0(t){Gu!==t&&(Gu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Gu===t&&(Gu=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(rm(l||a)===null)continue;break}var d=On(a);d!==null&&(t.splice(i,3),i-=3,sd(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function to(t){function i(C){return Hu(C,t)}Gs!==null&&Hu(Gs,t),Ks!==null&&Hu(Ks,t),Qs!==null&&Hu(Qs,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<$s.length;a++){var l=$s[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<$s.length&&(a=$s[0],a.blockedOn===null);)I0(a),a.blockedOn===null&&$s.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Ut]||null;if(typeof d=="function")v||C0(a);else if(v){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Ut]||null)E=v.formAction;else if(rm(h)!==null)continue}else E=v.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),C0(a)}}}function k0(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function om(t){this._internalRoot=t}Ku.prototype.render=om.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=In();T0(a,l,t,i,null,null)},Ku.prototype.unmount=om.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;T0(t.current,2,null,t,null,null),Su(),i[bi]=null}};function Ku(t){this._internalRoot=t}Ku.prototype.unstable_scheduleHydration=function(t){if(t){var i=Sc();t={blockedOn:null,target:t,priority:i};for(var a=0;a<$s.length&&i!==0&&i<$s[a].priority;a++);$s.splice(a,0,t),a===0&&I0(t)}};var D0=e.version;if(D0!=="19.2.4")throw Error(r(527,D0,"19.2.4"));Z.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var jx={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qu.isDisabled&&Qu.supportsFiber)try{Jn=Qu.inject(jx),qt=Qu}catch{}}return Pl.createRoot=function(t,i){if(!o(t))throw Error(r(299));var a=!1,l="",h=Ly,d=zy,v=By;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=b0(t,1,!1,null,null,a,l,null,h,d,v,k0),t[bi]=i.current,qd(t),new om(i)},Pl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(r(299));var l=!1,h="",d=Ly,v=zy,E=By,C=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(C=a.formState)),i=b0(t,1,!0,i,a??null,l,h,C,d,v,E,k0),i.context=E0(null),a=i.current,l=In(),l=xr(l),h=Os(l),h.callback=null,Ms(a,h,l),a=l,i.current.lanes=a,Tr(i,a),ji(i),t[bi]=i.current,qd(t),new Ku(i)},Pl.version="19.2.4",Pl}var q0;function Qx(){if(q0)return um.exports;q0=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),um.exports=Kx(),um.exports}var $x=Qx();function Yx(s){return!(typeof s!="object"||s instanceof Array)}class Xx{filterOutNonSupportedKeys(e,n){const r=Object.create({});return Yx(e)?(Object.keys(e).forEach(o=>{n.indexOf(o)>=0?r[o]=e[o]:console.warn("Warning - unsupported key provided to configuration: ",o)}),r):Object.create({})}}const F0=["cname","secureDistribution","privateCdn","signUrl","longUrlSignature","shorten","useRootPath","secure","forceVersion","analytics","queryParams"];class op extends Xx{constructor(e){super();const n=this.filterOutNonSupportedKeys(e,F0);Object.assign(this,{secure:!0},n)}extend(e){const n=this.filterOutNonSupportedKeys(e,F0);return new op(Object.assign({},this,n))}setCname(e){return this.cname=e,this}setSecureDistribution(e){return this.secureDistribution=e,this}setPrivateCdn(e){return this.privateCdn=e,this}setSignUrl(e){return this.signUrl=e,this}setLongUrlSignature(e){return this.longUrlSignature=e,this}setShorten(e){return this.shorten=e,this}setUseRootPath(e){return this.useRootPath=e,this}setSecure(e){return this.secure=e,this}setForceVersion(e){return this.forceVersion=e,this}setQueryParams(e){return this.queryParams=e,this}}class $n{constructor(e){this.values=[],this.delimiter=":",this.hasValue(e)&&this.addValue(e)}toString(){return this.values.join(this.delimiter)}hasValue(e){return typeof e<"u"&&e!==null&&e!==""}addValue(e){return Array.isArray(e)?this.values=this.values.concat(e):this.values.push(e),this.values=this.values.filter(n=>this.hasValue(n)),this}setDelimiter(e){return this.delimiter=e,this}}class Jx extends Error{constructor(e="Unsupported"){super(e)}}function lp(s){return new Jx(s)}function Wx(){return this._qualifierModel||{error:lp(`unsupported qualifier ${this.constructor.name}`)}}class Zx{constructor(){this._qualifierModel={}}toJson(){return Wx.apply(this)}}class on extends Zx{constructor(e,n){super(),this.delimiter="_",this.key=e,n instanceof $n?this.qualifierValue=n:(this.qualifierValue=new $n,this.qualifierValue.addValue(n))}toString(){const{key:e,delimiter:n,qualifierValue:r}=this;return`${e}${n}${r.toString()}`}addValue(e){return this.qualifierValue.addValue(e),this}}class Qn extends on{constructor(e,n){let r;n?r=new $n([e,`${n}`]).setDelimiter(":"):r=e,super("fl",r),this.flagValue=n}toString(){return super.toString().replace(/\./g,"%2E")}getFlagValue(){return this.flagValue}}function eA(s,e){const n=Array.from(s.entries());return e.forEach(r=>{n.push(["fl",r])}),n.sort().map(r=>r[1])}function tA(){var s,e,n;const r=this._actionModel&&Object.keys(this._actionModel).length,o=(n=(e=(s=this._actionModel)===null||s===void 0?void 0:s.source)===null||e===void 0?void 0:e.transformation)===null||n===void 0?void 0:n.error;return o&&o instanceof Error?{error:o}:r?this._actionModel:{error:lp(`unsupported action ${this.constructor.name}`)}}class nA{constructor(){this._actionModel={}}toJson(){return tA.apply(this)}}class Ph extends nA{constructor(){super(...arguments),this.qualifiers=new Map,this.flags=[],this.delimiter=",",this.actionTag=""}prepareQualifiers(){}getActionTag(){return this.actionTag}setActionTag(e){return this.actionTag=e,this}toString(){return this.prepareQualifiers(),eA(this.qualifiers,this.flags).join(this.delimiter)}addQualifier(e){if(typeof e=="string"){const[n,r]=e.toLowerCase().split("_");n==="fl"?this.flags.push(new Qn(r)):this.qualifiers.set(n,new on(n,r))}else this.qualifiers.set(e.key,e);return this}addFlag(e){return typeof e=="string"?this.flags.push(new Qn(e)):e instanceof Qn&&this.flags.push(e),this}addValueToQualifier(e,n){return this.qualifiers.get(e).addValue(n),this}}function iA(s){return s&&(s.match(/^#/)?`rgb:${s.substr(1)}`:s)}class sA extends Ph{constructor(e){super(),this._actionModel={},this.addQualifier(new on("b",new $n(iA(e)).setDelimiter("_"))),this._actionModel.color=e,this._actionModel.actionType="backgroundColor"}static fromJson(e){const{color:n}=e;return new this(n)}}class H0{constructor(e){this.raw=e}toString(){return this.raw}toJson(){return{error:lp(`unsupported action ${this.constructor.name}`)}}}function rA(s){const e=s;return"error"in e&&!!e.error}function aA(){return new Qn("ignore_aspect_ratio")}function oA(){return new Qn("lossy")}function lA(){return new Qn("preserve_transparency")}function cA(s){return new Qn("progressive",s)}function uA(){return new Qn("region_relative")}function hA(){return new Qn("relative")}class Yb extends $n{constructor(e){super(e),this.val=e}getValue(){return this.val}}function oa(s){const e={};return Object.keys(s).forEach(n=>{e[s[n]]=n}),e}const Xb={limitFit:"limit",limitFill:"lfill",minimumFit:"mfit",thumbnail:"thumb",limitPad:"lpad",minimumPad:"mpad",autoPad:"auto_pad"},fA={colorSpace:"cs",dpr:"dpr",density:"dn",defaultImage:"d",format:"f",quality:"q"},dA={redEye:"redeye",advancedRedEye:"adv_redeye",oilPaint:"oil_paint",unsharpMask:"unsharp_mask",makeTransparent:"make_transparent",generativeRestore:"gen_restore",upscale:"upscale"},Jb={autoBest:"auto:best",autoEco:"auto:eco",autoGood:"auto:good",autoLow:"auto:low",jpegminiHigh:"jpegmini:1",jpegminiMedium:"jpegmini:2",jpegminiBest:"jpegmini:0"},mA={fullHd:"full_hd",fullHdWifi:"full_hd_wifi",fullHdLean:"full_hd_lean",hdLean:"hd_lean"},Wb={444:"CHROMA_444",420:"CHROMA_420"},pA={noCmyk:"no_cmyk",keepCmyk:"keep_cmyk",tinySrgb:"tinysrgb",srgbTrueColor:"srgb:truecolor"},gA=oa(Wb);oa(pA);const yA=oa(Xb),_A=oa(fA);oa(dA);oa(Jb);oa(mA);class Zb extends Ph{constructor(e,n,r){super(),this._actionModel={};let o;n instanceof Yb?o=n.getValue():o=n,this._actionModel.actionType=_A[e],this._actionModel[r]=o,this.addQualifier(new on(e,n))}}class vA extends Qn{constructor(e){super("progressive",e)}}class Wl extends Zb{constructor(e,n){super(e,n,"formatType")}lossy(){return this._actionModel.lossy=!0,this.addFlag(oA()),this}progressive(e){return e instanceof vA?(this._actionModel.progressive={mode:e.getFlagValue()},this.addFlag(e)):(this._actionModel.progressive={mode:e},this.addFlag(cA(e))),this}preserveTransparency(){return this._actionModel.preserveTransparency=!0,this.addFlag(lA()),this}static fromJson(e){const{formatType:n,lossy:r,progressive:o,preserveTransparency:c}=e;let f;return n?f=new this("f",n):f=new this("f"),o&&(o.mode?f.progressive(o.mode):f.progressive()),r&&f.lossy(),c&&f.preserveTransparency(),f}}class Uh{constructor(){this.actions=[]}addAction(e){let n;if(typeof e=="string"){if(e.indexOf("/")>=0)throw"addAction cannot accept a string with a forward slash in it - /, use .addTransformation() instead";n=new H0(e)}else n=e;return this.actions.push(n),this}addTransformation(e){return e instanceof Uh?this.actions=this.actions.concat(e.actions):this.actions.push(new H0(e)),this}toString(){return this.actions.map(e=>e.toString()).filter(e=>e).join("/")}animated(e){return this.addAction(e)}border(e){return this.addAction(e)}reshape(e){return this.addAction(e)}resize(e){return this.addAction(e)}quality(e){return this.addAction(new Wl("q",e)),this}format(e){return this.addAction(new Wl("f",e)),this}roundCorners(e){return this.addAction(e)}overlay(e){return this.addAction(e)}underlay(e){return e.setLayerType("u"),this.addAction(e)}addVariable(e){return this.addAction(e)}conditional(e){return this.addAction(e)}effect(e){return this.addAction(e)}adjust(e){return this.addAction(e)}rotate(e){return this.addAction(e)}namedTransformation(e){return this.addAction(e)}delivery(e){return this.addAction(e)}backgroundColor(e){return this.addAction(new sA(e))}psdTools(e){return this.addAction(e)}extract(e){return this.addAction(e)}addFlag(e){const n=new Ph;let r=e;return typeof e=="string"&&(r=new Qn(e)),n.addQualifier(r),this.addAction(n)}customFunction(e){return this.addAction(e)}transcode(e){return this.addAction(e)}videoEdit(e){return this.addAction(e)}toJson(){const e=[];for(const n of this.actions){const r=n.toJson();if(rA(r))return r;e.push(r)}return{actions:e}}}class bA extends Uh{}class EA extends Uh{}function G0(s){const e=s.toString();return e.match(/[A-Z]/gi)||e.length>1&&e[0]==="0"?e:!isNaN(parseFloat(e))&&e.indexOf(":")===-1&&e.indexOf(".")===-1?`${e}.0`:e}class TA extends $n{}class wA extends Ph{constructor(e,n,r){super(),this._actionModel={dimensions:{}},this._actionModel.actionType=yA[e]||e,this.addQualifier(new on("c",e)),n&&this.width(n),r&&this.height(r)}height(e){return this._actionModel.dimensions.height=e,this.addQualifier(new on("h",e))}width(e){return this._actionModel.dimensions.width=e,this.addQualifier(new on("w",e))}aspectRatio(e){if(e instanceof TA)return this._actionModel.dimensions.aspectRatio=`${e}`,this.addQualifier(new on("ar",e));if(typeof e=="number"||typeof e=="string")return this._actionModel.dimensions.aspectRatio=G0(e),this.addQualifier(new on("ar",G0(e)));if(e instanceof Qn)return this._actionModel.dimensions.aspectRatio=`${e.qualifierValue}`,this.addFlag(e)}relative(){return this._actionModel.relative=!0,this.addFlag(hA())}regionRelative(){return this._actionModel.regionRelative=!0,this.addFlag(uA())}static fromJson(e){const{actionType:n,dimensions:r,relative:o,regionRelative:c}=e,{aspectRatio:f,width:m,height:g}=r,y=Xb[n]||n,T=new this(y,m,g);return f&&T.aspectRatio(f==="ignore_aspect_ratio"?aA():f),o&&T.relative(),c&&T.regionRelative(),T}}class cp extends on{constructor(e){super("g",new $n(e))}}class e1 extends cp{constructor(){super("auto")}autoFocus(...e){return this.addValue(e),this}}class t1 extends cp{constructor(e){super(e)}fallbackGravity(e){return this.addValue(e.qualifierValue),this}}class xA extends cp{constructor(e){super(e)}}function n1(...s){const e=[...s];return new t1(e)}function up(){return new e1}class go extends $n{constructor(e){super(),this.name=e}toString(){return this.name}}function AA(){return new go("ocr_text")}function SA(s){return s&&`${s}`.split(":")[0]==="auto"}function RA(s){const e=hp(s);return["north","center","east","west","south","north_west","south_east","south_west","north_east"].includes(e)}function hp(s){return`${s}`.replace("g_","")}function IA(s){return{compass:hp(s),gravityType:"direction"}}function NA(s){return hp(s)==="ocr_text"}function CA(){return{gravityType:"ocr"}}function kA(s){return`${s.qualifierValue}`.split(":")[0]==="auto"}function DA(s){const n=s.toString().split("_"),r={object:n[0]};return n.length>1&&(n[1]==="avoid"?r.avoid=!0:r.weight=+n[1]),r}function i1(s){let e;const n=s==="auto"?new e1:s;return`${s}`.startsWith("auto:")?e=`${s}`.split(":").filter(o=>o!=="auto"):e=n.qualifierValue.values.filter(o=>o!=="auto"),{gravityType:"auto",autoFocus:e.map(DA)}}function OA(s){const e=`${s}`.split(":").includes("auto"),n=s.qualifierValue.values,o={gravityType:"object",focusOnObjects:(e?n.slice(0,n.length-1):n).map(c=>`${c}`)};if(e){const c=n[n.length-1].values.slice(1),f=up().autoFocus(...c);o.fallbackGravity=i1(f)}return o}function MA(s){const n=s.split(":").map(r=>new go(r));return new t1(n)}function VA(s){return RA(s)?IA(s):NA(s)?CA():SA(s)||kA(s)?i1(s):OA(typeof s=="string"?MA(s):s)}class fp extends $n{constructor(e,n){super(),this._weight=n,this.focusOn=e,this.shouldAvoid=!1}static focusOn(e,n){const r=e instanceof go?e:new go(e);return new fp(r,n)}shouldAddWeight(){return typeof this._weight=="number"||typeof this._weight=="string"||this.shouldAvoid}getName(){return this.focusOn.name}getWeight(){return this.shouldAvoid?"avoid":this._weight}toString(){return this.shouldAddWeight()?`${this.getName()}_${this.getWeight()}`:`${this.getName()}`}weight(e){return this._weight=e,this}avoid(){return this.shouldAvoid=!0,this}}class jA extends $n{constructor(e){super(),this.val=e}toString(){return this.val}}function PA(s){return s.gravityType==="direction"}function UA(s){return s.gravityType==="ocr"}function LA(s){return s.gravityType==="auto"}function zA(s){const{object:e,weight:n,avoid:r}=s,o=new fp(new go(e));return(n||n===0)&&o.weight(n),r&&o.avoid(),o}function s1(s){const n=(s.autoFocus||[]).map(zA);return up().autoFocus(...n)}function BA(s){const e=(s.focusOnObjects||[]).map(r=>new go(r)),n=n1(...e);if(s.fallbackGravity){const r=s1(s.fallbackGravity);n.fallbackGravity(r)}return n}function qA(s){return PA(s)?new xA(new jA(s.compass)):UA(s)?n1(AA()):LA(s)?s1(s):BA(s)}class FA extends wA{gravity(e){this._actionModel.gravity=VA(e);const n=typeof e=="string"?new on("g",e):e;return this.addQualifier(n)}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.gravity&&n.gravity(qA(e.gravity)),n}}function HA(){return new Yb("auto")}class GA extends FA{x(e){return this._actionModel.x=e,this.addQualifier(new on("x",e))}y(e){return this._actionModel.y=e,this.addQualifier(new on("y",e))}static fromJson(e){const n=super.fromJson.apply(this,[e]);return e.x&&n.x(e.x),e.y&&n.y(e.y),n}}function KA(s,e){return new GA("fill",s,e)}class QA extends Zb{constructor(e){super("q",e.toString(),"level")}chromaSubSampling(e){this._actionModel.chromaSubSampling=Wb[e];const n=new $n([this._actionModel.level,e]);return n.setDelimiter(":"),this.addQualifier(new on("q",n))}quantization(e){this._actionModel.quantization=e;const n=new $n([this._actionModel.level,`qmax_${e}`]).setDelimiter(":");return this.addQualifier(new on("q",n))}static fromJson(e){const{level:n,chromaSubSampling:r,quantization:o}=e,c=Jb[n]||n,f=new this(c);if(r){const m=gA[r.toUpperCase()];m&&f.chromaSubSampling(+m)}return o&&f.quantization(o),f}}function $A(s){return new Wl("f",s)}function YA(s){return new QA(s)}function XA(s){return s.match(/^https?:\//)}function JA(s){return s.indexOf("/")<0}function WA(s){return s.match(/^v[0-9]+/)}function ZA(s,e){const n=e.secure,r=e.privateCdn,o=e.cname,c=e.secureDistribution;return!n&&!o?`http://res.cloudinary.com/${s}`:n&&!c&&r?`https://${s}-res.cloudinary.com`:n&&!c?`https://res.cloudinary.com/${s}`:n&&c&&r?`https://${c}`:n&&c?`https://${c}/${s}`:!n&&o?`http://${o}/${s}`:"ERROR"}function eS(s){return s||"image"}function tS(s){return s||"upload"}function nS(s,e,n){const r=n!==!1;return e?`v${e}`:WA(s)||XA(s)||JA(s)?"":r?"v1":""}function dp(s,e,n){let r=e>>0,o=String(n);return s.length>r?String(s):(r=r-s.length,r>o.length&&(o+=iS(o,r/o.length)),o.slice(0,r)+String(s))}function iS(s,e){let n=e,r="";for(;n>0;)r+=s,n--;return r}const sS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",fh={};let K0=0;sS.split("").forEach(s=>{let e=K0.toString(2);e=dp(e,6,"0"),fh[e]=s,K0++});function rS(s){if(s.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return s.split(".").reverse().join(".")}function aS(s){if(s.split(".").length<2)throw new Error("invalid semVer, must have at least two segments");return s.split(".").map(e=>{const n=+e;if(isNaN(n)||n<0)throw"Invalid version number provided";return dp(e,2,"0")}).join(".")}function Q0(s){let e="";const r=s.split(".").length*6,o=rS(s),c=aS(o);let m=parseInt(c.split(".").join("")).toString(2);if(m=dp(m,r,"0"),m.length%6!==0)throw"Version must be smaller than 43.21.26)";return m.match(/.{1,6}/g).forEach(g=>{e+=fh[g]}),e}function oS(s){const e={sdkSemver:s.sdkSemver,techVersion:s.techVersion,sdkCode:s.sdkCode,product:s.product,feature:"0",osType:s.osType,osVersion:s.osVersion};return s.accessibility&&(e.feature="D"),s.lazyload&&(e.feature="C"),s.responsive&&(e.feature="A"),s.placeholder&&(e.feature="B"),s.feature&&(e.feature=s.feature),e}const lS="1.22.0";function cS(s){const[e,n]=s.split("."),r=parseInt(e).toString(2),o=parseInt(n).toString(2),c=r.padStart(6,"0"),f=o.padStart(6,"0");return fh[c]+fh[f]}function uS(){const s="0.0.0";if(typeof window<"u")return s;try{return process.versions.node||s}catch{return s}}function hS(s){const e={techVersion:uS(),sdkCode:"T",sdkSemver:lS.split("-")[0],product:"A",osType:"Z",osVersion:"0.0",responsive:!1,placeholder:!1,lazyload:!1,accessibility:!1};return s?Object.assign(Object.assign({},e),s):e}function $0(s){const e=hS(s),n=oS(e);try{const r=fS(n.techVersion),o=Q0(n.sdkSemver),c=Q0(r),f=cS(n.osVersion),m=n.feature,g=n.sdkCode,{product:y,osType:T}=n;return`D${y}${g}${o}${c}${T}${f}${m}`}catch{return"E"}}function fS(s){const e=s.split(".");return`${e[0]}.${e[1]}`}const Y0={"image/upload":"images","image/private":"private_images","image/authenticated":"authenticated_images","raw/upload":"files","video/upload":"videos"};class dS{constructor(e,n={},r){this.setPublicID(e),this.setCloudConfig(n),this.setURLConfig(r)}setURLConfig(e){return this.urlConfig=new op(e),this}setCloudConfig(e){return this.cloudName=e.cloudName,this.apiKey=e.apiKey,this.apiSecret=e.apiSecret,this.authToken=e.authToken,this}setPublicID(e){return this.publicID=e?e.toString():"",this}setDeliveryType(e){return this.deliveryType=e,this}setSuffix(e){return this.suffix=e,this}setSignature(e){return this.signature=e,this}setVersion(e){return e&&(this.version=e),this}setAssetType(e){return e&&(this.assetType=e),this}sign(){return this}toURL(e={}){return this.createCloudinaryURL(null,e.trackedAnalytics)}validateAssetForURLCreation(){if(typeof this.cloudName>"u")throw"You must supply a cloudName when initializing the asset";const e=this.suffix&&this.suffix.indexOf(".")>=0,n=this.suffix&&this.suffix.indexOf("/")>=0;if(e||n)throw"`suffix`` should not include . or /"}getResourceType(){const e=eS(this.assetType),n=tS(this.deliveryType),r=!!this.suffix,o=`${e}/${n}`,c=Y0[`${e}/${n}`],f=this.urlConfig.useRootPath,m=this.urlConfig.shorten;if(f){if(o==="image/upload")return"";throw new Error(`useRootPath can only be used with assetType: 'image' and deliveryType: 'upload'. Provided: ${o} instead`)}if(m&&o==="image/upload")return"iu";if(r){if(c)return c;throw new Error(`URL Suffix only supported for ${Object.keys(Y0).join(", ")}, Provided: ${o} instead`)}return o}getSignature(){return this.signature?`s--${this.signature}--`:""}createCloudinaryURL(e,n){if(!this.publicID)return"";this.validateAssetForURLCreation();const r=ZA(this.cloudName,this.urlConfig),o=e?e.toString():"",c=nS(this.publicID,this.version,this.urlConfig.forceVersion),f=this.publicID;if(typeof e=="string")return[r,this.getResourceType(),this.getSignature(),o,c,f.replace(/,/g,"%2C"),this.suffix].filter(g=>g).join("/");{const m=[encodeURI(r),this.getResourceType(),this.getSignature(),encodeURI(o),c,encodeURI(f).replace(/,/g,"%2C"),this.suffix&&encodeURI(this.suffix)].filter(T=>T).join("/").replace(/\?/g,"%3F").replace(/=/g,"%3D"),g=this.urlConfig.analytics!==!1&&!f.includes("?");let y="";if(typeof this.urlConfig.queryParams=="object")try{const T=new URLSearchParams(this.urlConfig.queryParams);g&&T.set("_a",$0(n)),y=T.toString()}catch{console.error("Error: URLSearchParams is not available so the queryParams object cannot be parsed, please try passing as an already parsed string")}else y=this.urlConfig.queryParams||"",g&&(y+=`${y.length>0?"&":""}_a=${$0(n)}`);return y?`${m}?${y}`:m}}}class r1 extends dS{constructor(e,n,r,o){super(e,n,r),this.transformation=o}animated(e){return this.transformation.animated(e),this}border(e){return this.transformation.border(e),this}reshape(e){return this.transformation.reshape(e),this}resize(e){return this.transformation.resize(e),this}quality(e){return this.addAction(new Wl("q",e)),this}format(e){return this.addAction(new Wl("f",e)),this}roundCorners(e){return this.transformation.roundCorners(e),this}overlay(e){return this.transformation.overlay(e),this}addVariable(e){return this.transformation.addVariable(e),this}conditional(e){return this.transformation.conditional(e),this}effect(e){return this.transformation.effect(e),this}adjust(e){return this.transformation.adjust(e),this}rotate(e){return this.transformation.rotate(e),this}namedTransformation(e){return this.transformation.namedTransformation(e),this}delivery(e){return this.transformation.delivery(e),this}backgroundColor(e){return this.transformation.backgroundColor(e),this}psdTools(e){return this.transformation.psdTools(e),this}extract(e){return this.transformation.extract(e),this}addFlag(e){return this.transformation.addFlag(e),this}customFunction(e){return this.transformation.customFunction(e),this}addAction(e){return this.transformation.addAction(e),this}addTransformation(e){return this.transformation.addTransformation(e),this}toString(){return this.transformation.toString()}underlay(e){return this.transformation.underlay(e),this}toURL(e={}){return this.createCloudinaryURL(this.transformation,e==null?void 0:e.trackedAnalytics)}}class mS extends r1{constructor(e,n,r){super(e,n,r,new bA)}}class pS extends r1{constructor(e,n,r){super(e,n,r,new EA),this.assetType="video"}transcode(e){return this.transformation.transcode(e),this}videoEdit(e){return this.transformation.videoEdit(e),this}}class gS{constructor(e){e&&(this.cloudinaryConfig=e)}image(e){return new mS(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}video(e){return new pS(e,this.cloudinaryConfig.cloud,this.cloudinaryConfig.url)}setConfig(e){return this.cloudinaryConfig=e,this}getConfig(){return this.cloudinaryConfig}extendConfig(){}}const yS=new gS({cloud:{cloudName:"dkczitgmn"}}),_S=(s,e=800,n=1e3)=>{if(!s)return null;const r=yS.image(s);return r.resize(KA().width(e).height(n).gravity(up())).delivery($A(HA())).delivery(YA("auto:best")),r.toURL()};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=(...s)=>s.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vS=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bS=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=s=>{const e=bS(s);return e.charAt(0).toUpperCase()+e.slice(1)};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ES={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TS=s=>{for(const e in s)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wS=_e.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:f,...m},g)=>_e.createElement("svg",{ref:g,...ES,width:e,height:e,stroke:s,strokeWidth:r?Number(n)*24/Number(e):n,className:a1("lucide",o),...!c&&!TS(m)&&{"aria-hidden":"true"},...m},[...f.map(([y,T])=>_e.createElement(y,T)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=(s,e)=>{const n=_e.forwardRef(({className:r,...o},c)=>_e.createElement(wS,{ref:c,iconNode:e,className:a1(`lucide-${vS(X0(s))}`,`lucide-${s}`,r),...o}));return n.displayName=X0(s),n};/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xS=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],AS=qe("activity",xS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],RS=qe("arrow-down",SS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IS=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],no=qe("arrow-right",IS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NS=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],CS=qe("arrow-up-right",NS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kS=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],DS=qe("briefcase",kS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OS=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],MS=qe("chevron-down",OS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VS=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jS=qe("chevron-left",VS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],US=qe("chevron-right",PS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zS=qe("circle-alert",LS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J0=qe("circle-check",BS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],FS=qe("database",qS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HS=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],W0=qe("factory",HS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],KS=qe("globe",GS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$S=qe("history",QS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Z0=qe("image",YS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],ev=qe("layers",XS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JS=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],WS=qe("layout-grid",JS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZS=[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]],e2=qe("library",ZS);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],tv=qe("loader-circle",t2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],i2=qe("log-out",n2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],r2=qe("mail",s2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],o2=qe("map-pin",a2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],c2=qe("menu",l2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],o1=qe("monitor",u2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h2=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],f2=qe("pen",h2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],m2=qe("phone",d2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p2=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],km=qe("plus",p2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g2=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],y2=qe("save",g2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _2=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],l1=qe("search",_2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v2=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],b2=qe("settings",v2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E2=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],T2=qe("shield-check",E2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w2=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],x2=qe("trash-2",w2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],S2=qe("users",A2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],nv=qe("x",R2);/**
 * @license lucide-react v0.575.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],N2=qe("zap",I2),C2=()=>{};var iv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(s){const e=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},k2=function(s){const e=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[n++],f=s[n++],m=s[n++],g=((o&7)<<18|(c&63)<<12|(f&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=s[n++],f=s[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|f&63)}}return e.join("")},u1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const c=s[o],f=o+1<s.length,m=f?s[o+1]:0,g=o+2<s.length,y=g?s[o+2]:0,T=c>>2,x=(c&3)<<4|m>>4;let S=(m&15)<<2|y>>6,G=y&63;g||(G=64,f||(S=64)),r.push(n[T],n[x],n[S],n[G])}return r.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(c1(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):k2(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const c=n[s.charAt(o++)],m=o<s.length?n[s.charAt(o)]:0;++o;const y=o<s.length?n[s.charAt(o)]:64;++o;const x=o<s.length?n[s.charAt(o)]:64;if(++o,c==null||m==null||y==null||x==null)throw new D2;const S=c<<2|m>>4;if(r.push(S),y!==64){const G=m<<4&240|y>>2;if(r.push(G),x!==64){const W=y<<6&192|x;r.push(W)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class D2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const O2=function(s){const e=c1(s);return u1.encodeByteArray(e,!0)},dh=function(s){return O2(s).replace(/\./g,"")},h1=function(s){try{return u1.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V2=()=>M2().__FIREBASE_DEFAULTS__,j2=()=>{if(typeof process>"u"||typeof iv>"u")return;const s=iv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},P2=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&h1(s[1]);return e&&JSON.parse(e)},Lh=()=>{try{return C2()||V2()||j2()||P2()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},f1=s=>{var e,n;return(n=(e=Lh())==null?void 0:e.emulatorHosts)==null?void 0:n[s]},d1=s=>{const e=f1(s);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},m1=()=>{var s;return(s=Lh())==null?void 0:s.config},p1=s=>{var e;return(e=Lh())==null?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function mp(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...s};return[dh(JSON.stringify(n)),dh(JSON.stringify(f)),""].join(".")}const Kl={};function L2(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function z2(s){let e=document.getElementById(s),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),n=!0),{created:n,element:e}}let sv=!1;function pp(s,e){if(typeof window>"u"||typeof document>"u"||!la(window.location.host)||Kl[s]===e||Kl[s]||sv)return;Kl[s]=e;function n(S){return`__firebase__banner__${S}`}const r="__firebase__banner",c=L2().prod.length>0;function f(){const S=document.getElementById(r);S&&S.remove()}function m(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function g(S,G){S.setAttribute("width","24"),S.setAttribute("id",G),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{sv=!0,f()},S}function T(S,G){S.setAttribute("id",G),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function x(){const S=z2(r),G=n("text"),W=document.getElementById(G)||document.createElement("span"),te=n("learnmore"),ee=document.getElementById(te)||document.createElement("a"),z=n("preprendIcon"),ye=document.getElementById(z)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ue=S.element;m(ue),T(ee,te);const be=y();g(ye,z),ue.append(ye,W,ee,be),document.body.appendChild(ue)}c?(W.innerText="Preview backend disconnected.",ye.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ye.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function q2(){var e;const s=(e=Lh())==null?void 0:e.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function F2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function y1(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function H2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G2(){const s=tn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function K2(){return!q2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _1(){try{return typeof indexedDB=="object"}catch{return!1}}function v1(){return new Promise((s,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)==null?void 0:c.message)||"")}}catch(n){e(n)}})}function Q2(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="FirebaseError";class Xn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$2,Object.setPrototypeOf(this,Xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ca.prototype.create)}}class ca{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],f=c?Y2(c,r):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Xn(o,m,r)}}function Y2(s,e){return s.replace(X2,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const X2=/\{\$([^}]+)}/g;function J2(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function lr(s,e){if(s===e)return!0;const n=Object.keys(s),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=s[o],f=e[o];if(rv(c)&&rv(f)){if(!lr(c,f))return!1}else if(c!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function rv(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cc(s){const e=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ll(s){const e={};return s.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[o,c]=r.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function zl(s){const e=s.indexOf("?");if(!e)return"";const n=s.indexOf("#",e);return s.substring(e,n>0?n:void 0)}function W2(s,e){const n=new Z2(s,e);return n.subscribe.bind(n)}class Z2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=mm),o.error===void 0&&(o.error=mm),o.complete===void 0&&(o.complete=mm);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eR(s,e){if(typeof s!="object"||s===null)return!1;for(const n of e)if(n in s&&typeof s[n]=="function")return!0;return!1}function mm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=1e3,nR=2,iR=14400*1e3,sR=.5;function av(s,e=tR,n=nR){const r=e*Math.pow(n,s),o=Math.round(sR*r*(Math.random()-.5)*2);return Math.min(iR,r+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(s){return s&&s._delegate?s._delegate:s}class Yn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new U2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oR(e))try{this.getOrInitializeService({instanceIdentifier:Xr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=Xr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xr){return this.instances.has(e)}getOptions(e=Xr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);r===m&&f.resolve(o)}return o}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(e),this.onInitCallbacks.set(r,o);const c=this.instances.get(r);return c&&e(c,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xr){return this.component?this.component.multipleInstances?e:Xr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(s){return s===Xr?void 0:s}function oR(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Ue||(Ue={}));const cR={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},uR=Ue.INFO,hR={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},fR=(s,e,...n)=>{if(e<s.logLevel)return;const r=new Date().toISOString(),o=hR[e];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zh{constructor(e){this.name=e,this._logLevel=uR,this._logHandler=fR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const dR=(s,e)=>e.some(n=>s instanceof n);let ov,lv;function mR(){return ov||(ov=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pR(){return lv||(lv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const b1=new WeakMap,Dm=new WeakMap,E1=new WeakMap,pm=new WeakMap,gp=new WeakMap;function gR(s){const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",f)},c=()=>{n(nr(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&b1.set(n,s)}).catch(()=>{}),gp.set(e,s),e}function yR(s){if(Dm.has(s))return;const e=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",f),s.removeEventListener("abort",f)},c=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",f),s.addEventListener("abort",f)});Dm.set(s,e)}let Om={get(s,e,n){if(s instanceof IDBTransaction){if(e==="done")return Dm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||E1.get(s);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nr(s[e])},set(s,e,n){return s[e]=n,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function _R(s){Om=s(Om)}function vR(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=s.call(gm(this),e,...n);return E1.set(r,e.sort?e.sort():[e]),nr(r)}:pR().includes(s)?function(...e){return s.apply(gm(this),e),nr(b1.get(this))}:function(...e){return nr(s.apply(gm(this),e))}}function bR(s){return typeof s=="function"?vR(s):(s instanceof IDBTransaction&&yR(s),dR(s,mR())?new Proxy(s,Om):s)}function nr(s){if(s instanceof IDBRequest)return gR(s);if(pm.has(s))return pm.get(s);const e=bR(s);return e!==s&&(pm.set(s,e),gp.set(e,s)),e}const gm=s=>gp.get(s);function T1(s,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const f=indexedDB.open(s,e),m=nr(f);return r&&f.addEventListener("upgradeneeded",g=>{r(nr(f.result),g.oldVersion,g.newVersion,nr(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const ER=["get","getKey","getAll","getAllKeys","count"],TR=["put","add","delete","clear"],ym=new Map;function cv(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(ym.get(e))return ym.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=TR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||ER.includes(n)))return;const c=async function(f,...m){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return r&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return ym.set(e,c),c}_R(s=>({...s,get:(e,n,r)=>cv(e,n)||s.get(e,n,r),has:(e,n)=>!!cv(e,n)||s.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function xR(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Mm="@firebase/app",uv="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds=new zh("@firebase/app"),AR="@firebase/app-compat",SR="@firebase/analytics-compat",RR="@firebase/analytics",IR="@firebase/app-check-compat",NR="@firebase/app-check",CR="@firebase/auth",kR="@firebase/auth-compat",DR="@firebase/database",OR="@firebase/data-connect",MR="@firebase/database-compat",VR="@firebase/functions",jR="@firebase/functions-compat",PR="@firebase/installations",UR="@firebase/installations-compat",LR="@firebase/messaging",zR="@firebase/messaging-compat",BR="@firebase/performance",qR="@firebase/performance-compat",FR="@firebase/remote-config",HR="@firebase/remote-config-compat",GR="@firebase/storage",KR="@firebase/storage-compat",QR="@firebase/firestore",$R="@firebase/ai",YR="@firebase/firestore-compat",XR="firebase",JR="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="[DEFAULT]",WR={[Mm]:"fire-core",[AR]:"fire-core-compat",[RR]:"fire-analytics",[SR]:"fire-analytics-compat",[NR]:"fire-app-check",[IR]:"fire-app-check-compat",[CR]:"fire-auth",[kR]:"fire-auth-compat",[DR]:"fire-rtdb",[OR]:"fire-data-connect",[MR]:"fire-rtdb-compat",[VR]:"fire-fn",[jR]:"fire-fn-compat",[PR]:"fire-iid",[UR]:"fire-iid-compat",[LR]:"fire-fcm",[zR]:"fire-fcm-compat",[BR]:"fire-perf",[qR]:"fire-perf-compat",[FR]:"fire-rc",[HR]:"fire-rc-compat",[GR]:"fire-gcs",[KR]:"fire-gcs-compat",[QR]:"fire-fst",[YR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Map,ZR=new Map,jm=new Map;function hv(s,e){try{s.container.addComponent(e)}catch(n){ds.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,n)}}function di(s){const e=s.name;if(jm.has(e))return ds.debug(`There were multiple attempts to register component ${e}.`),!1;jm.set(e,s);for(const n of mh.values())hv(n,s);for(const n of ZR.values())hv(n,s);return!0}function pr(s,e){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(e)}function Gn(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ir=new ca("app","Firebase",eI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Yn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ir.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=JR;function w1(s,e={}){let n=s;typeof e!="object"&&(e={name:e});const r={name:Vm,automaticDataCollectionEnabled:!0,...e},o=r.name;if(typeof o!="string"||!o)throw ir.create("bad-app-name",{appName:String(o)});if(n||(n=m1()),!n)throw ir.create("no-options");const c=mh.get(o);if(c){if(lr(n,c.options)&&lr(r,c.config))return c;throw ir.create("duplicate-app",{appName:o})}const f=new lR(o);for(const g of jm.values())f.addComponent(g);const m=new tI(n,r,f);return mh.set(o,m),m}function Bh(s=Vm){const e=mh.get(s);if(!e&&s===Vm&&m1())return w1();if(!e)throw ir.create("no-app",{appName:s});return e}function _n(s,e,n){let r=WR[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),c=e.match(/\s|\//);if(o||c){const f=[`Unable to register library "${r}" with version "${e}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&c&&f.push("and"),c&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ds.warn(f.join(" "));return}di(new Yn(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="firebase-heartbeat-database",iI=1,Zl="firebase-heartbeat-store";let _m=null;function x1(){return _m||(_m=T1(nI,iI,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(s=>{throw ir.create("idb-open",{originalErrorMessage:s.message})})),_m}async function sI(s){try{const n=(await x1()).transaction(Zl),r=await n.objectStore(Zl).get(A1(s));return await n.done,r}catch(e){if(e instanceof Xn)ds.warn(e.message);else{const n=ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ds.warn(n.message)}}}async function fv(s,e){try{const r=(await x1()).transaction(Zl,"readwrite");await r.objectStore(Zl).put(e,A1(s)),await r.done}catch(n){if(n instanceof Xn)ds.warn(n.message);else{const r=ir.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ds.warn(r.message)}}}function A1(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI=1024,aI=30;class oI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new cI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=dv();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>aI){const f=uI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=dv(),{heartbeatsToSend:r,unsentEntries:o}=lI(this._heartbeatsCache.heartbeats),c=dh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return ds.warn(n),""}}}function dv(){return new Date().toISOString().substring(0,10)}function lI(s,e=rI){const n=[];let r=s.slice();for(const o of s){const c=n.find(f=>f.agent===o.agent);if(c){if(c.dates.push(o.date),mv(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),mv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class cI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _1()?v1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await sI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return fv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function mv(s){return dh(JSON.stringify({version:2,heartbeats:s})).length}function uI(s){if(s.length===0)return-1;let e=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hI(s){di(new Yn("platform-logger",e=>new wR(e),"PRIVATE")),di(new Yn("heartbeat",e=>new oI(e),"PRIVATE")),_n(Mm,uv,s),_n(Mm,uv,"esm2020"),_n("fire-js","")}hI("");var fI="firebase",dI="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_n(fI,dI,"app");const S1="@firebase/installations",yp="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1=1e4,I1=`w:${yp}`,N1="FIS_v2",mI="https://firebaseinstallations.googleapis.com/v1",pI=3600*1e3,gI="installations",yI="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ta=new ca(gI,yI,_I);function C1(s){return s instanceof Xn&&s.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1({projectId:s}){return`${mI}/projects/${s}/installations`}function D1(s){return{token:s.token,requestStatus:2,expiresIn:bI(s.expiresIn),creationTime:Date.now()}}async function O1(s,e){const r=(await e.json()).error;return ta.create("request-failed",{requestName:s,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function M1({apiKey:s}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":s})}function vI(s,{refreshToken:e}){const n=M1(s);return n.append("Authorization",EI(e)),n}async function V1(s){const e=await s();return e.status>=500&&e.status<600?s():e}function bI(s){return Number(s.replace("s","000"))}function EI(s){return`${N1} ${s}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI({appConfig:s,heartbeatServiceProvider:e},{fid:n}){const r=k1(s),o=M1(s),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={fid:n,authVersion:N1,appId:s.appId,sdkVersion:I1},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await V1(()=>fetch(r,m));if(g.ok){const y=await g.json();return{fid:y.fid||n,registrationStatus:2,refreshToken:y.refreshToken,authToken:D1(y.authToken)}}else throw await O1("Create Installation",g)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(s){return new Promise(e=>{setTimeout(e,s)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(s){return btoa(String.fromCharCode(...s)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=/^[cdef][\w-]{21}$/,Pm="";function AI(){try{const s=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(s),s[0]=112+s[0]%16;const n=SI(s);return xI.test(n)?n:Pm}catch{return Pm}}function SI(s){return wI(s).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(s){return`${s.appName}!${s.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1=new Map;function U1(s,e){const n=qh(s);L1(n,e),RI(n,e)}function L1(s,e){const n=P1.get(s);if(n)for(const r of n)r(e)}function RI(s,e){const n=II();n&&n.postMessage({key:s,fid:e}),NI()}let Jr=null;function II(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=s=>{L1(s.data.key,s.data.fid)}),Jr}function NI(){P1.size===0&&Jr&&(Jr.close(),Jr=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="firebase-installations-database",kI=1,na="firebase-installations-store";let vm=null;function _p(){return vm||(vm=T1(CI,kI,{upgrade:(s,e)=>{switch(e){case 0:s.createObjectStore(na)}}})),vm}async function ph(s,e){const n=qh(s),o=(await _p()).transaction(na,"readwrite"),c=o.objectStore(na),f=await c.get(n);return await c.put(e,n),await o.done,(!f||f.fid!==e.fid)&&U1(s,e.fid),e}async function z1(s){const e=qh(s),r=(await _p()).transaction(na,"readwrite");await r.objectStore(na).delete(e),await r.done}async function Fh(s,e){const n=qh(s),o=(await _p()).transaction(na,"readwrite"),c=o.objectStore(na),f=await c.get(n),m=e(f);return m===void 0?await c.delete(n):await c.put(m,n),await o.done,m&&(!f||f.fid!==m.fid)&&U1(s,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vp(s){let e;const n=await Fh(s.appConfig,r=>{const o=DI(r),c=OI(s,o);return e=c.registrationPromise,c.installationEntry});return n.fid===Pm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function DI(s){const e=s||{fid:AI(),registrationStatus:0};return B1(e)}function OI(s,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(ta.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=MI(s,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:VI(s)}:{installationEntry:e}}async function MI(s,e){try{const n=await TI(s,e);return ph(s.appConfig,n)}catch(n){throw C1(n)&&n.customData.serverCode===409?await z1(s.appConfig):await ph(s.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function VI(s){let e=await pv(s.appConfig);for(;e.registrationStatus===1;)await j1(100),e=await pv(s.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await vp(s);return r||n}return e}function pv(s){return Fh(s,e=>{if(!e)throw ta.create("installation-not-found");return B1(e)})}function B1(s){return jI(s)?{fid:s.fid,registrationStatus:0}:s}function jI(s){return s.registrationStatus===1&&s.registrationTime+R1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PI({appConfig:s,heartbeatServiceProvider:e},n){const r=UI(s,n),o=vI(s,n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const f={installation:{sdkVersion:I1,appId:s.appId}},m={method:"POST",headers:o,body:JSON.stringify(f)},g=await V1(()=>fetch(r,m));if(g.ok){const y=await g.json();return D1(y)}else throw await O1("Generate Auth Token",g)}function UI(s,{fid:e}){return`${k1(s)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bp(s,e=!1){let n;const r=await Fh(s.appConfig,c=>{if(!q1(c))throw ta.create("not-registered");const f=c.authToken;if(!e&&BI(f))return c;if(f.requestStatus===1)return n=LI(s,e),c;{if(!navigator.onLine)throw ta.create("app-offline");const m=FI(c);return n=zI(s,m),m}});return n?await n:r.authToken}async function LI(s,e){let n=await gv(s.appConfig);for(;n.authToken.requestStatus===1;)await j1(100),n=await gv(s.appConfig);const r=n.authToken;return r.requestStatus===0?bp(s,e):r}function gv(s){return Fh(s,e=>{if(!q1(e))throw ta.create("not-registered");const n=e.authToken;return HI(n)?{...e,authToken:{requestStatus:0}}:e})}async function zI(s,e){try{const n=await PI(s,e),r={...e,authToken:n};return await ph(s.appConfig,r),n}catch(n){if(C1(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await z1(s.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ph(s.appConfig,r)}throw n}}function q1(s){return s!==void 0&&s.registrationStatus===2}function BI(s){return s.requestStatus===2&&!qI(s)}function qI(s){const e=Date.now();return e<s.creationTime||s.creationTime+s.expiresIn<e+pI}function FI(s){const e={requestStatus:1,requestTime:Date.now()};return{...s,authToken:e}}function HI(s){return s.requestStatus===1&&s.requestTime+R1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GI(s){const e=s,{installationEntry:n,registrationPromise:r}=await vp(e);return r?r.catch(console.error):bp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(s,e=!1){const n=s;return await QI(n),(await bp(n,e)).token}async function QI(s){const{registrationPromise:e}=await vp(s);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $I(s){if(!s||!s.options)throw bm("App Configuration");if(!s.name)throw bm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!s.options[n])throw bm(n);return{appName:s.name,projectId:s.options.projectId,apiKey:s.options.apiKey,appId:s.options.appId}}function bm(s){return ta.create("missing-app-config-values",{valueName:s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="installations",YI="installations-internal",XI=s=>{const e=s.getProvider("app").getImmediate(),n=$I(e),r=pr(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},JI=s=>{const e=s.getProvider("app").getImmediate(),n=pr(e,F1).getImmediate();return{getId:()=>GI(n),getToken:o=>KI(n,o)}};function WI(){di(new Yn(F1,XI,"PUBLIC")),di(new Yn(YI,JI,"PRIVATE"))}WI();_n(S1,yp);_n(S1,yp,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh="analytics",ZI="firebase_id",eN="origin",tN=60*1e3,nN="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ep="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ln=new zh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Cn=new ca("analytics","Analytics",iN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(s){if(!s.startsWith(Ep)){const e=Cn.create("invalid-gtag-resource",{gtagURL:s});return ln.warn(e.message),""}return s}function H1(s){return Promise.all(s.map(e=>e.catch(n=>n)))}function rN(s,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(s,e)),n}function aN(s,e){const n=rN("firebase-js-sdk-policy",{createScriptURL:sN}),r=document.createElement("script"),o=`${Ep}?l=${s}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(o):o,r.async=!0,document.head.appendChild(r)}function oN(s){let e=[];return Array.isArray(window[s])?e=window[s]:window[s]=e,e}async function lN(s,e,n,r,o,c){const f=r[o];try{if(f)await e[f];else{const g=(await H1(n)).find(y=>y.measurementId===o);g&&await e[g.appId]}}catch(m){ln.error(m)}s("config",o,c)}async function cN(s,e,n,r,o){try{let c=[];if(o&&o.send_to){let f=o.send_to;Array.isArray(f)||(f=[f]);const m=await H1(n);for(const g of f){const y=m.find(x=>x.measurementId===g),T=y&&e[y.appId];if(T)c.push(T);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),s("event",r,o||{})}catch(c){ln.error(c)}}function uN(s,e,n,r){async function o(c,...f){try{if(c==="event"){const[m,g]=f;await cN(s,e,n,m,g)}else if(c==="config"){const[m,g]=f;await lN(s,e,n,r,m,g)}else if(c==="consent"){const[m,g]=f;s("consent",m,g)}else if(c==="get"){const[m,g,y]=f;s("get",m,g,y)}else if(c==="set"){const[m]=f;s("set",m)}else s(c,...f)}catch(m){ln.error(m)}}return o}function hN(s,e,n,r,o){let c=function(...f){window[r].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=uN(c,s,e,n),{gtagCore:c,wrappedGtag:window[o]}}function fN(s){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Ep)&&n.src.includes(s))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=30,mN=1e3;class pN{constructor(e={},n=mN){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const G1=new pN;function gN(s){return new Headers({Accept:"application/json","x-goog-api-key":s})}async function yN(s){var f;const{appId:e,apiKey:n}=s,r={method:"GET",headers:gN(n)},o=nN.replace("{app-id}",e),c=await fetch(o,r);if(c.status!==200&&c.status!==304){let m="";try{const g=await c.json();(f=g.error)!=null&&f.message&&(m=g.error.message)}catch{}throw Cn.create("config-fetch-failed",{httpStatus:c.status,responseMessage:m})}return c.json()}async function _N(s,e=G1,n){const{appId:r,apiKey:o,measurementId:c}=s.options;if(!r)throw Cn.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:r};throw Cn.create("no-api-key")}const f=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new EN;return setTimeout(async()=>{m.abort()},tN),K1({appId:r,apiKey:o,measurementId:c},f,m,e)}async function K1(s,{throttleEndTimeMillis:e,backoffCount:n},r,o=G1){var m;const{appId:c,measurementId:f}=s;try{await vN(r,e)}catch(g){if(f)return ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:c,measurementId:f};throw g}try{const g=await yN(s);return o.deleteThrottleMetadata(c),g}catch(g){const y=g;if(!bN(y)){if(o.deleteThrottleMetadata(c),f)return ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:c,measurementId:f};throw g}const T=Number((m=y==null?void 0:y.customData)==null?void 0:m.httpStatus)===503?av(n,o.intervalMillis,dN):av(n,o.intervalMillis),x={throttleEndTimeMillis:Date.now()+T,backoffCount:n+1};return o.setThrottleMetadata(c,x),ln.debug(`Calling attemptFetch again in ${T} millis`),K1(s,x,r,o)}}function vN(s,e){return new Promise((n,r)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(n,o);s.addEventListener(()=>{clearTimeout(c),r(Cn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function bN(s){if(!(s instanceof Xn)||!s.customData)return!1;const e=Number(s.customData.httpStatus);return e===429||e===500||e===503||e===504}class EN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function TN(s,e,n,r,o){if(o&&o.global){s("event",n,r);return}else{const c=await e,f={...r,send_to:c};s("event",n,f)}}async function wN(s,e,n,r){if(r&&r.global){const o={};for(const c of Object.keys(n))o[`user_properties.${c}`]=n[c];return s("set",o),Promise.resolve()}else{const o=await e;s("config",o,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(){if(_1())try{await v1()}catch(s){return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:s==null?void 0:s.toString()}).message),!1}else return ln.warn(Cn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function AN(s,e,n,r,o,c,f){const m=_N(s);m.then(S=>{n[S.measurementId]=S.appId,s.options.measurementId&&S.measurementId!==s.options.measurementId&&ln.warn(`The measurement ID in the local Firebase config (${s.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>ln.error(S)),e.push(m);const g=xN().then(S=>{if(S)return r.getId()}),[y,T]=await Promise.all([m,g]);fN(c)||aN(c,y.measurementId),o("js",new Date);const x=(f==null?void 0:f.config)??{};return x[eN]="firebase",x.update=!0,T!=null&&(x[ZI]=T),o("config",y.measurementId,x),y.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e){this.app=e}_delete(){return delete lo[this.app.options.appId],Promise.resolve()}}let lo={},yv=[];const _v={};let Em="dataLayer",RN="gtag",vv,Tp,bv=!1;function IN(){const s=[];if(y1()&&s.push("This is a browser extension environment."),Q2()||s.push("Cookies are not available."),s.length>0){const e=s.map((r,o)=>`(${o+1}) ${r}`).join(" "),n=Cn.create("invalid-analytics-context",{errorInfo:e});ln.warn(n.message)}}function NN(s,e,n){IN();const r=s.options.appId;if(!r)throw Cn.create("no-app-id");if(!s.options.apiKey)if(s.options.measurementId)ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${s.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Cn.create("no-api-key");if(lo[r]!=null)throw Cn.create("already-exists",{id:r});if(!bv){oN(Em);const{wrappedGtag:c,gtagCore:f}=hN(lo,yv,_v,Em,RN);Tp=c,vv=f,bv=!0}return lo[r]=AN(s,yv,_v,e,vv,Em,n),new SN(s)}function CN(s=Bh()){s=ft(s);const e=pr(s,gh);return e.isInitialized()?e.getImmediate():kN(s)}function kN(s,e={}){const n=pr(s,gh);if(n.isInitialized()){const o=n.getImmediate();if(lr(e,n.getOptions()))return o;throw Cn.create("already-initialized")}return n.initialize({options:e})}function DN(s,e,n){s=ft(s),wN(Tp,lo[s.app.options.appId],e,n).catch(r=>ln.error(r))}function ON(s,e,n,r){s=ft(s),TN(Tp,lo[s.app.options.appId],e,n,r).catch(o=>ln.error(o))}const Ev="@firebase/analytics",Tv="0.10.19";function MN(){di(new Yn(gh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return NN(r,o,n)},"PUBLIC")),di(new Yn("analytics-internal",s,"PRIVATE")),_n(Ev,Tv),_n(Ev,Tv,"esm2020");function s(e){try{const n=e.getProvider(gh).getImmediate();return{logEvent:(r,o,c)=>ON(n,r,o,c),setUserProperties:(r,o)=>DN(n,r,o)}}catch(n){throw Cn.create("interop-component-reg-failed",{reason:n})}}}MN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebasestorage.googleapis.com",VN="storageBucket",jN=120*1e3,PN=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi extends Xn{constructor(e,n,r=0){super(Tm(e),`Firebase Storage: ${n} (${Tm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gi.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Tm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Fi;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Fi||(Fi={}));function Tm(s){return"storage/"+s}function UN(){const s="An unknown error occurred, please check the error payload for server response.";return new Gi(Fi.UNKNOWN,s)}function LN(){return new Gi(Fi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function zN(){return new Gi(Fi.CANCELED,"User canceled the upload/download.")}function BN(s){return new Gi(Fi.INVALID_URL,"Invalid URL '"+s+"'.")}function qN(s){return new Gi(Fi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function wv(s){return new Gi(Fi.INVALID_ARGUMENT,s)}function $1(){return new Gi(Fi.APP_DELETED,"The Firebase app was deleted.")}function FN(s){return new Gi(Fi.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(r.path==="")return r;throw qN(e)}static makeFromUrl(e,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function c(be){be.path.charAt(be.path.length-1)==="/"&&(be.path_=be.path_.slice(0,-1))}const f="(/(.*))?$",m=new RegExp("^gs://"+o+f,"i"),g={bucket:1,path:3};function y(be){be.path_=decodeURIComponent(be.path)}const T="v[A-Za-z0-9_]+",x=n.replace(/[.]/g,"\\."),S="(/([^?#]*).*)?$",G=new RegExp(`^https?://${x}/${T}/b/${o}/o${S}`,"i"),W={bucket:1,path:3},te=n===Q1?"(?:storage.googleapis.com|storage.cloud.google.com)":n,ee="([^?#]*)",z=new RegExp(`^https?://${te}/${o}/${ee}`,"i"),ue=[{regex:m,indices:g,postModify:c},{regex:G,indices:W,postModify:y},{regex:z,indices:{bucket:1,path:2},postModify:y}];for(let be=0;be<ue.length;be++){const he=ue[be],me=he.regex.exec(e);if(me){const N=me[he.indices.bucket];let A=me[he.indices.path];A||(A=""),r=new ci(N,A),he.postModify(r);break}}if(r==null)throw BN(e);return r}}class HN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(s,e,n){let r=1,o=null,c=null,f=!1,m=0;function g(){return m===2}let y=!1;function T(...ee){y||(y=!0,e.apply(null,ee))}function x(ee){o=setTimeout(()=>{o=null,s(G,g())},ee)}function S(){c&&clearTimeout(c)}function G(ee,...z){if(y){S();return}if(ee){S(),T.call(null,ee,...z);return}if(g()||f){S(),T.call(null,ee,...z);return}r<64&&(r*=2);let ue;m===1?(m=2,ue=0):ue=(r+Math.random())*1e3,x(ue)}let W=!1;function te(ee){W||(W=!0,S(),!y&&(o!==null?(ee||(m=2),clearTimeout(o),x(0)):ee||(m=1)))}return x(0),c=setTimeout(()=>{f=!0,te(!0)},n),te}function KN(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(s){return s!==void 0}function xv(s,e,n,r){if(r<e)throw wv(`Invalid value for '${s}'. Expected ${e} or greater.`);if(r>n)throw wv(`Invalid value for '${s}'. Expected ${n} or less.`)}function $N(s){const e=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=e(r)+"="+e(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var yh;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(yh||(yh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(s,e){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,c=e.indexOf(s)!==-1;return n||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,n,r,o,c,f,m,g,y,T,x,S=!0,G=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=f,this.callback_=m,this.errorCallback_=g,this.timeout_=y,this.progressCallback_=T,this.connectionFactory_=x,this.retry=S,this.isUsingEmulator=G,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((W,te)=>{this.resolve_=W,this.reject_=te,this.start_()})}start_(){const e=(r,o)=>{if(o){r(!1,new $u(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const f=m=>{const g=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(g,y)};this.progressCallback_!==null&&c.addUploadProgressListener(f),c.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(f),this.pendingConnection_=null;const m=c.getErrorCode()===yh.NO_ERROR,g=c.getStatus();if(!m||YN(g,this.additionalRetryCodes_)&&this.retry){const T=c.getErrorCode()===yh.ABORT;r(!1,new $u(!1,null,T));return}const y=this.successCodes_.indexOf(g)!==-1;r(!0,new $u(y,c))})},n=(r,o)=>{const c=this.resolve_,f=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const g=this.callback_(m,m.getResponse());QN(g)?c(g):c()}catch(g){f(g)}else if(m!==null){const g=UN();g.serverResponse=m.getErrorText(),this.errorCallback_?f(this.errorCallback_(m,g)):f(g)}else if(o.canceled){const g=this.appDelete_?$1():zN();f(g)}else{const g=LN();f(g)}};this.canceled_?n(!1,new $u(!1,null,!0)):this.backoffId_=GN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&KN(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $u{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function JN(s,e){e!==null&&e.length>0&&(s.Authorization="Firebase "+e)}function WN(s,e){s["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZN(s,e){e&&(s["X-Firebase-GMPID"]=e)}function eC(s,e){e!==null&&(s["X-Firebase-AppCheck"]=e)}function tC(s,e,n,r,o,c,f=!0,m=!1){const g=$N(s.urlParams),y=s.url+g,T=Object.assign({},s.headers);return ZN(T,e),JN(T,n),WN(T,c),eC(T,r),new XN(y,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,m)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(s){if(s.length===0)return null;const e=s.lastIndexOf("/");return e===-1?"":s.slice(0,e)}function iC(s){const e=s.lastIndexOf("/",s.length-2);return e===-1?s:s.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this._service=e,n instanceof ci?this._location=n:this._location=ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new _h(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iC(this._location.path)}get storage(){return this._service}get parent(){const e=nC(this._location.path);if(e===null)return null;const n=new ci(this._location.bucket,e);return new _h(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FN(e)}}function Av(s,e){const n=e==null?void 0:e[VN];return n==null?null:ci.makeFromBucketSpec(n,s)}function sC(s,e,n,r={}){s.host=`${e}:${n}`;const o=la(e);o&&(mp(`https://${s.host}/b`),pp("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:c}=r;c&&(s._overrideAuthToken=typeof c=="string"?c:g1(c,s.app.options.projectId))}class rC{constructor(e,n,r,o,c,f=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=c,this._isUsingEmulator=f,this._bucket=null,this._host=Q1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=jN,this._maxUploadRetryTime=PN,this._requests=new Set,o!=null?this._bucket=ci.makeFromBucketSpec(o,this._host):this._bucket=Av(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ci.makeFromBucketSpec(this._url,e):this._bucket=Av(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){xv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new _h(this,e)}_makeRequest(e,n,r,o,c=!0){if(this._deleted)return new HN($1());{const f=tC(e,this._appId,r,o,n,this._firebaseVersion,c,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(e,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,o).getPromise()}}const Sv="@firebase/storage",Rv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="storage";function aC(s=Bh(),e){s=ft(s);const r=pr(s,Y1).getImmediate({identifier:e}),o=d1("storage");return o&&oC(r,...o),r}function oC(s,e,n,r={}){sC(s,e,n,r)}function lC(s,{instanceIdentifier:e}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new rC(n,r,o,e,ua)}function cC(){di(new Yn(Y1,lC,"PUBLIC").setMultipleInstances(!0)),_n(Sv,Rv,""),_n(Sv,Rv,"esm2020")}cC();var Iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sr,X1;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,A){function I(){}I.prototype=A.prototype,N.F=A.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(M,k,V){for(var R=Array(arguments.length-2),Qe=2;Qe<arguments.length;Qe++)R[Qe-2]=arguments[Qe];return A.prototype[k].apply(M,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,A,I){I||(I=0);const M=Array(16);if(typeof A=="string")for(var k=0;k<16;++k)M[k]=A.charCodeAt(I++)|A.charCodeAt(I++)<<8|A.charCodeAt(I++)<<16|A.charCodeAt(I++)<<24;else for(k=0;k<16;++k)M[k]=A[I++]|A[I++]<<8|A[I++]<<16|A[I++]<<24;A=N.g[0],I=N.g[1],k=N.g[2];let V=N.g[3],R;R=A+(V^I&(k^V))+M[0]+3614090360&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[1]+3905402710&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[2]+606105819&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[3]+3250441966&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[4]+4118548399&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[5]+1200080426&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[6]+2821735955&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[7]+4249261313&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[8]+1770035416&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[9]+2336552879&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[10]+4294925233&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[11]+2304563134&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(V^I&(k^V))+M[12]+1804603682&4294967295,A=I+(R<<7&4294967295|R>>>25),R=V+(k^A&(I^k))+M[13]+4254626195&4294967295,V=A+(R<<12&4294967295|R>>>20),R=k+(I^V&(A^I))+M[14]+2792965006&4294967295,k=V+(R<<17&4294967295|R>>>15),R=I+(A^k&(V^A))+M[15]+1236535329&4294967295,I=k+(R<<22&4294967295|R>>>10),R=A+(k^V&(I^k))+M[1]+4129170786&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[6]+3225465664&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[11]+643717713&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[0]+3921069994&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[5]+3593408605&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[10]+38016083&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[15]+3634488961&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[4]+3889429448&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[9]+568446438&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[14]+3275163606&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[3]+4107603335&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[8]+1163531501&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(k^V&(I^k))+M[13]+2850285829&4294967295,A=I+(R<<5&4294967295|R>>>27),R=V+(I^k&(A^I))+M[2]+4243563512&4294967295,V=A+(R<<9&4294967295|R>>>23),R=k+(A^I&(V^A))+M[7]+1735328473&4294967295,k=V+(R<<14&4294967295|R>>>18),R=I+(V^A&(k^V))+M[12]+2368359562&4294967295,I=k+(R<<20&4294967295|R>>>12),R=A+(I^k^V)+M[5]+4294588738&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[8]+2272392833&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[11]+1839030562&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[14]+4259657740&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[1]+2763975236&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[4]+1272893353&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[7]+4139469664&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[10]+3200236656&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[13]+681279174&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[0]+3936430074&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[3]+3572445317&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[6]+76029189&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(I^k^V)+M[9]+3654602809&4294967295,A=I+(R<<4&4294967295|R>>>28),R=V+(A^I^k)+M[12]+3873151461&4294967295,V=A+(R<<11&4294967295|R>>>21),R=k+(V^A^I)+M[15]+530742520&4294967295,k=V+(R<<16&4294967295|R>>>16),R=I+(k^V^A)+M[2]+3299628645&4294967295,I=k+(R<<23&4294967295|R>>>9),R=A+(k^(I|~V))+M[0]+4096336452&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[7]+1126891415&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[14]+2878612391&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[5]+4237533241&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[12]+1700485571&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[3]+2399980690&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[10]+4293915773&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[1]+2240044497&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[8]+1873313359&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[15]+4264355552&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[6]+2734768916&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[13]+1309151649&4294967295,I=k+(R<<21&4294967295|R>>>11),R=A+(k^(I|~V))+M[4]+4149444226&4294967295,A=I+(R<<6&4294967295|R>>>26),R=V+(I^(A|~k))+M[11]+3174756917&4294967295,V=A+(R<<10&4294967295|R>>>22),R=k+(A^(V|~I))+M[2]+718787259&4294967295,k=V+(R<<15&4294967295|R>>>17),R=I+(V^(k|~A))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+A&4294967295,N.g[1]=N.g[1]+(k+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+k&4294967295,N.g[3]=N.g[3]+V&4294967295}r.prototype.v=function(N,A){A===void 0&&(A=N.length);const I=A-this.blockSize,M=this.C;let k=this.h,V=0;for(;V<A;){if(k==0)for(;V<=I;)o(this,N,V),V+=this.blockSize;if(typeof N=="string"){for(;V<A;)if(M[k++]=N.charCodeAt(V++),k==this.blockSize){o(this,M),k=0;break}}else for(;V<A;)if(M[k++]=N[V++],k==this.blockSize){o(this,M),k=0;break}}this.h=k,this.o+=A},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var A=1;A<N.length-8;++A)N[A]=0;A=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=A&255,A/=256;for(this.v(N),N=Array(16),A=0,I=0;I<4;++I)for(let M=0;M<32;M+=8)N[A++]=this.g[I]>>>M&255;return N};function c(N,A){var I=m;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=A(N)}function f(N,A){this.h=A;const I=[];let M=!0;for(let k=N.length-1;k>=0;k--){const V=N[k]|0;M&&V==A||(I[k]=V,M=!1)}this.g=I}var m={};function g(N){return-128<=N&&N<128?c(N,function(A){return new f([A|0],A<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return ee(y(-N));const A=[];let I=1;for(let M=0;N>=I;M++)A[M]=N/I|0,I*=4294967296;return new f(A,0)}function T(N,A){if(N.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(N.charAt(0)=="-")return ee(T(N.substring(1),A));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(A,8));let M=x;for(let V=0;V<N.length;V+=8){var k=Math.min(8,N.length-V);const R=parseInt(N.substring(V,V+k),A);k<8?(k=y(Math.pow(A,k)),M=M.j(k).add(y(R))):(M=M.j(I),M=M.add(y(R)))}return M}var x=g(0),S=g(1),G=g(16777216);s=f.prototype,s.m=function(){if(te(this))return-ee(this).m();let N=0,A=1;for(let I=0;I<this.g.length;I++){const M=this.i(I);N+=(M>=0?M:4294967296+M)*A,A*=4294967296}return N},s.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(te(this))return"-"+ee(this).toString(N);const A=y(Math.pow(N,6));var I=this;let M="";for(;;){const k=be(I,A).g;I=z(I,k.j(A));let V=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=k,W(I))return V+M;for(;V.length<6;)V="0"+V;M=V+M}},s.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let A=0;A<N.g.length;A++)if(N.g[A]!=0)return!1;return!0}function te(N){return N.h==-1}s.l=function(N){return N=z(this,N),te(N)?-1:W(N)?0:1};function ee(N){const A=N.g.length,I=[];for(let M=0;M<A;M++)I[M]=~N.g[M];return new f(I,~N.h).add(S)}s.abs=function(){return te(this)?ee(this):this},s.add=function(N){const A=Math.max(this.g.length,N.g.length),I=[];let M=0;for(let k=0;k<=A;k++){let V=M+(this.i(k)&65535)+(N.i(k)&65535),R=(V>>>16)+(this.i(k)>>>16)+(N.i(k)>>>16);M=R>>>16,V&=65535,R&=65535,I[k]=R<<16|V}return new f(I,I[I.length-1]&-2147483648?-1:0)};function z(N,A){return N.add(ee(A))}s.j=function(N){if(W(this)||W(N))return x;if(te(this))return te(N)?ee(this).j(ee(N)):ee(ee(this).j(N));if(te(N))return ee(this.j(ee(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const A=this.g.length+N.g.length,I=[];for(var M=0;M<2*A;M++)I[M]=0;for(M=0;M<this.g.length;M++)for(let k=0;k<N.g.length;k++){const V=this.i(M)>>>16,R=this.i(M)&65535,Qe=N.i(k)>>>16,re=N.i(k)&65535;I[2*M+2*k]+=R*re,ye(I,2*M+2*k),I[2*M+2*k+1]+=V*re,ye(I,2*M+2*k+1),I[2*M+2*k+1]+=R*Qe,ye(I,2*M+2*k+1),I[2*M+2*k+2]+=V*Qe,ye(I,2*M+2*k+2)}for(N=0;N<A;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=A;N<2*A;N++)I[N]=0;return new f(I,0)};function ye(N,A){for(;(N[A]&65535)!=N[A];)N[A+1]+=N[A]>>>16,N[A]&=65535,A++}function ue(N,A){this.g=N,this.h=A}function be(N,A){if(W(A))throw Error("division by zero");if(W(N))return new ue(x,x);if(te(N))return A=be(ee(N),A),new ue(ee(A.g),ee(A.h));if(te(A))return A=be(N,ee(A)),new ue(ee(A.g),A.h);if(N.g.length>30){if(te(N)||te(A))throw Error("slowDivide_ only works with positive integers.");for(var I=S,M=A;M.l(N)<=0;)I=he(I),M=he(M);var k=me(I,1),V=me(M,1);for(M=me(M,2),I=me(I,2);!W(M);){var R=V.add(M);R.l(N)<=0&&(k=k.add(I),V=R),M=me(M,1),I=me(I,1)}return A=z(N,k.j(A)),new ue(k,A)}for(k=x;N.l(A)>=0;){for(I=Math.max(1,Math.floor(N.m()/A.m())),M=Math.ceil(Math.log(I)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),V=y(I),R=V.j(A);te(R)||R.l(N)>0;)I-=M,V=y(I),R=V.j(A);W(V)&&(V=S),k=k.add(V),N=z(N,R)}return new ue(k,N)}s.B=function(N){return be(this,N).h},s.and=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)&N.i(M);return new f(I,this.h&N.h)},s.or=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)|N.i(M);return new f(I,this.h|N.h)},s.xor=function(N){const A=Math.max(this.g.length,N.g.length),I=[];for(let M=0;M<A;M++)I[M]=this.i(M)^N.i(M);return new f(I,this.h^N.h)};function he(N){const A=N.g.length+1,I=[];for(let M=0;M<A;M++)I[M]=N.i(M)<<1|N.i(M-1)>>>31;return new f(I,N.h)}function me(N,A){const I=A>>5;A%=32;const M=N.g.length-I,k=[];for(let V=0;V<M;V++)k[V]=A>0?N.i(V+I)>>>A|N.i(V+I+1)<<32-A:N.i(V+I);return new f(k,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,X1=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,sr=f}).apply(typeof Iv<"u"?Iv:typeof self<"u"?self:typeof window<"u"?window:{});var Yu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var J1,Bl,W1,nh,Um,Z1,eE,tE;(function(){var s,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yu=="object"&&Yu];for(var p=0;p<u.length;++p){var b=u[p];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var r=n(this);function o(u,p){if(p)e:{var b=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var P=u[w];if(!(P in b))break e;b=b[P]}u=u[u.length-1],w=b[u],p=p(w),p!=w&&p!=null&&e(b,u,{configurable:!0,writable:!0,value:p})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(p){var b=[],w;for(w in p)Object.prototype.hasOwnProperty.call(p,w)&&b.push([w,p[w]]);return b}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},f=this||self;function m(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function g(u,p,b){return u.call.apply(u.bind,arguments)}function y(u,p,b){return y=g,y.apply(null,arguments)}function T(u,p){var b=Array.prototype.slice.call(arguments,1);return function(){var w=b.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function x(u,p){function b(){}b.prototype=p.prototype,u.Z=p.prototype,u.prototype=new b,u.prototype.constructor=u,u.Ob=function(w,P,F){for(var ie=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)ie[Ne-2]=arguments[Ne];return p.prototype[P].apply(w,ie)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const p=u.length;if(p>0){const b=Array(p);for(let w=0;w<p;w++)b[w]=u[w];return b}return[]}function W(u,p){for(let w=1;w<arguments.length;w++){const P=arguments[w];var b=typeof P;if(b=b!="object"?b:P?Array.isArray(P)?"array":b:"null",b=="array"||b=="object"&&typeof P.length=="number"){b=u.length||0;const F=P.length||0;u.length=b+F;for(let ie=0;ie<F;ie++)u[b+ie]=P[ie]}else u.push(P)}}class te{constructor(p,b){this.i=p,this.j=b,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ee(u){f.setTimeout(()=>{throw u},0)}function z(){var u=N;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class ye{constructor(){this.h=this.g=null}add(p,b){const w=ue.get();w.set(p,b),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new te(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(p,b){this.h=p,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let he,me=!1,N=new ye,A=()=>{const u=Promise.resolve(void 0);he=()=>{u.then(I)}};function I(){for(var u;u=z();){try{u.h.call(u.g)}catch(b){ee(b)}var p=ue;p.j(u),p.h<100&&(p.h++,u.next=p.g,p.g=u)}me=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const b=()=>{};f.addEventListener("test",b,p),f.removeEventListener("test",b,p)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Qe(u,p){k.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,p)}x(Qe,k),Qe.prototype.init=function(u,p){const b=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget,p||(b=="mouseover"?p=u.fromElement:b=="mouseout"&&(p=u.toElement)),this.relatedTarget=p,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Qe.Z.h.call(this)},Qe.prototype.h=function(){Qe.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var re="closure_listenable_"+(Math.random()*1e6|0),q=0;function Z(u,p,b,w,P){this.listener=u,this.proxy=null,this.src=p,this.type=b,this.capture=!!w,this.ha=P,this.key=++q,this.da=this.fa=!1}function fe(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function De(u,p,b){for(const w in u)p.call(b,u[w],w,u)}function $e(u,p){for(const b in u)p.call(void 0,u[b],b,u)}function O(u){const p={};for(const b in u)p[b]=u[b];return p}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function se(u,p){let b,w;for(let P=1;P<arguments.length;P++){w=arguments[P];for(b in w)u[b]=w[b];for(let F=0;F<$.length;F++)b=$[F],Object.prototype.hasOwnProperty.call(w,b)&&(u[b]=w[b])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,p,b,w,P){const F=u.toString();u=this.g[F],u||(u=this.g[F]=[],this.h++);const ie=xe(u,p,w,P);return ie>-1?(p=u[ie],b||(p.fa=!1)):(p=new Z(p,this.src,F,!!w,P),p.fa=b,u.push(p)),p};function Ee(u,p){const b=p.type;if(b in u.g){var w=u.g[b],P=Array.prototype.indexOf.call(w,p,void 0),F;(F=P>=0)&&Array.prototype.splice.call(w,P,1),F&&(fe(p),u.g[b].length==0&&(delete u.g[b],u.h--))}}function xe(u,p,b,w){for(let P=0;P<u.length;++P){const F=u[P];if(!F.da&&F.listener==p&&F.capture==!!b&&F.ha==w)return P}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),gt={};function Ae(u,p,b,w,P){if(Array.isArray(p)){for(let F=0;F<p.length;F++)Ae(u,p[F],b,w,P);return null}return b=Mo(b),u&&u[re]?u.J(p,b,m(w)?!!w.capture:!1,P):ne(u,p,b,!1,w,P)}function ne(u,p,b,w,P,F){if(!p)throw Error("Invalid event type");const ie=m(P)?!!P.capture:!!P;let Ne=vr(u);if(Ne||(u[Oe]=Ne=new ae(u)),b=Ne.add(p,b,w,ie,F),b.proxy)return b;if(w=Fe(),b.proxy=w,w.src=u,w.listener=b,u.addEventListener)V||(P=ie),P===void 0&&(P=!1),u.addEventListener(p.toString(),w,P);else if(u.attachEvent)u.attachEvent(vn(p.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return b}function Fe(){function u(b){return p.call(u.src,u.listener,b)}const p=Do;return u}function nn(u,p,b,w,P){if(Array.isArray(p))for(var F=0;F<p.length;F++)nn(u,p[F],b,w,P);else w=m(w)?!!w.capture:!!w,b=Mo(b),u&&u[re]?(u=u.i,F=String(p).toString(),F in u.g&&(p=u.g[F],b=xe(p,b,w,P),b>-1&&(fe(p[b]),Array.prototype.splice.call(p,b,1),p.length==0&&(delete u.g[F],u.h--)))):u&&(u=vr(u))&&(p=u.g[p.toString()],u=-1,p&&(u=xe(p,b,w,P)),(b=u>-1?p[u]:null)&&kn(b))}function kn(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[re])Ee(p.i,u);else{var b=u.type,w=u.proxy;p.removeEventListener?p.removeEventListener(b,w,u.capture):p.detachEvent?p.detachEvent(vn(b),w):p.addListener&&p.removeListener&&p.removeListener(w),(b=vr(p))?(Ee(b,u),b.h==0&&(b.src=null,p[Oe]=null)):fe(u)}}}function vn(u){return u in gt?gt[u]:gt[u]="on"+u}function Do(u,p){if(u.da)u=!0;else{p=new Qe(p,this);const b=u.listener,w=u.ha||u.src;u.fa&&kn(u),u=b.call(w,p)}return u}function vr(u){return u=u[Oe],u instanceof ae?u:null}var Oo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Mo(u){return typeof u=="function"?u:(u[Oo]||(u[Oo]=function(p){return u.handleEvent(p)}),u[Oo])}function Tt(){M.call(this),this.i=new ae(this),this.M=this,this.G=null}x(Tt,M),Tt.prototype[re]=!0,Tt.prototype.removeEventListener=function(u,p,b,w){nn(this,u,p,b,w)};function Vt(u,p){var b,w=u.G;if(w)for(b=[];w;w=w.G)b.push(w);if(u=u.M,w=p.type||p,typeof p=="string")p=new k(p,u);else if(p instanceof k)p.target=p.target||u;else{var P=p;p=new k(w,u),se(p,P)}P=!0;let F,ie;if(b)for(ie=b.length-1;ie>=0;ie--)F=p.g=b[ie],P=ys(F,w,!0,p)&&P;if(F=p.g=u,P=ys(F,w,!0,p)&&P,P=ys(F,w,!1,p)&&P,b)for(ie=0;ie<b.length;ie++)F=p.g=b[ie],P=ys(F,w,!1,p)&&P}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var u=this.i;for(const p in u.g){const b=u.g[p];for(let w=0;w<b.length;w++)fe(b[w]);delete u.g[p],u.h--}}this.G=null},Tt.prototype.J=function(u,p,b,w){return this.i.add(String(u),p,!1,b,w)},Tt.prototype.K=function(u,p,b,w){return this.i.add(String(u),p,!0,b,w)};function ys(u,p,b,w){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();let P=!0;for(let F=0;F<p.length;++F){const ie=p[F];if(ie&&!ie.da&&ie.capture==b){const Ne=ie.listener,_t=ie.ha||ie.src;ie.fa&&Ee(u.i,ie),P=Ne.call(_t,w)!==!1&&P}}return P&&!w.defaultPrevented}function uf(u,p){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:f.setTimeout(u,p||0)}function vc(u){u.g=uf(()=>{u.g=null,u.i&&(u.i=!1,vc(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class sn extends M{constructor(p,b){super(),this.m=p,this.l=b,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:vc(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(u){M.call(this),this.h=u,this.g={}}x(br,M);var Vo=[];function jo(u){De(u.g,function(p,b){this.g.hasOwnProperty(b)&&kn(p)},u),u.g={}}br.prototype.N=function(){br.Z.N.call(this),jo(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=f.JSON.stringify,hf=f.JSON.parse,bc=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Ec(){}function Tc(){}var Jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function qt(){k.call(this,"d")}x(qt,k);function Dn(){k.call(this,"c")}x(Dn,k);var yt={},wc=null;function pa(){return wc=wc||new Tt}yt.Ia="serverreachability";function xc(u){k.call(this,yt.Ia,u)}x(xc,k);function gi(u){const p=pa();Vt(p,new xc(p))}yt.STAT_EVENT="statevent";function Er(u,p){k.call(this,yt.STAT_EVENT,u),this.stat=p}x(Er,k);function wt(u){const p=pa();Vt(p,new Er(p,u))}yt.Ja="timingevent";function yi(u,p){k.call(this,yt.Ja,u),this.size=p}x(yi,k);function _i(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},p)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function ff(u,p,b,w,P,F){u.info(function(){if(u.g)if(F){var ie="",Ne=F.split("&");for(let Ye=0;Ye<Ne.length;Ye++){var _t=Ne[Ye].split("=");if(_t.length>1){const ut=_t[0];_t=_t[1];const jn=ut.split("_");ie=jn.length>=2&&jn[1]=="type"?ie+(ut+"="+_t+"&"):ie+(ut+"=redacted&")}}}else ie=null;else ie=F;return"XMLHTTP REQ ("+w+") [attempt "+P+"]: "+p+`
`+b+`
`+ie})}function Ac(u,p,b,w,P,F,ie){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+P+"]: "+p+`
`+b+`
`+F+" "+ie})}function vi(u,p,b,w){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+df(u,b)+(w?" "+w:"")})}function Tr(u,p){u.info(function(){return"TIMEOUT: "+p})}Wn.prototype.info=function(){};function df(u,p){if(!u.g)return p;if(!p)return null;try{const F=JSON.parse(p);if(F){for(u=0;u<F.length;u++)if(Array.isArray(F[u])){var b=F[u];if(!(b.length<2)){var w=b[1];if(Array.isArray(w)&&!(w.length<1)){var P=w[0];if(P!="noop"&&P!="stop"&&P!="close")for(let ie=1;ie<w.length;ie++)w[ie]=""}}}}return _s(F)}catch{return p}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Po={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Uo;function xr(){}x(xr,Ec),xr.prototype.g=function(){return new XMLHttpRequest},Uo=new xr;function Ki(u){return encodeURIComponent(String(u))}function Sc(u){var p=1;u=u.split(":");const b=[];for(;p>0&&u.length;)b.push(u.shift()),p--;return u.length&&b.push(u.join(":")),b}function Zn(u,p,b,w){this.j=u,this.i=p,this.l=b,this.S=w||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var xt={},Ut={};function bi(u,p,b){u.M=1,u.A=Ar(St(p)),u.u=b,u.R=!0,ga(u,null)}function ga(u,p){u.F=Date.now(),Ei(u),u.B=St(u.A);var b=u.B,w=u.S;Array.isArray(w)||(w=[String(w)]),ba(b.i,"t",w),u.C=0,b=u.j.L,u.h=new ei,u.g=Bc(u.j,b?p:null,!u.u),u.P>0&&(u.O=new sn(y(u.Y,u,u.g),u.P)),p=u.V,b=u.g,w=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Vo[0]=P.toString()),P=Vo);for(let F=0;F<P.length;F++){const ie=Ae(b,P[F],w||p.handleEvent,!1,p.h||p);if(!ie)break;p.g[ie.key]=ie}p=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,p)):(u.v="GET",u.g.ea(u.B,u.v,null,p)),gi(),ff(u.i,u.v,u.B,u.l,u.S,u.u)}Zn.prototype.ba=function(u){u=u.target;const p=this.O;p&&ii(u)==3?p.j():this.Y(u)},Zn.prototype.Y=function(u){try{if(u==this.g)e:{const Ne=ii(this.g),_t=this.g.ya(),Ye=this.g.ca();if(!(Ne<3)&&(Ne!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ne!=4||_t==7||(_t==8||Ye<=0?gi(3):gi(2)),Ti(this);var p=this.g.ca();this.X=p;var b=mf(this);if(this.o=p==200,Ac(this.i,this.v,this.B,this.l,this.S,Ne,p),this.o){if(this.U&&!this.L){t:{if(this.g){var w,P=this.g;if((w=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(w)){var F=w;break t}}F=null}if(u=F)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,u);else{this.o=!1,this.m=3,wt(12),bn(this),On(this);break e}}if(this.R){u=!0;let ut;for(;!this.K&&this.C<b.length;)if(ut=Ic(this,b),ut==Ut){Ne==4&&(this.m=4,wt(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(ut==xt){this.m=4,wt(15),vi(this.i,this.l,b,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,ut,null),wi(this,ut);if(Rc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ne!=4||b.length!=0||this.h.h||(this.m=1,wt(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,b,"[Invalid Chunked Response]"),bn(this),On(this);else if(b.length>0&&!this.W){this.W=!0;var ie=this.j;ie.g==this&&ie.aa&&!ie.P&&(ie.j.info("Great, no buffering proxy detected. Bytes received: "+b.length),Zo(ie),ie.P=!0,wt(11))}}else vi(this.i,this.l,b,null),wi(this,b);Ne==4&&bn(this),this.o&&!this.K&&(Ne==4?Pc(this.j,this):(this.o=!1,Ei(this)))}else $i(this.g),p==400&&b.indexOf("Unknown SID")>0?(this.m=3,wt(12)):(this.m=0,wt(13)),bn(this),On(this)}}}catch{}finally{}};function mf(u){if(!Rc(u))return u.g.la();const p=Ft(u.g);if(p==="")return"";let b="";const w=p.length,P=ii(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),On(u),"";u.h.i=new f.TextDecoder}for(let F=0;F<w;F++)u.h.h=!0,b+=u.h.i.decode(p[F],{stream:!(P&&F==w-1)});return p.length=0,u.h.g+=b,u.C=0,u.h.g}function Rc(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function Ic(u,p){var b=u.C,w=p.indexOf(`
`,b);return w==-1?Ut:(b=Number(p.substring(b,w)),isNaN(b)?xt:(w+=1,w+b>p.length?Ut:(p=p.slice(w,w+b),u.C=w+b,p)))}Zn.prototype.cancel=function(){this.K=!0,bn(this)};function Ei(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,p){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(y(u.aa,u),p)}function Ti(u){u.D&&(f.clearTimeout(u.D),u.D=null)}Zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Tr(this.i,this.B),this.M!=2&&(gi(),wt(17)),bn(this),this.m=2,On(this)):ya(this,this.T-u)};function On(u){u.j.I==0||u.K||Pc(u.j,u)}function bn(u){Ti(u);var p=u.O;p&&typeof p.dispose=="function"&&p.dispose(),u.O=null,jo(u.V),u.g&&(p=u.g,u.g=null,p.abort(),p.dispose())}function wi(u,p){try{var b=u.j;if(b.I!=0&&(b.g==u||Ai(b.h,u))){if(!u.L&&Ai(b.h,u)&&b.I==3){try{var w=b.Ba.g.parse(p)}catch{w=null}if(Array.isArray(w)&&w.length==3){var P=w;if(P[0]==0){e:if(!b.v){if(b.g)if(b.g.F+3e3<u.F)Aa(b),Ss(b);else break e;Dr(b),wt(18)}}else b.xa=P[1],0<b.xa-b.K&&P[2]<37500&&b.F&&b.A==0&&!b.C&&(b.C=_i(y(b.Va,b),6e3));xi(b.h)<=1&&b.ta&&(b.ta=void 0)}else ki(b,11)}else if((u.L||b.g==u)&&Aa(b),!R(p))for(P=b.Ba.g.parse(p),p=0;p<P.length;p++){let Ye=P[p];const ut=Ye[0];if(!(ut<=b.K))if(b.K=ut,Ye=Ye[1],b.I==2)if(Ye[0]=="c"){b.M=Ye[1],b.ba=Ye[2];const jn=Ye[3];jn!=null&&(b.ka=jn,b.j.info("VER="+b.ka));const Di=Ye[4];Di!=null&&(b.za=Di,b.j.info("SVER="+b.za));const si=Ye[5];si!=null&&typeof si=="number"&&si>0&&(w=1.5*si,b.O=w,b.j.info("backChannelRequestTimeoutMs_="+w)),w=b;const ri=u.g;if(ri){const Or=ri.g?ri.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Or){var F=w.h;F.g||Or.indexOf("spdy")==-1&&Or.indexOf("quic")==-1&&Or.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Bo(F,F.h),F.h=null))}if(w.G){const Sa=ri.g?ri.g.getResponseHeader("X-HTTP-Session-Id"):null;Sa&&(w.wa=Sa,We(w.J,w.G,Sa))}}b.I=3,b.l&&b.l.ra(),b.aa&&(b.T=Date.now()-u.F,b.j.info("Handshake RTT: "+b.T+"ms")),w=b;var ie=u;if(w.na=zc(w,w.L?w.ba:null,w.W),ie.L){qo(w.h,ie);var Ne=ie,_t=w.O;_t&&(Ne.H=_t),Ne.D&&(Ti(Ne),Ei(Ne)),w.g=ie}else Vc(w);b.i.length>0&&Ci(b)}else Ye[0]!="stop"&&Ye[0]!="close"||ki(b,7);else b.I==3&&(Ye[0]=="stop"||Ye[0]=="close"?Ye[0]=="stop"?ki(b,7):Jo(b):Ye[0]!="noop"&&b.l&&b.l.qa(Ye),b.A=0)}}gi(4)}catch{}}var At=class{constructor(u,p){this.g=u,this.map=p}};function Lo(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function zo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function Ai(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Bo(u,p){u.g?u.g.add(p):u.h=p}function qo(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}Lo.prototype.cancel=function(){if(this.i=Fo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Fo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const b of u.g.values())p=p.concat(b.G);return p}return G(u.i)}var Nc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,p){if(u){u=u.split("&");for(let b=0;b<u.length;b++){const w=u[b].indexOf("=");let P,F=null;w>=0?(P=u[b].substring(0,w),F=u[b].substring(w+1)):P=u[b],p(P,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function En(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;u instanceof En?(this.l=u.l,Lt(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Ho(this,Oc(u.i)),this.m=u.m):u&&(p=String(u).match(Nc))?(this.l=!1,Lt(this,p[1]||"",!0),this.o=Si(p[2]||""),this.g=Si(p[3]||"",!0),vs(this,p[4]),this.h=Si(p[5]||"",!0),Ho(this,p[6]||"",!0),this.m=Si(p[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}En.prototype.toString=function(){const u=[];var p=this.j;p&&u.push(Sr(p,va,!0),":");var b=this.g;return(b||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Sr(p,va,!0),"@"),u.push(Ki(b).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.u,b!=null&&u.push(":",String(b))),(b=this.h)&&(this.g&&b.charAt(0)!="/"&&u.push("/"),u.push(Sr(b,b.charAt(0)=="/"?Go:Cc,!0))),(b=this.i.toString())&&u.push("?",b),(b=this.m)&&u.push("#",Sr(b,kc)),u.join("")},En.prototype.resolve=function(u){const p=St(this);let b=!!u.j;b?Lt(p,u.j):b=!!u.o,b?p.o=u.o:b=!!u.g,b?p.g=u.g:b=u.u!=null;var w=u.h;if(b)vs(p,u.u);else if(b=!!u.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var P=p.h.lastIndexOf("/");P!=-1&&(w=p.h.slice(0,P+1)+w)}if(P=w,P==".."||P==".")w="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){w=P.lastIndexOf("/",0)==0,P=P.split("/");const F=[];for(let ie=0;ie<P.length;){const Ne=P[ie++];Ne=="."?w&&ie==P.length&&F.push(""):Ne==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),w&&ie==P.length&&F.push("")):(F.push(Ne),w=!0)}w=F.join("/")}else w=P}return b?p.h=w:b=u.i.toString()!=="",b?Ho(p,Oc(u.i)):b=!!u.m,b&&(p.m=u.m),p};function St(u){return new En(u)}function Lt(u,p,b){u.j=b?Si(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);u.u=p}else u.u=null}function Ho(u,p,b){p instanceof Es?(u.i=p,Ea(u.i,u.l)):(b||(p=Sr(p,bs)),u.i=new Es(p,u.l))}function We(u,p,b){u.i.set(p,b)}function Ar(u){return We(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Si(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Sr(u,p,b){return typeof u=="string"?(u=encodeURI(u).replace(p,cn),b&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function cn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,Cc=/[#\?:]/g,Go=/[#\?]/g,bs=/[#\?@]/g,kc=/#/g;function Es(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function un(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(p,b){u.add(decodeURIComponent(p.replace(/\+/g," ")),b)}))}s=Es.prototype,s.add=function(u,p){un(this),this.i=null,u=Ts(this,u);let b=this.g.get(u);return b||this.g.set(u,b=[]),b.push(p),this.h+=1,this};function Dc(u,p){un(u),p=Ts(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function Ko(u,p){return un(u),p=Ts(u,p),u.g.has(p)}s.forEach=function(u,p){un(this),this.g.forEach(function(b,w){b.forEach(function(P){u.call(p,P,w,this)},this)},this)};function Qo(u,p){un(u);let b=[];if(typeof p=="string")Ko(u,p)&&(b=b.concat(u.g.get(Ts(u,p))));else for(u=Array.from(u.g.values()),p=0;p<u.length;p++)b=b.concat(u[p]);return b}s.set=function(u,p){return un(this),this.i=null,u=Ts(this,u),Ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},s.get=function(u,p){return u?(u=Qo(this,u),u.length>0?String(u[0]):p):p};function ba(u,p,b){Dc(u,p),b.length>0&&(u.i=null,u.g.set(Ts(u,p),G(b)),u.h+=b.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(let w=0;w<p.length;w++){var b=p[w];const P=Ki(b);b=Qo(this,b);for(let F=0;F<b.length;F++){let ie=P;b[F]!==""&&(ie+="="+Ki(b[F])),u.push(ie)}}return this.i=u.join("&")};function Oc(u){const p=new Es;return p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),p}function Ts(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function Ea(u,p){p&&!u.j&&(un(u),u.i=null,u.g.forEach(function(b,w){const P=w.toLowerCase();w!=P&&(Dc(this,w),ba(this,P,b))},u)),u.j=p}function ti(u,p){const b=new Wn;if(f.Image){const w=new Image;w.onload=T(Mn,b,"TestLoadImage: loaded",!0,p,w),w.onerror=T(Mn,b,"TestLoadImage: error",!1,p,w),w.onabort=T(Mn,b,"TestLoadImage: abort",!1,p,w),w.ontimeout=T(Mn,b,"TestLoadImage: timeout",!1,p,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else p(!1)}function $o(u,p){const b=new Wn,w=new AbortController,P=setTimeout(()=>{w.abort(),Mn(b,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:w.signal}).then(F=>{clearTimeout(P),F.ok?Mn(b,"TestPingServer: ok",!0,p):Mn(b,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(P),Mn(b,"TestPingServer: error",!1,p)})}function Mn(u,p,b,w,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),w(b)}catch{}}function ws(){this.g=new bc}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Ri,Ec),Ri.prototype.g=function(){return new Rr(this.i,this.h)};function Rr(u,p){Tt.call(this),this.H=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Rr,Tt),s=Rr.prototype,s.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=p,this.readyState=1,ni(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(p.body=u),(this.H||f).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},s.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}s.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?xs(this):ni(this),this.readyState==3&&Ta(this)}},s.Oa=function(u){this.g&&(this.response=this.responseText=u,xs(this))},s.Na=function(u){this.g&&(this.response=u,xs(this))},s.ga=function(){this.g&&xs(this)};function xs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ni(u)}s.setRequestHeader=function(u,p){this.A.append(u,p)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var b=p.next();!b.done;)b=b.value,u.push(b[0]+": "+b[1]),b=p.next();return u.join(`\r
`)};function ni(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Rr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Vn(u){let p="";return De(u,function(b,w){p+=w,p+=":",p+=b,p+=`\r
`}),p}function Ir(u,p,b){e:{for(w in b){var w=!1;break e}w=!0}w||(b=Vn(b),typeof u=="string"?b!=null&&Ki(b):We(u,p,b))}function tt(u){Tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(tt,Tt);var Ii=/^https?$/i,Yo=["POST","PUT"];s=tt.prototype,s.Fa=function(u){this.H=u},s.ea=function(u,p,b,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Uo.g(),this.g.onreadystatechange=S(y(this.Ca,this));try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(F){Nr(this,F);return}if(u=b||"",b=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var P in w)b.set(P,w[P]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const F of w.keys())b.set(F,w.get(F));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(b.keys()).find(F=>F.toLowerCase()=="content-type"),P=f.FormData&&u instanceof f.FormData,!(Array.prototype.indexOf.call(Yo,p,void 0)>=0)||w||P||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of b)this.g.setRequestHeader(F,ie);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(F){Nr(this,F)}};function Nr(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.o=5,Xo(u),Qi(u)}function Xo(u){u.A||(u.A=!0,Vt(u,"complete"),Vt(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Vt(this,"complete"),Vt(this,"abort"),Qi(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qi(this,!0)),tt.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Cr(this):this.Xa())},s.Xa=function(){Cr(this)};function Cr(u){if(u.h&&typeof c<"u"){if(u.v&&ii(u)==4)setTimeout(u.Ca.bind(u),0);else if(Vt(u,"readystatechange"),ii(u)==4){u.h=!1;try{const F=u.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var b;if(!(b=p)){var w;if(w=F===0){let ie=String(u.D).match(Nc)[1]||null;!ie&&f.self&&f.self.location&&(ie=f.self.location.protocol.slice(0,-1)),w=!Ii.test(ie?ie.toLowerCase():"")}b=w}if(b)Vt(u,"complete"),Vt(u,"success");else{u.o=6;try{var P=ii(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Xo(u)}}finally{Qi(u)}}}}function Qi(u,p){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const b=u.g;u.g=null,p||Vt(u,"ready");try{b.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function ii(u){return u.g?u.g.readyState:0}s.ca=function(){try{return ii(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),hf(p)}};function Ft(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function $i(u){const p={};u=(u.g&&ii(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(R(u[w]))continue;var b=Sc(u[w]);const P=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const F=p[P]||[];p[P]=F,F.push(b)}$e(p,function(w){return w.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,p,b){return b&&b.internalChannelParams&&b.internalChannelParams[u]||p}function As(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Lo(u&&u.concurrentRequestLimit),this.Ba=new ws,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=As.prototype,s.ka=8,s.I=1,s.connect=function(u,p,b,w){wt(0),this.W=u,this.H=p||{},b&&w!==void 0&&(this.H.OSID=b,this.H.OAID=w),this.F=this.X,this.J=zc(this,null,this.W),Ci(this)};function Jo(u){if(wa(u),u.I==3){var p=u.V++,b=St(u.J);if(We(b,"SID",u.M),We(b,"RID",p),We(b,"TYPE","terminate"),kr(u,b),p=new Zn(u,u.j,p),p.M=2,p.A=Ar(St(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(p.A.toString(),"")}catch{}!b&&f.Image&&(new Image().src=p.A,b=!0),b||(p.g=Bc(p.j,null),p.g.ea(p.A)),p.F=Date.now(),Ei(p)}Lc(u)}function Ss(u){u.g&&(Zo(u),u.g.cancel(),u.g=null)}function wa(u){Ss(u),u.v&&(f.clearTimeout(u.v),u.v=null),Aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&f.clearTimeout(u.m),u.m=null)}function Ci(u){if(!zo(u.h)&&!u.m){u.m=!0;var p=u.Ea;he||A(),me||(he(),me=!0),N.add(p,u),u.D=0}}function xa(u,p){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=p.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(y(u.Ea,u,p),Uc(u,u.D)),u.D++,!0)}s.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Zn(this,this.j,u);let F=this.o;if(this.U&&(F?(F=O(F),se(F,this.U)):F=this.U),this.u!==null||this.R||(P.J=F,F=null),this.S)e:{for(var p=0,b=0;b<this.i.length;b++){t:{var w=this.i[b];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(p+=w,p>4096){p=b;break e}if(p===4096||b===this.i.length-1){p=b+1;break e}}p=1e3}else p=1e3;p=Mc(this,P,p),b=St(this.J),We(b,"RID",u),We(b,"CVER",22),this.G&&We(b,"X-HTTP-Session-Id",this.G),kr(this,b),F&&(this.R?p="headers="+Ki(Vn(F))+"&"+p:this.u&&Ir(b,this.u,F)),Bo(this.h,P),this.Ra&&We(b,"TYPE","init"),this.S?(We(b,"$req",p),We(b,"SID","null"),P.U=!0,bi(P,b,null)):bi(P,b,p),this.I=2}}else this.I==3&&(u?Wo(this,u):this.i.length==0||zo(this.h)||Wo(this))};function Wo(u,p){var b;p?b=p.l:b=u.V++;const w=St(u.J);We(w,"SID",u.M),We(w,"RID",b),We(w,"AID",u.K),kr(u,w),u.u&&u.o&&Ir(w,u.u,u.o),b=new Zn(u,u.j,b,u.D+1),u.u===null&&(b.J=u.o),p&&(u.i=p.G.concat(u.i)),p=Mc(u,b,1e3),b.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Bo(u.h,b),bi(b,w,p)}function kr(u,p){u.H&&De(u.H,function(b,w){We(p,w,b)}),u.l&&De({},function(b,w){We(p,w,b)})}function Mc(u,p,b){b=Math.min(u.i.length,b);const w=u.l?y(u.l.Ka,u.l,u):null;e:{var P=u.i;let Ne=-1;for(;;){const _t=["count="+b];Ne==-1?b>0?(Ne=P[0].g,_t.push("ofs="+Ne)):Ne=0:_t.push("ofs="+Ne);let Ye=!0;for(let ut=0;ut<b;ut++){var F=P[ut].g;const jn=P[ut].map;if(F-=Ne,F<0)Ne=Math.max(0,P[ut].g-100),Ye=!1;else try{F="req"+F+"_"||"";try{var ie=jn instanceof Map?jn:Object.entries(jn);for(const[Di,si]of ie){let ri=si;m(si)&&(ri=_s(si)),_t.push(F+Di+"="+encodeURIComponent(ri))}}catch(Di){throw _t.push(F+"type="+encodeURIComponent("_badmap")),Di}}catch{w&&w(jn)}}if(Ye){ie=_t.join("&");break e}}ie=void 0}return u=u.i.splice(0,b),p.G=u,ie}function Vc(u){if(!u.g&&!u.v){u.Y=1;var p=u.Da;he||A(),me||(he(),me=!0),N.add(p,u),u.A=0}}function Dr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(y(u.Da,u),Uc(u,u.A)),u.A++,!0)}s.Da=function(){if(this.v=null,jc(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(y(this.Wa,this),u)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,wt(10),Ss(this),jc(this))};function Zo(u){u.B!=null&&(f.clearTimeout(u.B),u.B=null)}function jc(u){u.g=new Zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var p=St(u.na);We(p,"RID","rpc"),We(p,"SID",u.M),We(p,"AID",u.K),We(p,"CI",u.F?"0":"1"),!u.F&&u.ia&&We(p,"TO",u.ia),We(p,"TYPE","xmlhttp"),kr(u,p),u.u&&u.o&&Ir(p,u.u,u.o),u.O&&(u.g.H=u.O);var b=u.g;u=u.ba,b.M=1,b.A=Ar(St(p)),b.u=null,b.R=!0,ga(b,u)}s.Va=function(){this.C!=null&&(this.C=null,Ss(this),Dr(this),wt(19))};function Aa(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function Pc(u,p){var b=null;if(u.g==p){Aa(u),Zo(u),u.g=null;var w=2}else if(Ai(u.h,p))b=p.G,qo(u.h,p),w=1;else return;if(u.I!=0){if(p.o)if(w==1){b=p.u?p.u.length:0,p=Date.now()-p.F;var P=u.D;w=pa(),Vt(w,new yi(w,b)),Ci(u)}else Vc(u);else if(P=p.m,P==3||P==0&&p.X>0||!(w==1&&xa(u,p)||w==2&&Dr(u)))switch(b&&b.length>0&&(p=u.h,p.i=p.i.concat(b)),P){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Uc(u,p){let b=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(b*=2),b*p}function ki(u,p){if(u.j.info("Error code "+p),p==2){var b=y(u.bb,u),w=u.Ua;const P=!w;w=new En(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(w,"https"),Ar(w),P?ti(w.toString(),b):$o(w.toString(),b)}else wt(2);u.I=0,u.l&&u.l.pa(p),Lc(u),wa(u)}s.bb=function(u){u?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function Lc(u){if(u.I=0,u.ja=[],u.l){const p=Fo(u.h);(p.length!=0||u.i.length!=0)&&(W(u.ja,p),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function zc(u,p,b){var w=b instanceof En?St(b):new En(b);if(w.g!="")p&&(w.g=p+"."+w.g),vs(w,w.u);else{var P=f.location;w=P.protocol,p=p?p+"."+P.hostname:P.hostname,P=+P.port;const F=new En(null);w&&Lt(F,w),p&&(F.g=p),P&&vs(F,P),b&&(F.h=b),w=F}return b=u.G,p=u.wa,b&&p&&We(w,b,p),We(w,"VER",u.ka),kr(u,w),w}function Bc(u,p,b){if(p&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Aa&&!u.ma?new tt(new Ri({ab:b})):new tt(u.ma),p.Fa(u.L),p}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function qc(){}s=qc.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,p){return new rn(u,p)};function rn(u,p){Tt.call(this),this.g=new As(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(u?u["X-WebChannel-Client-Profile"]=p.sa:u={"X-WebChannel-Client-Profile":p.sa}),this.g.U=u,(u=p&&p.Qb)&&!R(u)&&(this.g.u=u),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!R(p)&&(this.g.G=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new Yi(this)}x(rn,Tt),rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Jo(this.g)},rn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var b={};b.__data__=u,u=b}else this.v&&(b={},b.__data__=_s(u),u=b);p.i.push(new At(p.Ya++,u)),p.I==3&&Ci(p)},rn.prototype.N=function(){this.g.l=null,delete this.j,Jo(this.g),delete this.g,rn.Z.N.call(this)};function Fc(u){qt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const b in p){u=b;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}x(Fc,qt);function Hc(){Dn.call(this),this.status=1}x(Hc,Dn);function Yi(u){this.g=u}x(Yi,qc),Yi.prototype.ra=function(){Vt(this.g,"a")},Yi.prototype.qa=function(u){Vt(this.g,new Fc(u))},Yi.prototype.pa=function(u){Vt(this.g,new Hc)},Yi.prototype.oa=function(){Vt(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,tE=function(){return new Rs},eE=function(){return pa()},Z1=yt,Um={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,nh=wr,Po.COMPLETE="complete",W1=Po,Tc.EventType=Jn,Jn.OPEN="a",Jn.CLOSE="b",Jn.ERROR="c",Jn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Bl=Tc,tt.prototype.listenOnce=tt.prototype.K,tt.prototype.getLastError=tt.prototype.Ha,tt.prototype.getLastErrorCode=tt.prototype.ya,tt.prototype.getStatus=tt.prototype.ca,tt.prototype.getResponseJson=tt.prototype.La,tt.prototype.getResponseText=tt.prototype.la,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Fa,J1=tt}).apply(typeof Yu<"u"?Yu:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="12.9.0";function uC(s){Ao=s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia=new zh("@firebase/firestore");function io(){return ia.logLevel}function le(s,...e){if(ia.logLevel<=Ue.DEBUG){const n=e.map(wp);ia.debug(`Firestore (${Ao}): ${s}`,...n)}}function ms(s,...e){if(ia.logLevel<=Ue.ERROR){const n=e.map(wp);ia.error(`Firestore (${Ao}): ${s}`,...n)}}function sa(s,...e){if(ia.logLevel<=Ue.WARN){const n=e.map(wp);ia.warn(`Firestore (${Ao}): ${s}`,...n)}}function wp(s){if(typeof s=="string")return s;try{return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(s,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,nE(s,r,n)}function nE(s,e,n){let r=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: ${e} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ms(r),new Error(r)}function Je(s,e,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||nE(e,o,r)}function Ie(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class oe extends Xn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Zt.UNAUTHENTICATED)))}shutdown(){}}class fC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class dC{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Je(this.o===void 0,42304);let r=this.i;const o=g=>this.i!==r?(r=this.i,n(g)):Promise.resolve();let c=new Zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zr,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=c;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Je(typeof r.accessToken=="string",31837,{l:r}),new iE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Je(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class mC{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class pC{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new mC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Nv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Je(this.o===void 0,3512);const r=c=>{c.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const f=c.token!==this.m;return this.m=c.token,le("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable((()=>r(c)))};const o=c=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Nv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Je(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Nv(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=yC(40);for(let c=0;c<o.length;++c)r.length<20&&o[c]<n&&(r+=e.charAt(o[c]%62))}return r}}function Le(s,e){return s<e?-1:s>e?1:0}function Lm(s,e){const n=Math.min(s.length,e.length);for(let r=0;r<n;r++){const o=s.charAt(r),c=e.charAt(r);if(o!==c)return wm(o)===wm(c)?Le(o,c):wm(o)?1:-1}return Le(s.length,e.length)}const _C=55296,vC=57343;function wm(s){const e=s.charCodeAt(0);return e>=_C&&e<=vC}function yo(s,e,n){return s.length===e.length&&s.every(((r,o)=>n(r,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="__name__";class Pi{constructor(e,n,r){n===void 0?n=0:n>e.length&&we(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&we(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pi?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const c=Pi.compareSegments(e.get(o),n.get(o));if(c!==0)return c}return Le(e.length,n.length)}static compareSegments(e,n){const r=Pi.isNumericId(e),o=Pi.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Pi.extractNumericId(e).compare(Pi.extractNumericId(n)):Lm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return sr.fromString(e.substring(4,e.length-2))}}class at extends Pi{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new oe(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new at(n)}static emptyPath(){return new at([])}}const bC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yt extends Pi{construct(e,n,r){return new Yt(e,n,r)}static isValidIdentifier(e){return bC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cv}static keyField(){return new Yt([Cv])}static fromServerFormat(e){const n=[];let r="",o=0;const c=()=>{if(r.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new oe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new oe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(r+=m,o++):(c(),o++)}if(c(),f)throw new oe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yt(n)}static emptyPath(){return new Yt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(at.fromString(e))}static fromName(e){return new ge(at.fromString(e).popFirst(5))}static empty(){return new ge(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new at(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sE(s,e,n){if(!n)throw new oe(X.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function EC(s,e,n,r){if(e===!0&&r===!0)throw new oe(X.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function kv(s){if(!ge.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function Dv(s){if(ge.isDocumentKey(s))throw new oe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function rE(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function Hh(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":we(12329,{type:typeof s})}function rr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new oe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(s);throw new oe(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(s,e){const n={typeString:s};return e&&(n.value=e),n}function uc(s,e){if(!rE(s))throw new oe(X.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const o=e[r].typeString,c="value"in e[r]?{value:e[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(c!==void 0&&f!==c.value){n=`Expected '${r}' field to equal '${c.value}'`;break}}if(n)throw new oe(X.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov=-62135596800,Mv=1e6;class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mv);return new ct(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new oe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Ov)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new oe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mv}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ct._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(uc(e,ct._jsonSchema))return new ct(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ct._jsonSchemaVersion="firestore/timestamp/1.0",ct._jsonSchema={type:Ot("string",ct._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new ct(0,0))}static max(){return new Se(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=-1;function TC(s,e){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new cr(o,ge.empty(),e)}function wC(s){return new cr(s.readTime,s.key,ec)}class cr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new cr(Se.min(),ge.empty(),ec)}static max(){return new cr(Se.max(),ge.empty(),ec)}}function xC(s,e){let n=s.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(s.documentKey,e.documentKey),n!==0?n:Le(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(s){if(s.code!==X.FAILED_PRECONDITION||s.message!==AC)throw s;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(r,o)},this.catchCallback=c=>{this.wrapFailure(n,c).next(r,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let o=0,c=0,f=!1;e.forEach((m=>{++o,m.next((()=>{++c,f&&c===o&&n()}),(g=>r(g)))})),f=!0,c===o&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(e,n){const r=[];return e.forEach(((o,c)=>{r.push(n.call(this,o,c))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,o)=>{const c=e.length,f=new Array(c);let m=0;for(let g=0;g<c;g++){const y=g;n(e[y]).next((T=>{f[y]=T,++m,m===c&&r(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new J(((r,o)=>{const c=()=>{e()===!0?n().next((()=>{c()}),o):r()};c()}))}}function RC(s){const e=s.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Gh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap=-1;function Kh(s){return s==null}function vh(s){return s===0&&1/s==-1/0}function IC(s){return typeof s=="number"&&Number.isInteger(s)&&!vh(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="";function NC(s){let e="";for(let n=0;n<s.length;n++)e.length>0&&(e=Vv(e)),e=CC(s.get(n),e);return Vv(e)}function CC(s,e){let n=e;const r=s.length;for(let o=0;o<r;o++){const c=s.charAt(o);switch(c){case"\0":n+="";break;case aE:n+="";break;default:n+=c}}return n}function Vv(s){return s+aE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){let e=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e++;return e}function gr(s,e){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&e(n,s[n])}function oE(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new dt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xu(this.root,e,this.comparator,!0)}}class Xu{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=n?r(e.key,n):1,n&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??$t.RED,this.left=o??$t.EMPTY,this.right=c??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,c){return new $t(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw we(43730,{key:this.key,value:this.value});if(this.right.isRed())throw we(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw we(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we(57766)}get value(){throw we(16141)}get color(){throw we(16727)}get left(){throw we(29726)}get right(){throw we(36894)}copy(e,n,r,o,c){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.comparator=e,this.data=new dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof Pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Pt(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Pt(Yt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yo(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(e);return new Xt(n)}static fromUint8Array(e){const n=(function(o){let c="";for(let f=0;f<o.length;++f)c+=String.fromCharCode(o[f]);return c})(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const kC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ur(s){if(Je(!!s,39018),typeof s=="string"){let e=0;const n=kC.exec(s);if(Je(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(s.seconds),nanos:Et(s.nanos)}}function Et(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function hr(s){return typeof s=="string"?Xt.fromBase64String(s):Xt.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="server_timestamp",uE="__type__",hE="__previous_value__",fE="__local_write_time__";function Sp(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[uE])==null?void 0:r.stringValue)===cE}function Qh(s){const e=s.mapValue.fields[hE];return Sp(e)?Qh(e):e}function tc(s){const e=ur(s.mapValue.fields[fE].timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n,r,o,c,f,m,g,y,T,x){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=c,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T,this.apiKey=x}}const bh="(default)";class nc{constructor(e,n){this.projectId=e,this.database=n||bh}static empty(){return new nc("","")}get isDefaultDatabase(){return this.database===bh}isEqual(e){return e instanceof nc&&e.projectId===this.projectId&&e.database===this.database}}function OC(s,e){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new oe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new nc(s.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="__type__",MC="__max__",Ju={mapValue:{}},mE="__vector__",Eh="value";function fr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Sp(s)?4:jC(s)?9007199254740991:VC(s)?10:11:we(28295,{value:s})}function Hi(s,e){if(s===e)return!0;const n=fr(s);if(n!==fr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return tc(s).isEqual(tc(e));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const f=ur(o.timestampValue),m=ur(c.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(s,e);case 5:return s.stringValue===e.stringValue;case 6:return(function(o,c){return hr(o.bytesValue).isEqual(hr(c.bytesValue))})(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return(function(o,c){return Et(o.geoPointValue.latitude)===Et(c.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(c.geoPointValue.longitude)})(s,e);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Et(o.integerValue)===Et(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const f=Et(o.doubleValue),m=Et(c.doubleValue);return f===m?vh(f)===vh(m):isNaN(f)&&isNaN(m)}return!1})(s,e);case 9:return yo(s.arrayValue.values||[],e.arrayValue.values||[],Hi);case 10:case 11:return(function(o,c){const f=o.mapValue.fields||{},m=c.mapValue.fields||{};if(jv(f)!==jv(m))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(m[g]===void 0||!Hi(f[g],m[g])))return!1;return!0})(s,e);default:return we(52216,{left:s})}}function ic(s,e){return(s.values||[]).find((n=>Hi(n,e)))!==void 0}function _o(s,e){if(s===e)return 0;const n=fr(s),r=fr(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(s.booleanValue,e.booleanValue);case 2:return(function(c,f){const m=Et(c.integerValue||c.doubleValue),g=Et(f.integerValue||f.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(s,e);case 3:return Uv(s.timestampValue,e.timestampValue);case 4:return Uv(tc(s),tc(e));case 5:return Lm(s.stringValue,e.stringValue);case 6:return(function(c,f){const m=hr(c),g=hr(f);return m.compareTo(g)})(s.bytesValue,e.bytesValue);case 7:return(function(c,f){const m=c.split("/"),g=f.split("/");for(let y=0;y<m.length&&y<g.length;y++){const T=Le(m[y],g[y]);if(T!==0)return T}return Le(m.length,g.length)})(s.referenceValue,e.referenceValue);case 8:return(function(c,f){const m=Le(Et(c.latitude),Et(f.latitude));return m!==0?m:Le(Et(c.longitude),Et(f.longitude))})(s.geoPointValue,e.geoPointValue);case 9:return Lv(s.arrayValue,e.arrayValue);case 10:return(function(c,f){var S,G,W,te;const m=c.fields||{},g=f.fields||{},y=(S=m[Eh])==null?void 0:S.arrayValue,T=(G=g[Eh])==null?void 0:G.arrayValue,x=Le(((W=y==null?void 0:y.values)==null?void 0:W.length)||0,((te=T==null?void 0:T.values)==null?void 0:te.length)||0);return x!==0?x:Lv(y,T)})(s.mapValue,e.mapValue);case 11:return(function(c,f){if(c===Ju.mapValue&&f===Ju.mapValue)return 0;if(c===Ju.mapValue)return 1;if(f===Ju.mapValue)return-1;const m=c.fields||{},g=Object.keys(m),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let x=0;x<g.length&&x<T.length;++x){const S=Lm(g[x],T[x]);if(S!==0)return S;const G=_o(m[g[x]],y[T[x]]);if(G!==0)return G}return Le(g.length,T.length)})(s.mapValue,e.mapValue);default:throw we(23264,{he:n})}}function Uv(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return Le(s,e);const n=ur(s),r=ur(e),o=Le(n.seconds,r.seconds);return o!==0?o:Le(n.nanos,r.nanos)}function Lv(s,e){const n=s.values||[],r=e.values||[];for(let o=0;o<n.length&&o<r.length;++o){const c=_o(n[o],r[o]);if(c)return c}return Le(n.length,r.length)}function vo(s){return zm(s)}function zm(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=ur(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return hr(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return ge.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const c of n.values||[])o?o=!1:r+=",",r+=zm(c);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",c=!0;for(const f of r)c?c=!1:o+=",",o+=`${f}:${zm(n.fields[f])}`;return o+"}"})(s.mapValue):we(61005,{value:s})}function ih(s){switch(fr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Qh(s);return e?16+ih(e):16;case 5:return 2*s.stringValue.length;case 6:return hr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,c)=>o+ih(c)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return gr(r.fields,((c,f)=>{o+=c.length+ih(f)})),o})(s.mapValue);default:throw we(13486,{value:s})}}function zv(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function Bm(s){return!!s&&"integerValue"in s}function Rp(s){return!!s&&"arrayValue"in s}function Bv(s){return!!s&&"nullValue"in s}function qv(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function sh(s){return!!s&&"mapValue"in s}function VC(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[dE])==null?void 0:r.stringValue)===mE}function Ql(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const e={mapValue:{fields:{}}};return gr(s.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ql(r))),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(s.arrayValue.values[n]);return e}return{...s}}function jC(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===MC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!sh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Yt.emptyPath(),r={},o=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,r,o),r={},o=[],n=m.popLast()}f?r[m.lastSegment()]=Ql(f):o.push(m.lastSegment())}));const c=this.getFieldsMap(n);this.applyChanges(c,r,o)}delete(e){const n=this.field(e.popLast());sh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Hi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];sh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){gr(n,((o,c)=>e[o]=c));for(const o of r)delete e[o]}clone(){return new yn(Ql(this.value))}}function pE(s){const e=[];return gr(s.fields,((n,r)=>{const o=new Yt([n]);if(sh(r)){const c=pE(r.mapValue).fields;if(c.length===0)e.push(o);else for(const f of c)e.push(o.child(f))}else e.push(o)})),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,r,o,c,f,m){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=c,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),yn.empty(),0)}static newFoundDocument(e,n,r,o){return new en(e,1,n,Se.min(),r,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n){this.position=e,this.inclusive=n}}function Fv(s,e,n){let r=0;for(let o=0;o<s.position.length;o++){const c=e[o],f=s.position[o];if(c.field.isKeyField()?r=ge.comparator(ge.fromName(f.referenceValue),n.key):r=_o(f,n.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hv(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Hi(s.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,n="asc"){this.field=e,this.dir=n}}function PC(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{}class Dt extends gE{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new LC(e,n,r):n==="array-contains"?new qC(e,r):n==="in"?new FC(e,r):n==="not-in"?new HC(e,r):n==="array-contains-any"?new GC(e,r):new Dt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new zC(e,r):new BC(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(_o(n,this.value)):n!==null&&fr(this.value)===fr(n)&&this.matchesComparison(_o(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends gE{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new mi(e,n)}matches(e){return yE(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(s){return s.op==="and"}function _E(s){return UC(s)&&yE(s)}function UC(s){for(const e of s.filters)if(e instanceof mi)return!1;return!0}function qm(s){if(s instanceof Dt)return s.field.canonicalString()+s.op.toString()+vo(s.value);if(_E(s))return s.filters.map((e=>qm(e))).join(",");{const e=s.filters.map((n=>qm(n))).join(",");return`${s.op}(${e})`}}function vE(s,e){return s instanceof Dt?(function(r,o){return o instanceof Dt&&r.op===o.op&&r.field.isEqual(o.field)&&Hi(r.value,o.value)})(s,e):s instanceof mi?(function(r,o){return o instanceof mi&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((c,f,m)=>c&&vE(f,o.filters[m])),!0):!1})(s,e):void we(19439)}function bE(s){return s instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`})(s):s instanceof mi?(function(n){return n.op.toString()+" {"+n.getFilters().map(bE).join(" ,")+"}"})(s):"Filter"}class LC extends Dt{constructor(e,n,r){super(e,n,r),this.key=ge.fromName(r.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class zC extends Dt{constructor(e,n){super(e,"in",n),this.keys=EE("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class BC extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=EE("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function EE(s,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>ge.fromName(r.referenceValue)))}class qC extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Rp(n)&&ic(n.arrayValue,this.value)}}class FC extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ic(this.value.arrayValue,n)}}class HC extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ic(this.value.arrayValue,n)}}class GC extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Rp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>ic(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n=null,r=[],o=[],c=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=c,this.startAt=f,this.endAt=m,this.Te=null}}function Gv(s,e=null,n=[],r=[],o=null,c=null,f=null){return new KC(s,e,n,r,o,c,f)}function Ip(s){const e=Ie(s);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),Kh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>vo(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>vo(r))).join(",")),e.Te=n}return e.Te}function Np(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!PC(s.orderBy[n],e.orderBy[n]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!vE(s.filters[n],e.filters[n]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Hv(s.startAt,e.startAt)&&Hv(s.endAt,e.endAt)}function Fm(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n=null,r=[],o=[],c=null,f="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=c,this.limitType=f,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QC(s,e,n,r,o,c,f,m){return new Io(s,e,n,r,o,c,f,m)}function Cp(s){return new Io(s)}function Kv(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function $C(s){return ge.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}function TE(s){return s.collectionGroup!==null}function $l(s){const e=Ie(s);if(e.Ie===null){e.Ie=[];const n=new Set;for(const c of e.explicitOrderBy)e.Ie.push(c),n.add(c.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Pt(Yt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(m=m.add(y.field))}))})),m})(e).forEach((c=>{n.has(c.canonicalString())||c.isKeyField()||e.Ie.push(new sc(c,r))})),n.has(Yt.keyField().canonicalString())||e.Ie.push(new sc(Yt.keyField(),r))}return e.Ie}function Ui(s){const e=Ie(s);return e.Ee||(e.Ee=YC(e,$l(s))),e.Ee}function YC(s,e){if(s.limitType==="F")return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new sc(o.field,c)}));const n=s.endAt?new Th(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new Th(s.startAt.position,s.startAt.inclusive):null;return Gv(s.path,s.collectionGroup,e,s.filters,s.limit,n,r)}}function Hm(s,e){const n=s.filters.concat([e]);return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),n,s.limit,s.limitType,s.startAt,s.endAt)}function XC(s,e){const n=s.explicitOrderBy.concat([e]);return new Io(s.path,s.collectionGroup,n,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}function Gm(s,e,n){return new Io(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,n,s.startAt,s.endAt)}function $h(s,e){return Np(Ui(s),Ui(e))&&s.limitType===e.limitType}function wE(s){return`${Ip(Ui(s))}|lt:${s.limitType}`}function so(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>bE(o))).join(", ")}]`),Kh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>vo(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>vo(o))).join(",")),`Target(${r})`})(Ui(s))}; limitType=${s.limitType})`}function Yh(s,e){return e.isFoundDocument()&&(function(r,o){const c=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):ge.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(s,e)&&(function(r,o){for(const c of $l(r))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(s,e)&&(function(r,o){for(const c of r.filters)if(!c.matches(o))return!1;return!0})(s,e)&&(function(r,o){return!(r.startAt&&!(function(f,m,g){const y=Fv(f,m,g);return f.inclusive?y<=0:y<0})(r.startAt,$l(r),o)||r.endAt&&!(function(f,m,g){const y=Fv(f,m,g);return f.inclusive?y>=0:y>0})(r.endAt,$l(r),o))})(s,e)}function JC(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function xE(s){return(e,n)=>{let r=!1;for(const o of $l(s)){const c=WC(o,e,n);if(c!==0)return c;r=r||o.field.isKeyField()}return 0}}function WC(s,e,n){const r=s.field.isKeyField()?ge.comparator(e.key,n.key):(function(c,f,m){const g=f.data.field(c),y=m.data.field(c);return g!==null&&y!==null?_o(g,y):we(42886)})(s.field,e,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return we(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,c]of r)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){gr(this.inner,((n,r)=>{for(const[o,c]of r)e(o,c)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC=new dt(ge.comparator);function ps(){return ZC}const AE=new dt(ge.comparator);function ql(...s){let e=AE;for(const n of s)e=e.insert(n.key,n);return e}function SE(s){let e=AE;return s.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Wr(){return Yl()}function RE(){return Yl()}function Yl(){return new ha((s=>s.toString()),((s,e)=>s.isEqual(e)))}const e4=new dt(ge.comparator),t4=new Pt(ge.comparator);function ze(...s){let e=t4;for(const n of s)e=e.add(n);return e}const n4=new Pt(Le);function i4(){return n4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function IE(s){return{integerValue:""+s}}function s4(s,e){return IC(e)?IE(e):kp(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(){this._=void 0}}function r4(s,e,n){return s instanceof wh?(function(o,c){const f={fields:{[uE]:{stringValue:cE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Sp(c)&&(c=Qh(c)),c&&(f.fields[hE]=c),{mapValue:f}})(n,e):s instanceof rc?CE(s,e):s instanceof ac?kE(s,e):(function(o,c){const f=NE(o,c),m=Qv(f)+Qv(o.Ae);return Bm(f)&&Bm(o.Ae)?IE(m):kp(o.serializer,m)})(s,e)}function a4(s,e,n){return s instanceof rc?CE(s,e):s instanceof ac?kE(s,e):n}function NE(s,e){return s instanceof xh?(function(r){return Bm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(e)?e:{integerValue:0}:null}class wh extends Xh{}class rc extends Xh{constructor(e){super(),this.elements=e}}function CE(s,e){const n=DE(e);for(const r of s.elements)n.some((o=>Hi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class ac extends Xh{constructor(e){super(),this.elements=e}}function kE(s,e){let n=DE(e);for(const r of s.elements)n=n.filter((o=>!Hi(o,r)));return{arrayValue:{values:n}}}class xh extends Xh{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Qv(s){return Et(s.integerValue||s.doubleValue)}function DE(s){return Rp(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function o4(s,e){return s.field.isEqual(e.field)&&(function(r,o){return r instanceof rc&&o instanceof rc||r instanceof ac&&o instanceof ac?yo(r.elements,o.elements,Hi):r instanceof xh&&o instanceof xh?Hi(r.Ae,o.Ae):r instanceof wh&&o instanceof wh})(s.transform,e.transform)}class l4{constructor(e,n){this.version=e,this.transformResults=n}}class hi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new hi}static exists(e){return new hi(void 0,e)}static updateTime(e){return new hi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class Jh{}function OE(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new Dp(s.key,hi.none()):new hc(s.key,s.data,hi.none());{const n=s.data,r=yn.empty();let o=new Pt(Yt.comparator);for(let c of e.fields)if(!o.has(c)){let f=n.field(c);f===null&&c.length>1&&(c=c.popLast(),f=n.field(c)),f===null?r.delete(c):r.set(c,f),o=o.add(c)}return new yr(s.key,r,new Nn(o.toArray()),hi.none())}}function c4(s,e,n){s instanceof hc?(function(o,c,f){const m=o.value.clone(),g=Yv(o.fieldTransforms,c,f.transformResults);m.setAll(g),c.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(s,e,n):s instanceof yr?(function(o,c,f){if(!rh(o.precondition,c))return void c.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,c,f.transformResults),g=c.data;g.setAll(ME(o)),g.setAll(m),c.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,e,n):(function(o,c,f){c.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function Xl(s,e,n,r){return s instanceof hc?(function(c,f,m,g){if(!rh(c.precondition,f))return m;const y=c.value.clone(),T=Xv(c.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(s,e,n,r):s instanceof yr?(function(c,f,m,g){if(!rh(c.precondition,f))return m;const y=Xv(c.fieldTransforms,g,f),T=f.data;return T.setAll(ME(c)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(s,e,n,r):(function(c,f,m){return rh(c.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(s,e,n)}function u4(s,e){let n=null;for(const r of s.fieldTransforms){const o=e.data.field(r.field),c=NE(r.transform,o||null);c!=null&&(n===null&&(n=yn.empty()),n.set(r.field,c))}return n||null}function $v(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&yo(r,o,((c,f)=>o4(c,f)))})(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class hc extends Jh{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class yr extends Jh{constructor(e,n,r,o,c=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ME(s){const e=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);e.set(n,r)}})),e}function Yv(s,e,n){const r=new Map;Je(s.length===n.length,32656,{Ve:n.length,de:s.length});for(let o=0;o<n.length;o++){const c=s[o],f=c.transform,m=e.data.field(c.field);r.set(c.field,a4(f,m,n[o]))}return r}function Xv(s,e,n){const r=new Map;for(const o of s){const c=o.transform,f=n.data.field(o.field);r.set(o.field,r4(c,f,e))}return r}class Dp extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h4 extends Jh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&c4(c,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Xl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RE();return this.mutations.forEach((o=>{const c=e.get(o.key),f=c.overlayedDocument;let m=this.applyToLocalView(f,c.mutatedFields);m=n.has(o.key)?null:m;const g=OE(f,m);g!==null&&r.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&yo(this.mutations,e.mutations,((n,r)=>$v(n,r)))&&yo(this.baseMutations,e.baseMutations,((n,r)=>$v(n,r)))}}class Op{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){Je(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let o=(function(){return e4})();const c=e.mutations;for(let f=0;f<c.length;f++)o=o.insert(c[f].key,r[f].version);return new Op(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kt,He;function p4(s){switch(s){case X.OK:return we(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return we(15467,{code:s})}}function VE(s){if(s===void 0)return ms("GRPC error has no .code"),X.UNKNOWN;switch(s){case kt.OK:return X.OK;case kt.CANCELLED:return X.CANCELLED;case kt.UNKNOWN:return X.UNKNOWN;case kt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case kt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case kt.INTERNAL:return X.INTERNAL;case kt.UNAVAILABLE:return X.UNAVAILABLE;case kt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case kt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case kt.NOT_FOUND:return X.NOT_FOUND;case kt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case kt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case kt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case kt.ABORTED:return X.ABORTED;case kt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case kt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case kt.DATA_LOSS:return X.DATA_LOSS;default:return we(39323,{code:s})}}(He=kt||(kt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g4(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=new sr([4294967295,4294967295],0);function Jv(s){const e=g4().encode(s),n=new X1;return n.update(e),new Uint8Array(n.digest())}function Wv(s){const e=new DataView(s.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new sr([n,r],0),new sr([o,c],0)]}class Mp{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(r<0)throw new Fl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=sr.fromNumber(this.ge)}ye(e,n,r){let o=e.add(n.multiply(sr.fromNumber(r)));return o.compare(y4)===1&&(o=new sr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Jv(e),[r,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);if(!this.we(f))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),f=new Mp(c,o,n);return r.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Jv(e),[r,o]=Wv(n);for(let c=0;c<this.hashCount;c++){const f=this.ye(r,o,c);this.be(f)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,r,o,c){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,fc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wh(Se.min(),o,new dt(Le),ps(),ze())}}class fc{constructor(e,n,r,o,c){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new fc(r,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n,r,o){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=o}}class jE{constructor(e,n){this.targetId=e,this.Ce=n}}class PE{constructor(e,n,r=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class Zv{constructor(){this.ve=0,this.Fe=eb(),this.Me=Xt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),r=ze();return this.Fe.forEach(((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:we(38017,{changeType:c})}})),new fc(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=eb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Je(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class _4{constructor(e){this.Ge=e,this.ze=new Map,this.je=ps(),this.He=Wu(),this.Je=Wu(),this.Ze=new dt(Le)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:we(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,r=e.Ce.count,o=this.ot(n);if(o){const c=o.target;if(Fm(c))if(r===0){const f=new ge(c.path);this.et(n,f,en.newNoDocument(f,Se.min()))}else Je(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const m=this.ut(e),g=m?this.ct(m,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:c=0}=n;let f,m;try{f=hr(r).toUint8Array()}catch(g){if(g instanceof lE)return sa("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Mp(f,o,c)}catch(g){return sa(g instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((c=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.et(n,c,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((c,f)=>{const m=this.ot(f);if(m){if(c.current&&Fm(m.target)){const g=new ge(m.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,en.newNoDocument(g,e))}c.Be&&(n.set(f,c.ke()),c.Ke())}}));let r=ze();this.Je.forEach(((c,f)=>{let m=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(c))})),this.je.forEach(((c,f)=>f.setReadTime(e)));const o=new Wh(e,n,this.Ze,this.je,r);return this.je=ps(),this.He=Wu(),this.Je=Wu(),this.Ze=new dt(Le),o}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.qe(n,1):o.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Zv,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new Pt(Le),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new Pt(Le),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Zv),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Wu(){return new dt(ge.comparator)}function eb(){return new dt(ge.comparator)}const v4={asc:"ASCENDING",desc:"DESCENDING"},b4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E4={and:"AND",or:"OR"};class T4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Km(s,e){return s.useProto3Json||Kh(e)?e:{value:e}}function Ah(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UE(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function w4(s,e){return Ah(s,e.toTimestamp())}function Li(s){return Je(!!s,49232),Se.fromTimestamp((function(n){const r=ur(n);return new ct(r.seconds,r.nanos)})(s))}function Vp(s,e){return Qm(s,e).canonicalString()}function Qm(s,e){const n=(function(o){return new at(["projects",o.projectId,"databases",o.database])})(s).child("documents");return e===void 0?n:n.child(e)}function LE(s){const e=at.fromString(s);return Je(HE(e),10190,{key:e.toString()}),e}function $m(s,e){return Vp(s.databaseId,e.path)}function xm(s,e){const n=LE(e);if(n.get(1)!==s.databaseId.projectId)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new oe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new ge(BE(n))}function zE(s,e){return Vp(s.databaseId,e)}function x4(s){const e=LE(s);return e.length===4?at.emptyPath():BE(e)}function Ym(s){return new at(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function BE(s){return Je(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function tb(s,e,n){return{name:$m(s,e),fields:n.value.mapValue.fields}}function A4(s,e){let n;if("targetChange"in e){e.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:we(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=(function(y,T){return y.useProto3Json?(Je(T===void 0||typeof T=="string",58123),Xt.fromBase64String(T||"")):(Je(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Xt.fromUint8Array(T||new Uint8Array))})(s,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(y){const T=y.code===void 0?X.UNKNOWN:VE(y.code);return new oe(T,y.message||"")})(f);n=new PE(r,o,c,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=xm(s,r.document.name),c=Li(r.document.updateTime),f=r.document.createTime?Li(r.document.createTime):Se.min(),m=new yn({mapValue:{fields:r.document.fields}}),g=en.newFoundDocument(o,c,f,m),y=r.targetIds||[],T=r.removedTargetIds||[];n=new ah(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=xm(s,r.document),c=r.readTime?Li(r.readTime):Se.min(),f=en.newNoDocument(o,c),m=r.removedTargetIds||[];n=new ah([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=xm(s,r.document),c=r.removedTargetIds||[];n=new ah([],c,o,null)}else{if(!("filter"in e))return we(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:c}=r,f=new m4(o,c),m=r.targetId;n=new jE(m,f)}}return n}function S4(s,e){let n;if(e instanceof hc)n={update:tb(s,e.key,e.value)};else if(e instanceof Dp)n={delete:$m(s,e.key)};else if(e instanceof yr)n={update:tb(s,e.key,e.data),updateMask:V4(e.fieldMask)};else{if(!(e instanceof h4))return we(16599,{dt:e.type});n={verify:$m(s,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(c,f){const m=f.transform;if(m instanceof wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof rc)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ac)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw we(20930,{transform:f.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:w4(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:we(27497)})(s,e.precondition)),n}function R4(s,e){return s&&s.length>0?(Je(e!==void 0,14353),s.map((n=>(function(o,c){let f=o.updateTime?Li(o.updateTime):Li(c);return f.isEqual(Se.min())&&(f=Li(c)),new l4(f,o.transformResults||[])})(n,e)))):[]}function I4(s,e){return{documents:[zE(s,e.path)]}}function N4(s,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=zE(s,o);const c=(function(y){if(y.length!==0)return FE(mi.create(y,"and"))})(e.filters);c&&(n.structuredQuery.where=c);const f=(function(y){if(y.length!==0)return y.map((T=>(function(S){return{field:ro(S.field),direction:D4(S.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Km(s,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function C4(s){let e=x4(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Je(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let c=[];n.where&&(c=(function(x){const S=qE(x);return S instanceof mi&&_E(S)?S.getFilters():[S]})(n.where));let f=[];n.orderBy&&(f=(function(x){return x.map((S=>(function(W){return new sc(ao(W.field),(function(ee){switch(ee){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(S)))})(n.orderBy));let m=null;n.limit&&(m=(function(x){let S;return S=typeof x=="object"?x.value:x,Kh(S)?null:S})(n.limit));let g=null;n.startAt&&(g=(function(x){const S=!!x.before,G=x.values||[];return new Th(G,S)})(n.startAt));let y=null;return n.endAt&&(y=(function(x){const S=!x.before,G=x.values||[];return new Th(G,S)})(n.endAt)),QC(e,o,f,c,m,"F",g,y)}function k4(s,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ao(n.unaryFilter.field);return Dt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ao(n.unaryFilter.field);return Dt.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return we(61313);default:return we(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Dt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return we(58110);default:return we(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return mi.create(n.compositeFilter.filters.map((r=>qE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we(1026)}})(n.compositeFilter.op))})(s):we(30097,{filter:s})}function D4(s){return v4[s]}function O4(s){return b4[s]}function M4(s){return E4[s]}function ro(s){return{fieldPath:s.canonicalString()}}function ao(s){return Yt.fromServerFormat(s.fieldPath)}function FE(s){return s instanceof Dt?(function(n){if(n.op==="=="){if(qv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:O4(n.op),value:n.value}}})(s):s instanceof mi?(function(n){const r=n.getFilters().map((o=>FE(o)));return r.length===1?r[0]:{compositeFilter:{op:M4(n.op),filters:r}}})(s):we(54877,{filter:s})}function V4(s){const e=[];return s.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function HE(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}function GE(s){return!!s&&typeof s._toProto=="function"&&s._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,n,r,o,c=Se.min(),f=Se.min(),m=Xt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new tr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new tr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.yt=e}}function P4(s){const e=C4({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Gm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(){this.Sn=new L4}addToCollectionParentIndex(e,n){return this.Sn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(cr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(cr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class L4{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Pt(at.comparator),c=!o.has(r);return this.index[n]=o.add(r),c}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Pt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},KE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(KE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bo(0)}static ar(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib="LruGarbageCollector",z4=1048576;function sb([s,e],[n,r]){const o=Le(s,n);return o===0?Le(e,r):o}class B4{constructor(e){this.Pr=e,this.buffer=new Pt(sb),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){le(ib,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?le(ib,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Ar(3e5)}))}}class F4{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Gh.ce);const r=new B4(n);return this.Vr.forEachTarget(e,(o=>r.Er(o.sequenceNumber))).next((()=>this.Vr.mr(e,(o=>r.Er(o))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(nb)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nb):this.gr(e,n)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,o,c,f,m,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,f=Date.now(),this.nthSequenceNumber(e,o)))).next((x=>(r=x,m=Date.now(),this.removeTargets(e,r,n)))).next((x=>(c=x,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(y=Date.now(),io()<=Ue.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${c} targets in `+(g-m)+`ms
	Removed ${x} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function H4(s,e){return new F4(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G4{constructor(){this.changes=new ha((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K4{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(r!==null&&Xl(r.mutation,o,Nn.empty(),ct.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,ze()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=ze()){const o=Wr();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,r).next((c=>{let f=ql();return c.forEach(((m,g)=>{f=f.insert(m,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const r=Wr();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,ze())))}populateOverlays(e,n,r){const o=[];return r.forEach((c=>{n.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(e,o).next((c=>{c.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,r,o){let c=ps();const f=Yl(),m=(function(){return Yl()})();return n.forEach(((g,y)=>{const T=r.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof yr)?c=c.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Xl(T.mutation,y,T.mutation.getFieldMask(),ct.now())):f.set(y.key,Nn.empty())})),this.recalculateAndSaveOverlays(e,c).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>m.set(y,new K4(T,f.get(y)??null)))),m)))}recalculateAndSaveOverlays(e,n){const r=Yl();let o=new dt(((f,m)=>f-m)),c=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=r.get(g)||Nn.empty();T=m.applyToLocalView(y,T),r.set(g,T);const x=(o.get(m.batchId)||ze()).add(g);o=o.insert(m.batchId,x)}))})).next((()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,T=g.value,x=RE();T.forEach((S=>{if(!c.has(S)){const G=OE(n.get(S),r.get(S));G!==null&&x.set(S,G),c=c.add(S)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,x))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,o){return $C(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next((c=>{const f=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-c.size):J.resolve(Wr());let m=ec,g=c;return f.next((y=>J.forEach(y,((T,x)=>(m<x.largestBatchId&&(m=x.largestBatchId),c.get(T)?J.resolve():this.remoteDocumentCache.getEntry(e,T).next((S=>{g=g.insert(T,S)}))))).next((()=>this.populateOverlays(e,y,c))).next((()=>this.computeViews(e,g,y,ze()))).next((T=>({batchId:m,changes:SE(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next((r=>{let o=ql();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const c=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,c).next((m=>J.forEach(m,(g=>{const y=(function(x,S){return new Io(S,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(n,g.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,r,o).next((T=>{T.forEach(((x,S)=>{f=f.insert(x,S)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,r,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((f=>(c=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,c,o)))).next((f=>{c.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))}));let m=ql();return f.forEach(((g,y)=>{const T=c.get(g);T!==void 0&&Xl(T.mutation,y,Nn.empty(),ct.now()),Yh(n,y)&&(m=m.insert(g,y))})),m}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $4{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return J.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Li(o.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,(function(o){return{name:o.name,query:P4(o.bundledQuery),readTime:Li(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(){this.overlays=new dt(ge.comparator),this.Lr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wr();return J.forEach(n,(o=>this.getOverlay(e,o).next((c=>{c!==null&&r.set(o,c)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((o,c)=>{this.bt(e,n,c)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.Lr.get(r);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.Lr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const o=Wr(),c=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===c&&g.largestBatchId>r&&o.set(g.getKey(),g)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let c=new dt(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let T=c.get(y.largestBatchId);T===null&&(T=Wr(),c=c.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Wr(),g=c.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>m.set(y,T))),!(m.size()>=o)););return J.resolve(m)}bt(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.Lr.get(o.largestBatchId).delete(r.key);this.Lr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new d4(n,r));let c=this.Lr.get(n);c===void 0&&(c=ze(),this.Lr.set(n,c)),this.Lr.set(n,c.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X4{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(){this.kr=new Pt(Bt.Kr),this.qr=new Pt(Bt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Wr(new Bt(e,n))}Qr(e,n){e.forEach((r=>this.removeReference(r,n)))}Gr(e){const n=new ge(new at([])),r=new Bt(n,e),o=new Bt(n,e+1),c=[];return this.qr.forEachInRange([r,o],(f=>{this.Wr(f),c.push(f.key)})),c}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ge(new at([])),r=new Bt(n,e),o=new Bt(n,e+1);let c=ze();return this.qr.forEachInRange([r,o],(f=>{c=c.add(f.key)})),c}containsKey(e){const n=new Bt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ge.comparator(e.key,n.key)||Le(e.Hr,n.Hr)}static Ur(e,n){return Le(e.Hr,n.Hr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new Pt(Bt.Kr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const c=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new f4(c,n,r,o);this.mutationQueue.push(f);for(const m of o)this.Jr=this.Jr.add(new Bt(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return J.resolve(f)}lookupMutationBatch(e,n){return J.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.Xr(r),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Ap:this.Yn-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),c=[];return this.Jr.forEachInRange([r,o],(f=>{const m=this.Zr(f.Hr);c.push(m)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Pt(Le);return n.forEach((o=>{const c=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([c,f],(m=>{r=r.add(m.Hr)}))})),J.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let c=r;ge.isDocumentKey(c)||(c=c.child(""));const f=new Bt(new ge(c),0);let m=new Pt(Le);return this.Jr.forEachWhile((g=>{const y=g.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Hr)),!0)}),f),J.resolve(this.Yr(m))}Yr(e){const n=[];return e.forEach((r=>{const o=this.Zr(r);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){Je(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return J.forEach(n.mutations,(o=>{const c=new Bt(o.key,n.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,n){const r=new Bt(n,0),o=this.Jr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W4{constructor(e){this.ti=e,this.docs=(function(){return new dt(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),c=o?o.size:0,f=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-c,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach((o=>{const c=this.docs.get(o);r=r.insert(o,c?c.document.mutableCopy():en.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let c=ps();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||xC(wC(T),r)<=0||(o.has(T.key)||Yh(n,T))&&(c=c.insert(T.key,T.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(e,n,r,o){we(9500)}ni(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new Z4(this)}getSize(e){return J.resolve(this.size)}}class Z4 extends G4{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Mr.addEntry(e,o)):this.Mr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e){this.persistence=e,this.ri=new ha((n=>Ip(n)),Np),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.ii=0,this.si=new jp,this.targetCount=0,this.oi=bo._r()}forEachTarget(e,n){return this.ri.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),J.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.lr(n),J.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let o=0;const c=[];return this.ri.forEach(((f,m)=>{m.sequenceNumber<=n&&r.get(m.targetId)===null&&(this.ri.delete(f),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const o=this.persistence.referenceDelegate,c=[];return o&&n.forEach((f=>{c.push(o.markPotentiallyOrphaned(e,f))})),J.waitFor(c)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this._i={},this.overlays={},this.ai=new Gh(0),this.ui=!1,this.ui=!0,this.ci=new X4,this.referenceDelegate=e(this),this.li=new ek(this),this.indexManager=new U4,this.remoteDocumentCache=(function(o){return new W4(o)})((r=>this.referenceDelegate.hi(r))),this.serializer=new j4(n),this.Pi=new $4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Y4,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new J4(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const o=new tk(this.ai.next());return this.referenceDelegate.Ti(),r(o).next((c=>this.referenceDelegate.Ii(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ei(e,n){return J.or(Object.values(this._i).map((r=>()=>r.containsKey(e,n))))}}class tk extends SC{constructor(e){super(),this.currentSequenceNumber=e}}class Pp{constructor(e){this.persistence=e,this.Ri=new jp,this.Ai=null}static Vi(e){return new Pp(e)}get di(){if(this.Ai)return this.Ai;throw we(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach((o=>this.di.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((c=>this.di.add(c.toString())))})).next((()=>r.removeTargetData(e,n)))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.di,(r=>{const o=ge.fromPath(r);return this.mi(e,o).next((c=>{c||n.removeEntry(o,Se.min())}))})).next((()=>(this.Ai=null,n.apply(e))))}updateLimboDocument(e,n){return this.mi(e,n).next((r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())}))}hi(e){return 0}mi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Sh{constructor(e,n){this.persistence=e,this.fi=new ha((r=>NC(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=H4(this,n)}static Vi(e,n){return new Sh(e,n)}Ti(){}Ii(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((o=>r+o))))}pr(e){let n=0;return this.mr(e,(r=>{n++})).next((()=>n))}mr(e,n){return J.forEach(this.fi,((r,o)=>this.wr(e,r,o).next((c=>c?J.resolve():n(o)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ni(e,(f=>this.wr(e,f,n).next((m=>{m||(r++,c.removeEntry(f,Se.min()))})))).next((()=>c.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),J.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ih(e.data.value)),n}wr(e,n,r){return J.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.fi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=o}static Es(e,n){let r=ze(),o=ze();for(const c of n.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Up(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return K2()?8:RC(tn())>0?6:4})()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,o){const c={result:null};return this.gs(e,n).next((f=>{c.result=f})).next((()=>{if(!c.result)return this.ps(e,n,o,r).next((f=>{c.result=f}))})).next((()=>{if(c.result)return;const f=new nk;return this.ys(e,n,f).next((m=>{if(c.result=m,this.As)return this.ws(e,n,f,m.size)}))})).next((()=>c.result))}ws(e,n,r,o){return r.documentReadCount<this.Vs?(io()<=Ue.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",so(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(io()<=Ue.DEBUG&&le("QueryEngine","Query:",so(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.ds*o?(io()<=Ue.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",so(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ui(n))):J.resolve())}gs(e,n){if(Kv(n))return J.resolve(null);let r=Ui(n);return this.indexManager.getIndexType(e,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=Gm(n,null,"F"),r=Ui(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((c=>{const f=ze(...c);return this.fs.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const y=this.bs(n,m);return this.Ss(n,y,f,g.readTime)?this.gs(e,Gm(n,null,"F")):this.Ds(e,y,n,g)}))))})))))}ps(e,n,r,o){return Kv(n)||o.isEqual(Se.min())?J.resolve(null):this.fs.getDocuments(e,r).next((c=>{const f=this.bs(n,c);return this.Ss(n,f,r,o)?J.resolve(null):(io()<=Ue.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),so(n)),this.Ds(e,f,n,TC(o,ec)).next((m=>m)))}))}bs(e,n){let r=new Pt(xE(e));return n.forEach(((o,c)=>{Yh(e,c)&&(r=r.add(c))})),r}Ss(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const c=e.limitType==="F"?n.last():n.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}ys(e,n,r){return io()<=Ue.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",so(n)),this.fs.getDocumentsMatchingQuery(e,n,cr.min(),r)}Ds(e,n,r,o){return this.fs.getDocumentsMatchingQuery(e,r,o).next((c=>(n.forEach((f=>{c=c.insert(f.key,f)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="LocalStore",sk=3e8;class rk{constructor(e,n,r,o){this.persistence=e,this.Cs=n,this.serializer=o,this.vs=new dt(Le),this.Fs=new ha((c=>Ip(c)),Np),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Q4(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.vs)))}}function ak(s,e,n,r){return new rk(s,e,n,r)}async function $E(s,e){const n=Ie(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((c=>(o=c,n.Os(e),n.mutationQueue.getAllMutationBatches(r)))).next((c=>{const f=[],m=[];let g=ze();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of c){m.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(r,g).next((y=>({Ns:y,removedBatchIds:f,addedBatchIds:m})))}))}))}function ok(s,e){const n=Ie(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=e.batch.keys(),c=n.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,y,T){const x=y.batch,S=x.keys();let G=J.resolve();return S.forEach((W=>{G=G.next((()=>T.getEntry(g,W))).next((te=>{const ee=y.docVersions.get(W);Je(ee!==null,48541),te.version.compareTo(ee)<0&&(x.applyToRemoteDocument(te,y),te.isValidDocument()&&(te.setReadTime(y.commitVersion),T.addEntry(te)))}))})),G.next((()=>m.mutationQueue.removeMutationBatch(g,x)))})(n,r,e,c).next((()=>c.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=ze();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function YE(s){const e=Ie(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.li.getLastRemoteSnapshotVersion(n)))}function lk(s,e){const n=Ie(s),r=e.snapshotVersion;let o=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const f=n.xs.newChangeBuffer({trackRemovals:!0});o=n.vs;const m=[];e.targetChanges.forEach(((T,x)=>{const S=o.get(x);if(!S)return;m.push(n.li.removeMatchingKeys(c,T.removedDocuments,x).next((()=>n.li.addMatchingKeys(c,T.addedDocuments,x))));let G=S.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(x)!==null?G=G.withResumeToken(Xt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(T.resumeToken,r)),o=o.insert(x,G),(function(te,ee,z){return te.resumeToken.approximateByteSize()===0||ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=sk?!0:z.addedDocuments.size+z.modifiedDocuments.size+z.removedDocuments.size>0})(S,G,T)&&m.push(n.li.updateTargetData(c,G))}));let g=ps(),y=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(c,T))})),m.push(ck(c,f,e.documentUpdates).next((T=>{g=T.Bs,y=T.Ls}))),!r.isEqual(Se.min())){const T=n.li.getLastRemoteSnapshotVersion(c).next((x=>n.li.setTargetsMetadata(c,c.currentSequenceNumber,r)));m.push(T)}return J.waitFor(m).next((()=>f.apply(c))).next((()=>n.localDocuments.getLocalViewOfDocuments(c,g,y))).next((()=>g))})).then((c=>(n.vs=o,c)))}function ck(s,e,n){let r=ze(),o=ze();return n.forEach((c=>r=r.add(c))),e.getEntries(s,r).next((c=>{let f=ps();return n.forEach(((m,g)=>{const y=c.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),f=f.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(m,g)):le(Lp,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)})),{Bs:f,Ls:o}}))}function uk(s,e){const n=Ie(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ap),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function hk(s,e){const n=Ie(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.li.getTargetData(r,e).next((c=>c?(o=c,J.resolve(o)):n.li.allocateTargetId(r).next((f=>(o=new tr(e,f,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.vs.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r}))}async function Xm(s,e,n){const r=Ie(s),o=r.vs.get(e),c=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",c,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Ro(f))throw f;le(Lp,`Failed to update sequence numbers for target ${e}: ${f}`)}r.vs=r.vs.remove(e),r.Fs.delete(o.target)}function rb(s,e,n){const r=Ie(s);let o=Se.min(),c=ze();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const x=Ie(g),S=x.Fs.get(T);return S!==void 0?J.resolve(x.vs.get(S)):x.li.getTargetData(y,T)})(r,f,Ui(e)).next((m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(f,m.targetId).next((g=>{c=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?c:ze()))).next((m=>(fk(r,JC(e),m),{documents:m,ks:c})))))}function fk(s,e,n){let r=s.Ms.get(e)||Se.min();n.forEach(((o,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),s.Ms.set(e,r)}class ab{constructor(){this.activeTargetIds=i4()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dk{constructor(){this.vo=new ab,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new ab,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ob="ConnectivityMonitor";class lb{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){le(ob,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){le(ob,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zu=null;function Jm(){return Zu===null?Zu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zu++,"0x"+Zu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="RestConnection",pk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class gk{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${o}`,this.$o=this.databaseId.database===bh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Wo(e,n,r,o,c){const f=Jm(),m=this.Qo(e,n.toUriEncodedString());le(Am,`Sending RPC '${e}' ${f}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,o,c);const{host:y}=new URL(m),T=la(y);return this.zo(e,m,g,r,T).then((x=>(le(Am,`Received RPC '${e}' ${f}: `,x),x)),(x=>{throw sa(Am,`RPC '${e}' ${f} failed with error: `,x,"url: ",m,"request:",r),x}))}jo(e,n,r,o,c,f){return this.Wo(e,n,r,o,c)}Go(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ao})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,c)=>e[c]=o)),r&&r.headers.forEach(((o,c)=>e[c]=o))}Qo(e,n){const r=pk[e];let o=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(o=`${o}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),o}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection",Ul=(s,e,n)=>{s.listen(e,(r=>{try{n(r)}catch(o){setTimeout((()=>{throw o}),0)}}))};class co extends gk{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!co.c_){const e=eE();Ul(e,Z1.STAT_EVENT,(n=>{n.stat===Um.PROXY?le(Wt,"STAT_EVENT: detected buffering proxy"):n.stat===Um.NOPROXY&&le(Wt,"STAT_EVENT: detected no buffering proxy")})),co.c_=!0}}zo(e,n,r,o,c){const f=Jm();return new Promise(((m,g)=>{const y=new J1;y.setWithCredentials(!0),y.listenOnce(W1.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case nh.NO_ERROR:const x=y.getResponseJson();le(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(x)),m(x);break;case nh.TIMEOUT:le(Wt,`RPC '${e}' ${f} timed out`),g(new oe(X.DEADLINE_EXCEEDED,"Request time out"));break;case nh.HTTP_ERROR:const S=y.getStatus();if(le(Wt,`RPC '${e}' ${f} failed with status:`,S,"response text:",y.getResponseText()),S>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G==null?void 0:G.error;if(W&&W.status&&W.message){const te=(function(z){const ye=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(ye)>=0?ye:X.UNKNOWN})(W.status);g(new oe(te,W.message))}else g(new oe(X.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new oe(X.UNAVAILABLE,"Connection failed."));break;default:we(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{le(Wt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);le(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,r,15)}))}T_(e,n,r){const o=Jm(),c=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,n,r),m.encodeInitMessageHeaders=!0;const y=c.join("");le(Wt,`Creating RPC '${e}' stream ${o}: ${y}`,m);const T=f.createWebChannel(y,m);this.I_(T);let x=!1,S=!1;const G=new yk({Ho:W=>{S?le(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(x||(le(Wt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),x=!0),le(Wt,`RPC '${e}' stream ${o} sending:`,W),T.send(W))},Jo:()=>T.close()});return Ul(T,Bl.EventType.OPEN,(()=>{S||(le(Wt,`RPC '${e}' stream ${o} transport opened.`),G.i_())})),Ul(T,Bl.EventType.CLOSE,(()=>{S||(S=!0,le(Wt,`RPC '${e}' stream ${o} transport closed`),G.o_(),this.E_(T))})),Ul(T,Bl.EventType.ERROR,(W=>{S||(S=!0,sa(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,W.name,"Message:",W.message),G.o_(new oe(X.UNAVAILABLE,"The operation could not be completed")))})),Ul(T,Bl.EventType.MESSAGE,(W=>{var te;if(!S){const ee=W.data[0];Je(!!ee,16349);const z=ee,ye=(z==null?void 0:z.error)||((te=z[0])==null?void 0:te.error);if(ye){le(Wt,`RPC '${e}' stream ${o} received error:`,ye);const ue=ye.status;let be=(function(N){const A=kt[N];if(A!==void 0)return VE(A)})(ue),he=ye.message;ue==="NOT_FOUND"&&he.includes("database")&&he.includes("does not exist")&&he.includes(this.databaseId.database)&&sa(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),be===void 0&&(be=X.INTERNAL,he="Unknown error status: "+ue+" with message "+ye.message),S=!0,G.o_(new oe(be,he)),T.close()}else le(Wt,`RPC '${e}' stream ${o} received:`,ee),G.__(ee)}})),co.u_(),setTimeout((()=>{G.s_()}),0),G}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((n=>n===e))}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return tE()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(s){return new co(s)}function Sm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(s){return new T4(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */co.c_=!1;class XE{constructor(e,n,r=1e3,o=1.5,c=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=o,this.V_=c,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb="PersistentStream";class JE{constructor(e,n,r,o,c,f,m,g){this.Ci=e,this.b_=r,this.S_=o,this.connection=c,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(ms(n.toString()),ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{e((()=>{const o=new oe(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.H_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return le(cb,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget((()=>this.D_===e?n():(le(cb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class vk extends JE{constructor(e,n,r,o,c,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=A4(this.serializer,e),r=(function(c){if(!("targetChange"in c))return Se.min();const f=c.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Li(f.readTime):Se.min()})(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Ym(this.serializer),n.addTarget=(function(c,f){let m;const g=f.target;if(m=Fm(g)?{documents:I4(c,g)}:{query:N4(c,g).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=UE(c,f.resumeToken);const y=Km(c,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Ah(c,f.snapshotVersion.toTimestamp());const y=Km(c,f.expectedCount);y!==null&&(m.expectedCount=y)}return m})(this.serializer,e);const r=k4(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Ym(this.serializer),n.removeTarget=e,this.K_(n)}}class bk extends JE{constructor(e,n,r,o,c,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=c}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=R4(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Ym(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>S4(this.serializer,r)))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{}class Tk extends Ek{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,f])=>this.connection.Wo(e,Qm(n,r),o,c,f))).catch((c=>{throw c.name==="FirebaseError"?(c.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new oe(X.UNKNOWN,c.toString())}))}jo(e,n,r,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.jo(e,Qm(n,r),o,f,m,c))).catch((f=>{throw f.name==="FirebaseError"?(f.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new oe(X.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function wk(s,e,n,r){return new Tk(s,e,n,r)}class xk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ms(n),this.aa=!1):le("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class Ak{constructor(e,n,r,o,c){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=c,this.Aa.Mo((f=>{r.enqueueAndForget((async()=>{fa(this)&&(le(ra,"Restarting streams for network reachability change."),await(async function(g){const y=Ie(g);y.Ea.add(4),await dc(y),y.Va.set("Unknown"),y.Ea.delete(4),await ef(y)})(this))}))})),this.Va=new xk(r,o)}}async function ef(s){if(fa(s))for(const e of s.Ra)await e(!0)}async function dc(s){for(const e of s.Ra)await e(!1)}function WE(s,e){const n=Ie(s);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Fp(n)?qp(n):No(n).O_()&&Bp(n,e))}function zp(s,e){const n=Ie(s),r=No(n);n.Ia.delete(e),r.O_()&&ZE(n,e),n.Ia.size===0&&(r.O_()?r.L_():fa(n)&&n.Va.set("Unknown"))}function Bp(s,e){if(s.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(s).Z_(e)}function ZE(s,e){s.da.$e(e),No(s).X_(e)}function qp(s){s.da=new _4({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),At:e=>s.Ia.get(e)||null,ht:()=>s.datastore.serializer.databaseId}),No(s).start(),s.Va.ua()}function Fp(s){return fa(s)&&!No(s).x_()&&s.Ia.size>0}function fa(s){return Ie(s).Ea.size===0}function eT(s){s.da=void 0}async function Sk(s){s.Va.set("Online")}async function Rk(s){s.Ia.forEach(((e,n)=>{Bp(s,e)}))}async function Ik(s,e){eT(s),Fp(s)?(s.Va.ha(e),qp(s)):s.Va.set("Unknown")}async function Nk(s,e,n){if(s.Va.set("Online"),e instanceof PE&&e.state===2&&e.cause)try{await(async function(o,c){const f=c.cause;for(const m of c.targetIds)o.Ia.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.Ia.delete(m),o.da.removeTarget(m))})(s,e)}catch(r){le(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Rh(s,r)}else if(e instanceof ah?s.da.Xe(e):e instanceof jE?s.da.st(e):s.da.tt(e),!n.isEqual(Se.min()))try{const r=await YE(s.localStore);n.compareTo(r)>=0&&await(function(c,f){const m=c.da.Tt(f);return m.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=c.Ia.get(y);T&&c.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),m.targetMismatches.forEach(((g,y)=>{const T=c.Ia.get(g);if(!T)return;c.Ia.set(g,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),ZE(c,g);const x=new tr(T.target,g,y,T.sequenceNumber);Bp(c,x)})),c.remoteSyncer.applyRemoteEvent(m)})(s,n)}catch(r){le(ra,"Failed to raise snapshot:",r),await Rh(s,r)}}async function Rh(s,e,n){if(!Ro(e))throw e;s.Ea.add(1),await dc(s),s.Va.set("Offline"),n||(n=()=>YE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{le(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await ef(s)}))}function tT(s,e){return e().catch((n=>Rh(s,n,e)))}async function tf(s){const e=Ie(s),n=dr(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ap;for(;Ck(e);)try{const o=await uk(e.localStore,r);if(o===null){e.Ta.length===0&&n.L_();break}r=o.batchId,kk(e,o)}catch(o){await Rh(e,o)}nT(e)&&iT(e)}function Ck(s){return fa(s)&&s.Ta.length<10}function kk(s,e){s.Ta.push(e);const n=dr(s);n.O_()&&n.Y_&&n.ea(e.mutations)}function nT(s){return fa(s)&&!dr(s).x_()&&s.Ta.length>0}function iT(s){dr(s).start()}async function Dk(s){dr(s).ra()}async function Ok(s){const e=dr(s);for(const n of s.Ta)e.ea(n.mutations)}async function Mk(s,e,n){const r=s.Ta.shift(),o=Op.from(r,e,n);await tT(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await tf(s)}async function Vk(s,e){e&&dr(s).Y_&&await(async function(r,o){if((function(f){return p4(f)&&f!==X.ABORTED})(o.code)){const c=r.Ta.shift();dr(r).B_(),await tT(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,o))),await tf(r)}})(s,e),nT(s)&&iT(s)}async function ub(s,e){const n=Ie(s);n.asyncQueue.verifyOperationInProgress(),le(ra,"RemoteStore received new credentials");const r=fa(n);n.Ea.add(3),await dc(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ef(n)}async function jk(s,e){const n=Ie(s);e?(n.Ea.delete(2),await ef(n)):e||(n.Ea.add(2),await dc(n),n.Va.set("Unknown"))}function No(s){return s.ma||(s.ma=(function(n,r,o){const c=Ie(n);return c.sa(),new vk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:Sk.bind(null,s),Yo:Rk.bind(null,s),t_:Ik.bind(null,s),J_:Nk.bind(null,s)}),s.Ra.push((async e=>{e?(s.ma.B_(),Fp(s)?qp(s):s.Va.set("Unknown")):(await s.ma.stop(),eT(s))}))),s.ma}function dr(s){return s.fa||(s.fa=(function(n,r,o){const c=Ie(n);return c.sa(),new bk(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(s.datastore,s.asyncQueue,{Zo:()=>Promise.resolve(),Yo:Dk.bind(null,s),t_:Vk.bind(null,s),ta:Ok.bind(null,s),na:Mk.bind(null,s)}),s.Ra.push((async e=>{e?(s.fa.B_(),await tf(s)):(await s.fa.stop(),s.Ta.length>0&&(le(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,n,r,o,c){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=c,this.deferred=new Zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,c){const f=Date.now()+r,m=new Hp(e,n,f,o,c);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new oe(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gp(s,e){if(ms("AsyncQueue",`${e}: ${s}`),Ro(s))return new oe(X.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{static emptySet(e){return new uo(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ge.comparator(n.key,r.key):(n,r)=>ge.comparator(n.key,r.key),this.keyedMap=ql(),this.sortedSet=new dt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,c=r.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(){this.ga=new dt(ge.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):we(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class Eo{constructor(e,n,r,o,c,f,m,g,y){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=c,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,r,o,c){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new Eo(e,n,uo.emptySet(n),f,r,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class Uk{constructor(){this.queries=fb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=Ie(n),c=o.queries;o.queries=fb(),c.forEach(((f,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new oe(X.ABORTED,"Firestore shutting down"))}}function fb(){return new ha((s=>wE(s)),$h)}async function Lk(s,e){const n=Ie(s);let r=3;const o=e.query;let c=n.queries.get(o);c?!c.Sa()&&e.Da()&&(r=2):(c=new Pk,r=e.Da()?0:1);try{switch(r){case 0:c.wa=await n.onListen(o,!0);break;case 1:c.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Gp(f,`Initialization of query '${so(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,c),c.ba.push(e),e.va(n.onlineState),c.wa&&e.Fa(c.wa)&&Kp(n)}async function zk(s,e){const n=Ie(s),r=e.query;let o=3;const c=n.queries.get(r);if(c){const f=c.ba.indexOf(e);f>=0&&(c.ba.splice(f,1),c.ba.length===0?o=e.Da()?0:1:!c.Sa()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Bk(s,e){const n=Ie(s);let r=!1;for(const o of e){const c=o.query,f=n.queries.get(c);if(f){for(const m of f.ba)m.Fa(o)&&(r=!0);f.wa=o}}r&&Kp(n)}function qk(s,e,n){const r=Ie(s),o=r.queries.get(e);if(o)for(const c of o.ba)c.onError(n);r.queries.delete(e)}function Kp(s){s.Ca.forEach((e=>{e.next()}))}var Wm,db;(db=Wm||(Wm={})).Ma="default",db.Cache="cache";class Fk{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new Eo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.key=e}}class rT{constructor(e){this.key=e}}class Hk{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ze(),this.mutatedKeys=ze(),this.eu=xE(e),this.tu=new uo(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new hb,o=n?n.tu:this.tu;let c=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,x)=>{const S=o.get(T),G=Yh(this.query,x)?x:null,W=!!S&&this.mutatedKeys.has(S.key),te=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ee=!1;S&&G?S.data.isEqual(G.data)?W!==te&&(r.track({type:3,doc:G}),ee=!0):this.su(S,G)||(r.track({type:2,doc:G}),ee=!0,(g&&this.eu(G,g)>0||y&&this.eu(G,y)<0)&&(m=!0)):!S&&G?(r.track({type:0,doc:G}),ee=!0):S&&!G&&(r.track({type:1,doc:S}),ee=!0,(g||y)&&(m=!0)),ee&&(G?(f=f.add(G),c=te?c.add(T):c.delete(T)):(f=f.delete(T),c=c.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),c=c.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Ss:m,mutatedKeys:c}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const c=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,x)=>(function(G,W){const te=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we(20277,{Vt:ee})}};return te(G)-te(W)})(T.type,x.type)||this.eu(T.doc,x.doc))),this.ou(r),o=o??!1;const m=n&&!o?this._u():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Xa;return this.Xa=g,f.length!==0||y?{snapshot:new Eo(this.query,e.tu,c,f,e.mutatedKeys,g===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hb,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Za=this.Za.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Za=this.Za.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ze(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const n=[];return e.forEach((r=>{this.Ya.has(r)||n.push(new rT(r))})),this.Ya.forEach((r=>{e.has(r)||n.push(new sT(r))})),n}cu(e){this.Za=e.ks,this.Ya=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Qp="SyncEngine";class Gk{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Kk{constructor(e){this.key=e,this.hu=!1}}class Qk{constructor(e,n,r,o,c,f){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ha((m=>wE(m)),$h),this.Iu=new Map,this.Eu=new Set,this.Ru=new dt(ge.comparator),this.Au=new Map,this.Vu=new jp,this.du={},this.mu=new Map,this.fu=bo.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $k(s,e,n=!0){const r=hT(s);let o;const c=r.Tu.get(e);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await aT(r,e,n,!0),o}async function Yk(s,e){const n=hT(s);await aT(n,e,!0,!1)}async function aT(s,e,n,r){const o=await hk(s.localStore,Ui(e)),c=o.targetId,f=s.sharedClientState.addLocalQueryTarget(c,n);let m;return r&&(m=await Xk(s,e,c,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&WE(s.remoteStore,o),m}async function Xk(s,e,n,r,o){s.pu=(x,S,G)=>(async function(te,ee,z,ye){let ue=ee.view.ru(z);ue.Ss&&(ue=await rb(te.localStore,ee.query,!1).then((({documents:N})=>ee.view.ru(N,ue))));const be=ye&&ye.targetChanges.get(ee.targetId),he=ye&&ye.targetMismatches.get(ee.targetId)!=null,me=ee.view.applyChanges(ue,te.isPrimaryClient,be,he);return pb(te,ee.targetId,me.au),me.snapshot})(s,x,S,G);const c=await rb(s.localStore,e,!0),f=new Hk(e,c.ks),m=f.ru(c.documents),g=fc.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),y=f.applyChanges(m,s.isPrimaryClient,g);pb(s,n,y.au);const T=new Gk(e,n,f);return s.Tu.set(e,T),s.Iu.has(n)?s.Iu.get(n).push(e):s.Iu.set(n,[e]),y.snapshot}async function Jk(s,e,n){const r=Ie(s),o=r.Tu.get(e),c=r.Iu.get(o.targetId);if(c.length>1)return r.Iu.set(o.targetId,c.filter((f=>!$h(f,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await Xm(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&zp(r.remoteStore,o.targetId),Zm(r,o.targetId)})).catch(So)):(Zm(r,o.targetId),await Xm(r.localStore,o.targetId,!0))}async function Wk(s,e){const n=Ie(s),r=n.Tu.get(e),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),zp(n.remoteStore,r.targetId))}async function Zk(s,e,n){const r=aD(s);try{const o=await(function(f,m){const g=Ie(f),y=ct.now(),T=m.reduce(((G,W)=>G.add(W.key)),ze());let x,S;return g.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=ps(),te=ze();return g.xs.getEntries(G,T).next((ee=>{W=ee,W.forEach(((z,ye)=>{ye.isValidDocument()||(te=te.add(z))}))})).next((()=>g.localDocuments.getOverlayedDocuments(G,W))).next((ee=>{x=ee;const z=[];for(const ye of m){const ue=u4(ye,x.get(ye.key).overlayedDocument);ue!=null&&z.push(new yr(ye.key,ue,pE(ue.value.mapValue),hi.exists(!0)))}return g.mutationQueue.addMutationBatch(G,y,z,m)})).next((ee=>{S=ee;const z=ee.applyToLocalDocumentSet(x,te);return g.documentOverlayCache.saveOverlays(G,ee.batchId,z)}))})).then((()=>({batchId:S.batchId,changes:SE(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),(function(f,m,g){let y=f.du[f.currentUser.toKey()];y||(y=new dt(Le)),y=y.insert(m,g),f.du[f.currentUser.toKey()]=y})(r,o.batchId,n),await mc(r,o.changes),await tf(r.remoteStore)}catch(o){const c=Gp(o,"Failed to persist write");n.reject(c)}}async function oT(s,e){const n=Ie(s);try{const r=await lk(n.localStore,e);e.targetChanges.forEach(((o,c)=>{const f=n.Au.get(c);f&&(Je(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Je(f.hu,14607):o.removedDocuments.size>0&&(Je(f.hu,42227),f.hu=!1))})),await mc(n,r,e)}catch(r){await So(r)}}function mb(s,e,n){const r=Ie(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((c,f)=>{const m=f.view.va(e);m.snapshot&&o.push(m.snapshot)})),(function(f,m){const g=Ie(f);g.onlineState=m;let y=!1;g.queries.forEach(((T,x)=>{for(const S of x.ba)S.va(m)&&(y=!0)})),y&&Kp(g)})(r.eventManager,e),o.length&&r.Pu.J_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function eD(s,e,n){const r=Ie(s);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Au.get(e),c=o&&o.key;if(c){let f=new dt(ge.comparator);f=f.insert(c,en.newNoDocument(c,Se.min()));const m=ze().add(c),g=new Wh(Se.min(),new Map,new dt(Le),f,m);await oT(r,g),r.Ru=r.Ru.remove(c),r.Au.delete(e),$p(r)}else await Xm(r.localStore,e,!1).then((()=>Zm(r,e,n))).catch(So)}async function tD(s,e){const n=Ie(s),r=e.batch.batchId;try{const o=await ok(n.localStore,e);cT(n,r,null),lT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await mc(n,o)}catch(o){await So(o)}}async function nD(s,e,n){const r=Ie(s);try{const o=await(function(f,m){const g=Ie(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,m).next((x=>(Je(x!==null,37113),T=x.keys(),g.mutationQueue.removeMutationBatch(y,x)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(r.localStore,e);cT(r,e,n),lT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await mc(r,o)}catch(o){await So(o)}}function lT(s,e){(s.mu.get(e)||[]).forEach((n=>{n.resolve()})),s.mu.delete(e)}function cT(s,e,n){const r=Ie(s);let o=r.du[r.currentUser.toKey()];if(o){const c=o.get(e);c&&(n?c.reject(n):c.resolve(),o=o.remove(e)),r.du[r.currentUser.toKey()]=o}}function Zm(s,e,n=null){s.sharedClientState.removeLocalQueryTarget(e);for(const r of s.Iu.get(e))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(e),s.isPrimaryClient&&s.Vu.Gr(e).forEach((r=>{s.Vu.containsKey(r)||uT(s,r)}))}function uT(s,e){s.Eu.delete(e.path.canonicalString());const n=s.Ru.get(e);n!==null&&(zp(s.remoteStore,n),s.Ru=s.Ru.remove(e),s.Au.delete(n),$p(s))}function pb(s,e,n){for(const r of n)r instanceof sT?(s.Vu.addReference(r.key,e),iD(s,r)):r instanceof rT?(le(Qp,"Document no longer in limbo: "+r.key),s.Vu.removeReference(r.key,e),s.Vu.containsKey(r.key)||uT(s,r.key)):we(19791,{wu:r})}function iD(s,e){const n=e.key,r=n.path.canonicalString();s.Ru.get(n)||s.Eu.has(r)||(le(Qp,"New document in limbo: "+n),s.Eu.add(r),$p(s))}function $p(s){for(;s.Eu.size>0&&s.Ru.size<s.maxConcurrentLimboResolutions;){const e=s.Eu.values().next().value;s.Eu.delete(e);const n=new ge(at.fromString(e)),r=s.fu.next();s.Au.set(r,new Kk(n)),s.Ru=s.Ru.insert(n,r),WE(s.remoteStore,new tr(Ui(Cp(n.path)),r,"TargetPurposeLimboResolution",Gh.ce))}}async function mc(s,e,n){const r=Ie(s),o=[],c=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{f.push(r.pu(g,e,n).then((y=>{var T;if((y||n)&&r.isPrimaryClient){const x=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(g.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(g.targetId,x?"current":"not-current")}if(y){o.push(y);const x=Up.Es(g.targetId,y);c.push(x)}})))})),await Promise.all(f),r.Pu.J_(o),await(async function(g,y){const T=Ie(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>J.forEach(y,(S=>J.forEach(S.Ts,(G=>T.persistence.referenceDelegate.addReference(x,S.targetId,G))).next((()=>J.forEach(S.Is,(G=>T.persistence.referenceDelegate.removeReference(x,S.targetId,G)))))))))}catch(x){if(!Ro(x))throw x;le(Lp,"Failed to update sequence numbers: "+x)}for(const x of y){const S=x.targetId;if(!x.fromCache){const G=T.vs.get(S),W=G.snapshotVersion,te=G.withLastLimboFreeSnapshotVersion(W);T.vs=T.vs.insert(S,te)}}})(r.localStore,c))}async function sD(s,e){const n=Ie(s);if(!n.currentUser.isEqual(e)){le(Qp,"User change. New user:",e.toKey());const r=await $E(n.localStore,e);n.currentUser=e,(function(c,f){c.mu.forEach((m=>{m.forEach((g=>{g.reject(new oe(X.CANCELLED,f))}))})),c.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mc(n,r.Ns)}}function rD(s,e){const n=Ie(s),r=n.Au.get(e);if(r&&r.hu)return ze().add(r.key);{let o=ze();const c=n.Iu.get(e);if(!c)return o;for(const f of c){const m=n.Tu.get(f);o=o.unionWith(m.view.nu)}return o}}function hT(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=oT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=eD.bind(null,e),e.Pu.J_=Bk.bind(null,e.eventManager),e.Pu.yu=qk.bind(null,e.eventManager),e}function aD(s){const e=Ie(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=tD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=nD.bind(null,e),e}class Ih{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Zh(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return ak(this.persistence,new ik,e.initialUser,this.serializer)}Cu(e){return new QE(Pp.Vi,this.serializer)}Du(e){return new dk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ih.provider={build:()=>new Ih};class oD extends Ih{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Je(this.persistence.referenceDelegate instanceof Sh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new q4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new QE((r=>Sh.Vi(r,n)),this.serializer)}}class ep{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=sD.bind(null,this.syncEngine),await jk(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Uk})()}createDatastore(e){const n=Zh(e.databaseInfo.databaseId),r=_k(e.databaseInfo);return wk(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,o,c,f,m){return new Ak(r,o,c,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>mb(this.syncEngine,n,0)),(function(){return lb.v()?new lb:new mk})())}createSyncEngine(e,n){return(function(o,c,f,m,g,y,T){const x=new Qk(o,c,f,m,g,y);return T&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(o){const c=Ie(o);le(ra,"RemoteStore shutting down."),c.Ea.add(5),await dc(c),c.Aa.shutdown(),c.Va.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ep.provider={build:()=>new ep};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ms("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr="FirestoreClient";class cD{constructor(e,n,r,o,c){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=xp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async f=>{le(mr,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(le(mr,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gp(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Rm(s,e){s.asyncQueue.verifyOperationInProgress(),le(mr,"Initializing OfflineComponentProvider");const n=s.configuration;await e.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await $E(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=e}async function gb(s,e){s.asyncQueue.verifyOperationInProgress();const n=await uD(s);le(mr,"Initializing OnlineComponentProvider"),await e.initialize(n,s.configuration),s.setCredentialChangeListener((r=>ub(e.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>ub(e.remoteStore,o))),s._onlineComponents=e}async function uD(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){le(mr,"Using user provided OfflineComponentProvider");try{await Rm(s,s._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await Rm(s,new Ih)}}else le(mr,"Using default OfflineComponentProvider"),await Rm(s,new oD(void 0));return s._offlineComponents}async function fT(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(le(mr,"Using user provided OnlineComponentProvider"),await gb(s,s._uninitializedComponentsProvider._online)):(le(mr,"Using default OnlineComponentProvider"),await gb(s,new ep))),s._onlineComponents}function hD(s){return fT(s).then((e=>e.syncEngine))}async function yb(s){const e=await fT(s),n=e.eventManager;return n.onListen=$k.bind(null,e.syncEngine),n.onUnlisten=Jk.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yk.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Wk.bind(null,e.syncEngine),n}function fD(s,e,n,r){const o=new lD(r),c=new Fk(e,o,n);return s.asyncQueue.enqueueAndForget((async()=>Lk(await yb(s),c))),()=>{o.Nu(),s.asyncQueue.enqueueAndForget((async()=>zk(await yb(s),c)))}}function dD(s,e){const n=new Zr;return s.asyncQueue.enqueueAndForget((async()=>Zk(await hD(s),e,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dT(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="ComponentProvider",_b=new Map;function pD(s,e,n,r,o){return new DC(s,e,n,o.host,o.ssl,o.experimentalForceLongPolling,o.experimentalAutoDetectLongPolling,dT(o.experimentalLongPollingOptions),o.useFetchStreams,o.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT="firestore.googleapis.com",vb=!0;class bb{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new oe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mT,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=KE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z4)throw new oe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dT(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new oe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class nf{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new oe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new oe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hC;switch(r.type){case"firstParty":return new pC(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new oe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=_b.get(n);r&&(le(mD,"Removing Datastore"),_b.delete(n),r.terminate())})(this),Promise.resolve()}}function gD(s,e,n,r={}){var y;s=rr(s,nf);const o=la(e),c=s._getSettings(),f={...c,emulatorOptions:s._getEmulatorOptions()},m=`${e}:${n}`;o&&(mp(`https://${m}`),pp("Firestore",!0)),c.host!==mT&&c.host!==m&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...c,host:m,ssl:o,emulatorOptions:r};if(!lr(g,f)&&(s._setSettings(g),r.mockUserToken)){let T,x;if(typeof r.mockUserToken=="string")T=r.mockUserToken,x=Zt.MOCK_USER;else{T=g1(r.mockUserToken,(y=s._app)==null?void 0:y.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new oe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");x=new Zt(S)}s._authCredentials=new fC(new iE(T,x))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new da(this.firestore,e,this._query)}}class Mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mt(this.firestore,e,this._key)}toJSON(){return{type:Mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(uc(n,Mt._jsonSchema))return new Mt(e,r||null,new ge(at.fromString(n.referencePath)))}}Mt._jsonSchemaVersion="firestore/documentReference/1.0",Mt._jsonSchema={type:Ot("string",Mt._jsonSchemaVersion),referencePath:Ot("string")};class ar extends da{constructor(e,n,r){super(e,n,Cp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mt(this.firestore,null,new ge(e))}withConverter(e){return new ar(this.firestore,e,this._path)}}function tp(s,e,...n){if(s=ft(s),sE("collection","path",e),s instanceof nf){const r=at.fromString(e,...n);return Dv(r),new ar(s,null,r)}{if(!(s instanceof Mt||s instanceof ar))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return Dv(r),new ar(s.firestore,null,r)}}function np(s,e,...n){if(s=ft(s),arguments.length===1&&(e=xp.newId()),sE("doc","path",e),s instanceof nf){const r=at.fromString(e,...n);return kv(r),new Mt(s,null,new ge(r))}{if(!(s instanceof Mt||s instanceof ar))throw new oe(X.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(at.fromString(e,...n));return kv(r),new Mt(s.firestore,s instanceof ar?s.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb="AsyncQueue";class Tb{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const r=Sm();r&&le(Eb,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Sm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Sm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new Zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ro(e))throw e;le(Eb,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ms("INTERNAL UNHANDLED ERROR: ",wb(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=Hp.createAndSchedule(this,e,n,r,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&we(47125,{Pc:wb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wb(s){let e=s.message||"";return s.stack&&(e=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),e}class To extends nf{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=new Tb,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Tb(e),this._firestoreClient=void 0,await e}}}function yD(s,e){const n=typeof s=="object"?s:Bh(),r=typeof s=="string"?s:bh,o=pr(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const c=d1("firestore");c&&gD(o,...c)}return o}function pT(s){if(s._terminated)throw new oe(X.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||_D(s),s._firestoreClient}function _D(s){var r,o,c,f;const e=s._freezeSettings(),n=pD(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,(o=s._app)==null?void 0:o.options.apiKey,e);s._componentsProvider||(c=e.localCache)!=null&&c._offlineComponentProvider&&((f=e.localCache)!=null&&f._onlineComponentProvider)&&(s._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),s._firestoreClient=new cD(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const y=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(y),_online:y}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kn(Xt.fromBase64String(e))}catch(n){throw new oe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Kn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(uc(e,Kn._jsonSchema))return Kn.fromBase64String(e.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:Ot("string",Kn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new oe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new oe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new oe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(e){if(uc(e,zi._jsonSchema))return new zi(e.latitude,e.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ot("string",zi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,o){if(r.length!==o.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==o[c])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(uc(e,fi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new fi(e.vectorValues);throw new oe(X.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fi._jsonSchemaVersion="firestore/vectorValue/1.0",fi._jsonSchema={type:Ot("string",fi._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=/^__.*__$/;class bD{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new hc(e,this.data,n,this.fieldTransforms)}}class gT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function yT(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we(40011,{dataSource:s})}}class Jp{constructor(e,n,r,o,c,f){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,c===void 0&&this.validatePath(),this.fieldTransforms=c||[],this.fieldMask=f||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Jp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var o;const n=(o=this.path)==null?void 0:o.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Nh(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(yT(this.dataSource)&&vD.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ED{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Zh(e)}createContext(e,n,r,o=!1){return new Jp({dataSource:e,methodName:n,targetDoc:r,path:Yt.emptyPath(),arrayElement:!1,hasConverter:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Wp(s){const e=s._freezeSettings(),n=Zh(s._databaseId);return new ED(s._databaseId,!!e.ignoreUndefinedProperties,n)}function TD(s,e,n,r,o,c={}){const f=s.createContext(c.merge||c.mergeFields?2:0,e,n,o);Zp("Data must be an object, but it was:",f,r);const m=_T(r,f);let g,y;if(c.merge)g=new Nn(f.fieldMask),y=f.fieldTransforms;else if(c.mergeFields){const T=[];for(const x of c.mergeFields){const S=wo(e,x,n);if(!f.contains(S))throw new oe(X.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);ET(T,S)||T.push(S)}g=new Nn(T),y=f.fieldTransforms.filter((x=>g.covers(x.field)))}else g=null,y=f.fieldTransforms;return new bD(new yn(m),g,y)}class sf extends Xp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function wD(s,e,n,r){const o=s.createContext(1,e,n);Zp("Data must be an object, but it was:",o,r);const c=[],f=yn.empty();gr(r,((g,y)=>{const T=bT(e,g,n);y=ft(y);const x=o.childContextForFieldPath(T);if(y instanceof sf)c.push(T);else{const S=pc(y,x);S!=null&&(c.push(T),f.set(T,S))}}));const m=new Nn(c);return new gT(f,m,o.fieldTransforms)}function xD(s,e,n,r,o,c){const f=s.createContext(1,e,n),m=[wo(e,r,n)],g=[o];if(c.length%2!=0)throw new oe(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<c.length;S+=2)m.push(wo(e,c[S])),g.push(c[S+1]);const y=[],T=yn.empty();for(let S=m.length-1;S>=0;--S)if(!ET(y,m[S])){const G=m[S];let W=g[S];W=ft(W);const te=f.childContextForFieldPath(G);if(W instanceof sf)y.push(G);else{const ee=pc(W,te);ee!=null&&(y.push(G),T.set(G,ee))}}const x=new Nn(y);return new gT(T,x,f.fieldTransforms)}function AD(s,e,n,r=!1){return pc(n,s.createContext(r?4:3,e))}function pc(s,e){if(vT(s=ft(s)))return Zp("Unsupported field value:",e,s),_T(s,e);if(s instanceof Xp)return(function(r,o){if(!yT(o.dataSource))throw o.createError(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.createError(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,o){const c=[];let f=0;for(const m of r){let g=pc(m,o.childContextForArray(f));g==null&&(g={nullValue:"NULL_VALUE"}),c.push(g),f++}return{arrayValue:{values:c}}})(s,e)}return(function(r,o){if((r=ft(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return s4(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ct.fromDate(r);return{timestampValue:Ah(o.serializer,c)}}if(r instanceof ct){const c=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ah(o.serializer,c)}}if(r instanceof zi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kn)return{bytesValue:UE(o.serializer,r._byteString)};if(r instanceof Mt){const c=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(c))throw o.createError(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Vp(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof fi)return(function(f,m){const g=f instanceof fi?f.toArray():f;return{mapValue:{fields:{[dE]:{stringValue:mE},[Eh]:{arrayValue:{values:g.map((T=>{if(typeof T!="number")throw m.createError("VectorValues must only contain numeric values.");return kp(m.serializer,T)}))}}}}}})(r,o);if(GE(r))return r._toProto(o.serializer);throw o.createError(`Unsupported field value: ${Hh(r)}`)})(s,e)}function _T(s,e){const n={};return oE(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gr(s,((r,o)=>{const c=pc(o,e.childContextForField(r));c!=null&&(n[r]=c)})),{mapValue:{fields:n}}}function vT(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ct||s instanceof zi||s instanceof Kn||s instanceof Mt||s instanceof Xp||s instanceof fi||GE(s))}function Zp(s,e,n){if(!vT(n)||!rE(n)){const r=Hh(n);throw r==="an object"?e.createError(s+" a custom object"):e.createError(s+" "+r)}}function wo(s,e,n){if((e=ft(e))instanceof Yp)return e._internalPath;if(typeof e=="string")return bT(s,e);throw Nh("Field path arguments must be of type string or ",s,!1,void 0,n)}const SD=new RegExp("[~\\*/\\[\\]]");function bT(s,e,n){if(e.search(SD)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new Yp(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function Nh(s,e,n,r,o){const c=r&&!r.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(c||f)&&(g+=" (found",c&&(g+=` in field ${r}`),f&&(g+=` in document ${o}`),g+=")"),new oe(X.INVALID_ARGUMENT,m+s+g)}function ET(s,e){return s.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{convertValue(e,n="none"){switch(fr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return gr(e,((o,c)=>{r[o]=this.convertValue(c,n)})),r}convertVectorValue(e){var r,o,c;const n=(c=(o=(r=e.fields)==null?void 0:r[Eh].arrayValue)==null?void 0:o.values)==null?void 0:c.map((f=>Et(f.doubleValue)));return new fi(n)}convertGeoPoint(e){return new zi(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(tc(e));default:return null}}convertTimestamp(e){const n=ur(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Je(HE(r),9688,{name:e});const o=new nc(r.get(1),r.get(3)),c=new ge(r.popFirst(5));return o.isEqual(n)||ms(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),c}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT extends RD{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Mt(this.firestore,null,n)}}const xb="@firebase/firestore",Ab="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(s){return(function(n,r){if(typeof n!="object"||n===null)return!1;const o=n;for(const c of r)if(c in o&&typeof o[c]=="function")return!0;return!1})(s,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,n,r,o,c){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ID(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(wo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ID extends wT{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new oe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eg{}class xT extends eg{}function AT(s,e,...n){let r=[];e instanceof eg&&r.push(e),r=r.concat(n),(function(c){const f=c.filter((g=>g instanceof ng)).length,m=c.filter((g=>g instanceof tg)).length;if(f>1||f>0&&m>0)throw new oe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const o of r)s=o._apply(s);return s}class tg extends xT{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new tg(e,n,r)}_apply(e){const n=this._parse(e);return RT(e._query,n),new da(e.firestore,e.converter,Hm(e._query,n))}_parse(e){const n=Wp(e.firestore);return(function(c,f,m,g,y,T,x){let S;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new oe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){Ib(x,T);const W=[];for(const te of x)W.push(Rb(g,c,te));S={arrayValue:{values:W}}}else S=Rb(g,c,x)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||Ib(x,T),S=AD(m,f,x,T==="in"||T==="not-in");return Dt.create(y,T,S)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ng extends eg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ng(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:mi.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,c){let f=o;const m=c.getFlattenedFilters();for(const g of m)RT(f,g),f=Hm(f,g)})(e._query,n),new da(e.firestore,e.converter,Hm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ig extends xT{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ig(e,n)}_apply(e){const n=(function(o,c,f){if(o.startAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new oe(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new sc(c,f)})(e._query,this._field,this._direction);return new da(e.firestore,e.converter,XC(e._query,n))}}function ST(s,e="asc"){const n=e,r=wo("orderBy",s);return ig._create(r,n)}function Rb(s,e,n){if(typeof(n=ft(n))=="string"){if(n==="")throw new oe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!TE(e)&&n.indexOf("/")!==-1)throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(at.fromString(n));if(!ge.isDocumentKey(r))throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zv(s,new ge(r))}if(n instanceof Mt)return zv(s,n._key);throw new oe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function Ib(s,e){if(!Array.isArray(s)||s.length===0)throw new oe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RT(s,e){const n=(function(o,c){for(const f of o)for(const m of f.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null})(s.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new oe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function CD(s,e,n){let r;return r=s?s.toFirestore(e):e,r}class Hl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ea extends wT{constructor(e,n,r,o,c,f){super(e,n,r,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(wo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ea._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ea._jsonSchemaVersion="firestore/documentSnapshot/1.0",ea._jsonSchema={type:Ot("string",ea._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class oh extends ea{data(e={}){return super.data(e)}}class ho{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Hl(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new oh(this._firestore,this._userDataWriter,r.key,r,new Hl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new oe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((m=>c||m.type!==3)).map((m=>{const g=new oh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Hl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:kD(m.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new oe(X.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=ho._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=xp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(n.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kD(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we(61501,{type:s})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho._jsonSchemaVersion="firestore/querySnapshot/1.0",ho._jsonSchema={type:Ot("string",ho._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};function DD(s,e,n,...r){s=rr(s,Mt);const o=rr(s.firestore,To),c=Wp(o);let f;return f=typeof(e=ft(e))=="string"||e instanceof Yp?xD(c,"updateDoc",s._key,e,n,r):wD(c,"updateDoc",s._key,e),sg(o,[f.toMutation(s._key,hi.exists(!0))])}function OD(s){return sg(rr(s.firestore,To),[new Dp(s._key,hi.none())])}function MD(s,e){const n=rr(s.firestore,To),r=np(s),o=CD(s.converter,e),c=Wp(s.firestore);return sg(n,[TD(c,"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,hi.exists(!1))]).then((()=>r))}function IT(s,...e){var y,T,x;s=ft(s);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||Sb(e[r])||(n=e[r++]);const o={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Sb(e[r])){const S=e[r];e[r]=(y=S.next)==null?void 0:y.bind(S),e[r+1]=(T=S.error)==null?void 0:T.bind(S),e[r+2]=(x=S.complete)==null?void 0:x.bind(S)}let c,f,m;if(s instanceof Mt)f=rr(s.firestore,To),m=Cp(s._key.path),c={next:S=>{e[r]&&e[r](VD(f,s,S))},error:e[r+1],complete:e[r+2]};else{const S=rr(s,da);f=rr(S.firestore,To),m=S._query;const G=new TT(f);c={next:W=>{e[r]&&e[r](new ho(f,G,S,W))},error:e[r+1],complete:e[r+2]},ND(s._query)}const g=pT(f);return fD(g,m,o,c)}function sg(s,e){const n=pT(s);return dD(n,e)}function VD(s,e,n){const r=n.docs.get(e._key),o=new TT(s);return new ea(s,o,e._key,r,new Hl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){uC(ua),di(new Yn("firestore",((r,{instanceIdentifier:o,options:c})=>{const f=r.getProvider("app").getImmediate(),m=new To(new dC(r.getProvider("auth-internal")),new gC(f,r.getProvider("app-check-internal")),OC(f,o),f);return c={useFetchStreams:n,...c},m._setSettings(c),m}),"PUBLIC").setMultipleInstances(!0)),_n(xb,Ab,e),_n(xb,Ab,"esm2020")})();function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jD=NT,CT=new ca("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ch=new zh("@firebase/auth");function PD(s,...e){Ch.logLevel<=Ue.WARN&&Ch.warn(`Auth (${ua}): ${s}`,...e)}function lh(s,...e){Ch.logLevel<=Ue.ERROR&&Ch.error(`Auth (${ua}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(s,...e){throw rg(s,...e)}function Bi(s,...e){return rg(s,...e)}function kT(s,e,n){const r={...jD(),[e]:n};return new ca("auth","Firebase",r).create(e,{appName:s.name})}function or(s){return kT(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function rg(s,...e){if(typeof s!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return CT.create(s,...e)}function Te(s,e,...n){if(!s)throw rg(e,...n)}function hs(s){const e="INTERNAL ASSERTION FAILED: "+s;throw lh(e),new Error(e)}function gs(s,e){s||hs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function UD(){return Nb()==="http:"||Nb()==="https:"}function Nb(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(UD()||y1()||"connection"in navigator)?navigator.onLine:!0}function zD(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n){this.shortDelay=e,this.longDelay=n,gs(n>e,"Short delay should be less than long delay!"),this.isMobile=B2()||H2()}get(){return LD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ag(s,e){gs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],FD=new gc(3e4,6e4);function ma(s,e){return s.tenantId&&!e.tenantId?{...e,tenantId:s.tenantId}:e}async function _r(s,e,n,r,o={}){return OT(s,o,async()=>{let c={},f={};r&&(e==="GET"?f=r:c={body:JSON.stringify(r)});const m=cc({key:s.config.apiKey,...f}).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y={method:e,headers:g,...c};return F2()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&la(s.emulatorConfig.host)&&(y.credentials="include"),DT.fetch()(await MT(s,s.config.apiHost,n,m),y)})}async function OT(s,e,n){s._canInitEmulator=!1;const r={...BD,...e};try{const o=new GD(s),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await c.json();if("needConfirmation"in f)throw eh(s,"account-exists-with-different-credential",f);if(c.ok&&!("errorMessage"in f))return f;{const m=c.ok?f.errorMessage:f.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(s,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw eh(s,"email-already-in-use",f);if(g==="USER_DISABLED")throw eh(s,"user-disabled",f);const T=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw kT(s,T,y);pi(s,T)}}catch(o){if(o instanceof Xn)throw o;pi(s,"network-request-failed",{message:String(o)})}}async function rf(s,e,n,r,o={}){const c=await _r(s,e,n,r,o);return"mfaPendingCredential"in c&&pi(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function MT(s,e,n,r){const o=`${e}${n}?${r}`,c=s,f=c.config.emulator?ag(s.config,o):`${s.config.apiScheme}://${o}`;return qD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(f).toString():f}function HD(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class GD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Bi(this.auth,"network-request-failed")),FD.get())})}}function eh(s,e,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Bi(s,e,r);return o.customData._tokenResponse=n,o}function Cb(s){return s!==void 0&&s.enterprise!==void 0}class KD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return HD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function QD(s,e){return _r(s,"GET","/v2/recaptchaConfig",ma(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D(s,e){return _r(s,"POST","/v1/accounts:delete",e)}async function kh(s,e){return _r(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YD(s,e=!1){const n=ft(s),r=await n.getIdToken(e),o=og(r);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,f=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:Jl(Im(o.auth_time)),issuedAtTime:Jl(Im(o.iat)),expirationTime:Jl(Im(o.exp)),signInProvider:f||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Im(s){return Number(s)*1e3}function og(s){const[e,n,r]=s.split(".");if(e===void 0||n===void 0||r===void 0)return lh("JWT malformed, contained fewer than 3 sections"),null;try{const o=h1(n);return o?JSON.parse(o):(lh("Failed to decode base64 JWT payload"),null)}catch(o){return lh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kb(s){const e=og(s);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(s,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Xn&&XD(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function XD({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dh(s){var x;const e=s.auth,n=await s.getIdToken(),r=await oc(s,kh(e,{idToken:n}));Te(r==null?void 0:r.users.length,e,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const c=(x=o.providerUserInfo)!=null&&x.length?VT(o.providerUserInfo):[],f=ZD(s.providerData,c),m=s.isAnonymous,g=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),y=m?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(s,T)}async function WD(s){const e=ft(s);await Dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ZD(s,e){return[...s.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function VT(s){return s.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eO(s,e){const n=await OT(s,{},async()=>{const r=cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,f=await MT(s,o,"/v1/token",`key=${c}`),m=await s._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return s.emulatorConfig&&la(s.emulatorConfig.host)&&(g.credentials="include"),DT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function tO(s,e){return _r(s,"POST","/v2/accounts:revokeToken",ma(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=kb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await eO(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,f=new fo;return r&&(Te(typeof r=="string","internal-error",{appName:e}),f.refreshToken=r),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),c&&(Te(typeof c=="number","internal-error",{appName:e}),f.expirationTime=c),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return hs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(s,e){Te(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ui{constructor({uid:e,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new JD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new sp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await oc(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YD(this,e)}reload(){return WD(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Dh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await oc(this,$D(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,o=n.email??void 0,c=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:x,emailVerified:S,isAnonymous:G,providerData:W,stsTokenManager:te}=n;Te(x&&te,e,"internal-error");const ee=fo.fromJSON(this.name,te);Te(typeof x=="string",e,"internal-error"),Xs(r,e.name),Xs(o,e.name),Te(typeof S=="boolean",e,"internal-error"),Te(typeof G=="boolean",e,"internal-error"),Xs(c,e.name),Xs(f,e.name),Xs(m,e.name),Xs(g,e.name),Xs(y,e.name),Xs(T,e.name);const z=new ui({uid:x,auth:e,email:o,emailVerified:S,displayName:r,isAnonymous:G,photoURL:f,phoneNumber:c,tenantId:m,stsTokenManager:ee,createdAt:y,lastLoginAt:T});return W&&Array.isArray(W)&&(z.providerData=W.map(ye=>({...ye}))),g&&(z._redirectEventId=g),z}static async _fromIdTokenResponse(e,n,r=!1){const o=new fo;o.updateFromServerResponse(n);const c=new ui({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Dh(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?VT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new fo;m.updateFromIdToken(r);const g=new ui({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new sp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Db=new Map;function fs(s){gs(s instanceof Function,"Expected a class definition");let e=Db.get(s);return e?(gs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,Db.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}jT.type="NONE";const Ob=jT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(s,e,n){return`firebase:${s}:${e}:${n}`}class mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=ch(this.userKey,o.apiKey,c),this.fullPersistenceKey=ch("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await kh(this.auth,{idToken:e}).catch(()=>{});return n?ui._fromGetAccountInfoResponse(this.auth,n,e):null}return ui._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new mo(fs(Ob),e,r);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||fs(Ob);const f=ch(r,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){let x;if(typeof T=="string"){const S=await kh(e,{idToken:T}).catch(()=>{});if(!S)break;x=await ui._fromGetAccountInfoResponse(e,S,T)}else x=ui._fromJSON(e,T);y!==c&&(m=x),c=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new mo(c,e,r):(c=g[0],m&&await c._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==c)try{await y._remove(f)}catch{}})),new mo(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(FT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||LT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function PT(s=tn()){return/firefox\//i.test(s)}function UT(s=tn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LT(s=tn()){return/crios\//i.test(s)}function zT(s=tn()){return/iemobile/i.test(s)}function BT(s=tn()){return/android/i.test(s)}function qT(s=tn()){return/blackberry/i.test(s)}function FT(s=tn()){return/webos/i.test(s)}function lg(s=tn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function nO(s=tn()){var e;return lg(s)&&!!((e=window.navigator)!=null&&e.standalone)}function iO(){return G2()&&document.documentMode===10}function HT(s=tn()){return lg(s)||BT(s)||FT(s)||qT(s)||/windows phone/i.test(s)||zT(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(s,e=[]){let n;switch(s){case"Browser":n=Mb(tn());break;case"Worker":n=`${Mb(tn())}-${s}`;break;default:n=s}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((f,m)=>{try{const g=e(c);f(g)}catch(g){m(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rO(s,e={}){return _r(s,"GET","/v2/passwordPolicy",ma(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO=6;class oO{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??aO,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vb(this),this.idTokenSubscription=new Vb(this),this.beforeStateQueue=new sO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fs(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)==null?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await kh(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var c;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(c=this.redirectUser)==null?void 0:c._redirectEventId,m=r==null?void 0:r._redirectEventId,g=await this.tryRedirectSignIn(e);(!f||f===m)&&(g!=null&&g.user)&&(r=g.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Dh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(or(this));const n=e?ft(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rO(this),n=new oO(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ca("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await tO(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fs(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[fs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{f||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&PD(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Co(s){return ft(s)}class Vb{constructor(e){this.auth=e,this.observer=null,this.addObserver=W2(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cO(s){af=s}function KT(s){return af.loadJS(s)}function uO(){return af.recaptchaEnterpriseScript}function hO(){return af.gapiScript}function fO(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class dO{constructor(){this.enterprise=new mO}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class mO{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const pO="recaptcha-enterprise",QT="NO_RECAPTCHA";class gO{constructor(e){this.type=pO,this.auth=Co(e)}async verify(e="verify",n=!1){async function r(c){if(!n){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(f,m)=>{QD(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new KD(g);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,f(y.siteKey)}}).catch(g=>{m(g)})})}function o(c,f,m){const g=window.grecaptcha;Cb(g)?g.enterprise.ready(()=>{g.enterprise.execute(c,{action:e}).then(y=>{f(y)}).catch(()=>{f(QT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new dO().execute("siteKey",{action:"verify"}):new Promise((c,f)=>{r(this.auth).then(m=>{if(!n&&Cb(window.grecaptcha))o(m,c,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=uO();g.length!==0&&(g+=m),KT(g).then(()=>{o(m,c,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function jb(s,e,n,r=!1,o=!1){const c=new gO(s);let f;if(o)f=QT;else try{f=await c.verify(n)}catch{f=await c.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const g=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const g=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return r?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Pb(s,e,n,r,o){var c;if((c=s._getRecaptchaConfig())!=null&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await jb(s,e,n,n==="getOobCode");return r(s,f)}else return r(s,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await jb(s,e,n,n==="getOobCode");return r(s,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(s,e){const n=pr(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(lr(c,e??{}))return o;pi(o,"already-initialized")}return n.initialize({options:e})}function _O(s,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fs);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function vO(s,e,n){const r=Co(s);Te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=$T(e),{host:f,port:m}=bO(e),g=m===null?"":`:${m}`,y={url:`${c}//${f}${g}/`},T=Object.freeze({host:f,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Te(lr(y,r.config.emulator)&&lr(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,la(f)?(mp(`${c}//${f}${g}`),pp("Auth",!0)):EO()}function $T(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function bO(s){const e=$T(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:Ub(r.substr(c.length+1))}}else{const[c,f]=r.split(":");return{host:c,port:Ub(f)}}}function Ub(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function EO(){function s(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hs("not implemented")}_getIdTokenResponse(e){return hs("not implemented")}_linkToIdToken(e,n){return hs("not implemented")}_getReauthenticationResolver(e){return hs("not implemented")}}async function TO(s,e){return _r(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(s,e){return rf(s,"POST","/v1/accounts:signInWithPassword",ma(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xO(s,e){return rf(s,"POST","/v1/accounts:signInWithEmailLink",ma(s,e))}async function AO(s,e){return rf(s,"POST","/v1/accounts:signInWithEmailLink",ma(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends cg{constructor(e,n,r,o=null){super("password",r),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new lc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,n,"signInWithPassword",wO);case"emailLink":return xO(e,{email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Pb(e,r,"signUpPassword",TO);case"emailLink":return AO(e,{idToken:n,email:this._email,oobCode:this._password});default:pi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(s,e){return rf(s,"POST","/v1/accounts:signInWithIdp",ma(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SO="http://localhost";class aa extends cg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o,...c}=n;if(!r||!o)return null;const f=new aa(r,o);return f.idToken=c.idToken||void 0,f.accessToken=c.accessToken||void 0,f.secret=c.secret,f.nonce=c.nonce,f.pendingToken=c.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:SO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=cc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IO(s){const e=Ll(zl(s)).link,n=e?Ll(zl(e)).deep_link_id:null,r=Ll(zl(s)).deep_link_id;return(r?Ll(zl(r)).link:null)||r||n||e||s}class ug{constructor(e){const n=Ll(zl(e)),r=n.apiKey??null,o=n.oobCode??null,c=RO(n.mode??null);Te(r&&o&&c,"argument-error"),this.apiKey=r,this.operation=c,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=IO(e);try{return new ug(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(){this.providerId=ko.PROVIDER_ID}static credential(e,n){return lc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ug.parseLink(n);return Te(r,"argument-error"),lc._fromEmailAndCode(e,r.code,r.tenantId)}}ko.PROVIDER_ID="password";ko.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ko.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js extends yc{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Js.credentialFromTaggedObject(e)}static credentialFromError(e){return Js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Js.credential(e.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends yc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ws.credential(n,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zs extends yc{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:Zs.PROVIDER_ID,signInMethod:Zs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zs.credentialFromTaggedObject(e)}static credentialFromError(e){return Zs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zs.credential(e.oauthAccessToken)}catch{return null}}}Zs.GITHUB_SIGN_IN_METHOD="github.com";Zs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er extends yc{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return er.credentialFromTaggedObject(e)}static credentialFromError(e){return er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return er.credential(n,r)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await ui._fromIdTokenResponse(e,r,o),f=Lb(r);return new xo({user:c,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Lb(r);return new xo({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Lb(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends Xn{constructor(e,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Oh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Oh(e,n,r,o)}}function XT(s,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Oh._fromErrorAndOperation(s,c,e,r):c})}async function NO(s,e,n=!1){const r=await oc(s,e._linkToIdToken(s.auth,await s.getIdToken()),n);return xo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CO(s,e,n=!1){const{auth:r}=s;if(Gn(r.app))return Promise.reject(or(r));const o="reauthenticate";try{const c=await oc(s,XT(r,o,e,s),n);Te(c.idToken,r,"internal-error");const f=og(c.idToken);Te(f,r,"internal-error");const{sub:m}=f;return Te(s.uid===m,r,"user-mismatch"),xo._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&pi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JT(s,e,n=!1){if(Gn(s.app))return Promise.reject(or(s));const r="signIn",o=await XT(s,r,e),c=await xo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(c.user),c}async function kO(s,e){return JT(Co(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO(s){const e=Co(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function OO(s,e,n){return Gn(s.app)?Promise.reject(or(s)):kO(ft(s),ko.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&DO(s),r})}function MO(s,e,n,r){return ft(s).onIdTokenChanged(e,n,r)}function VO(s,e,n){return ft(s).beforeAuthStateChanged(e,n)}function jO(s,e,n,r){return ft(s).onAuthStateChanged(e,n,r)}function PO(s){return ft(s).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO=1e3,LO=10;class ZT extends WT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=HT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,g)=>{this.notifyListeners(f,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},c=this.storage.getItem(r);iO()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,LO):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const zO=ZT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends WT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}ew.type="SESSION";const tw=ew;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new of(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,c)),g=await BO(m);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}of.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hg(s="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,f;return new Promise((m,g)=>{const y=hg("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(x){const S=x;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(T),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(S.data.response);break;default:clearTimeout(T),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qi(){return window}function FO(s){qi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(){return typeof qi().WorkerGlobalScope<"u"&&typeof qi().importScripts=="function"}async function HO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GO(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function KO(){return nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebaseLocalStorageDb",QO=1,Vh="firebaseLocalStorage",sw="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function lf(s,e){return s.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function $O(){const s=indexedDB.deleteDatabase(iw);return new _c(s).toPromise()}function rp(){const s=indexedDB.open(iw,QO);return new Promise((e,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(Vh,{keyPath:sw})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await $O(),e(await rp()))})})}async function zb(s,e,n){const r=lf(s,!0).put({[sw]:e,value:n});return new _c(r).toPromise()}async function YO(s,e){const n=lf(s,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function Bb(s,e){const n=lf(s,!0).delete(e);return new _c(n).toPromise()}const XO=800,JO=3;class rw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>JO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=of._getInstance(KO()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await HO(),!this.activeServiceWorker)return;this.sender=new qO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await zb(e,Mh,"1"),await Bb(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>YO(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Bb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=lf(o,!1).getAll();return new _c(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rw.type="LOCAL";const WO=rw;new gc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZO(s,e){return e?fs(e):(Te(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg extends cg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function e6(s){return JT(s.auth,new fg(s),s.bypassAuthState)}function t6(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),CO(n,new fg(s),s.bypassAuthState)}async function n6(s){const{auth:e,user:n}=s;return Te(n,e,"internal-error"),NO(n,new fg(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:f,type:m}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return e6;case"linkViaPopup":case"linkViaRedirect":return n6;case"reauthViaPopup":case"reauthViaRedirect":return t6;default:pi(this.auth,"internal-error")}}resolve(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new gc(2e3,1e4);class oo extends aw{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const e=hg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Bi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Bi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Bi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i6.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6="pendingRedirect",uh=new Map;class r6 extends aw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const r=await a6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function a6(s,e){const n=c6(e),r=l6(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function o6(s,e){uh.set(s._key(),e)}function l6(s){return fs(s._redirectPersistence)}function c6(s){return ch(s6,s.config.apiKey,s.name)}async function u6(s,e,n=!1){if(Gn(s.app))return Promise.reject(or(s));const r=Co(s),o=ZO(r,e),f=await new r6(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=600*1e3;class f6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ow(e)){const o=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Bi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=h6&&this.cachedEventUids.clear(),this.cachedEventUids.has(qb(e))}saveEventToCache(e){this.cachedEventUids.add(qb(e)),this.lastProcessedEventTime=Date.now()}}function qb(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function ow({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d6(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(s,e={}){return _r(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,g6=/^https?/;async function y6(s){if(s.config.emulator)return;const{authorizedDomains:e}=await m6(s);for(const n of e)try{if(_6(n))return}catch{}pi(s,"unauthorized-domain")}function _6(s){const e=ip(),{protocol:n,hostname:r}=new URL(e);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!g6.test(n))return!1;if(p6.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6=new gc(3e4,6e4);function Fb(){const s=qi().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function b6(s){return new Promise((e,n)=>{var o,c,f;function r(){Fb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fb(),n(Bi(s,"network-request-failed"))},timeout:v6.get()})}if((c=(o=qi().gapi)==null?void 0:o.iframes)!=null&&c.Iframe)e(gapi.iframes.getContext());else if((f=qi().gapi)!=null&&f.load)r();else{const m=fO("iframefcb");return qi()[m]=()=>{gapi.load?r():n(Bi(s,"network-request-failed"))},KT(`${hO()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw hh=null,e})}let hh=null;function E6(s){return hh=hh||b6(s),hh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=new gc(5e3,15e3),w6="__/auth/iframe",x6="emulator/auth/iframe",A6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},S6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function R6(s){const e=s.config;Te(e.authDomain,s,"auth-domain-config-required");const n=e.emulator?ag(e,x6):`https://${s.config.authDomain}/${w6}`,r={apiKey:e.apiKey,appName:s.name,v:ua},o=S6.get(s.config.apiHost);o&&(r.eid=o);const c=s._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${cc(r).slice(1)}`}async function I6(s){const e=await E6(s),n=qi().gapi;return Te(n,s,"internal-error"),e.open({where:document.body,url:R6(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:A6,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const f=Bi(s,"network-request-failed"),m=qi().setTimeout(()=>{c(f)},T6.get());function g(){qi().clearTimeout(m),o(r)}r.ping(g).then(g,()=>{c(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,k6=600,D6="_blank",O6="http://localhost";class Hb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function M6(s,e,n,r=C6,o=k6){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...N6,width:r.toString(),height:o.toString(),top:c,left:f},y=tn().toLowerCase();n&&(m=LT(y)?D6:n),PT(y)&&(e=e||O6,g.scrollbars="yes");const T=Object.entries(g).reduce((S,[G,W])=>`${S}${G}=${W},`,"");if(nO(y)&&m!=="_self")return V6(e||"",m),new Hb(null);const x=window.open(e||"",m,T);Te(x,s,"popup-blocked");try{x.focus()}catch{}return new Hb(x)}function V6(s,e){const n=document.createElement("a");n.href=s,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="__/auth/handler",P6="emulator/auth/handler",U6=encodeURIComponent("fac");async function Gb(s,e,n,r,o,c){Te(s.config.authDomain,s,"auth-domain-config-required"),Te(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:ua,eventId:o};if(e instanceof YT){e.setDefaultLanguage(s.languageCode),f.providerId=e.providerId||"",J2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,x]of Object.entries({}))f[T]=x}if(e instanceof yc){const T=e.getScopes().filter(x=>x!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const g=await s._getAppCheckToken(),y=g?`#${U6}=${encodeURIComponent(g)}`:"";return`${L6(s)}?${cc(m).slice(1)}${y}`}function L6({config:s}){return s.emulator?ag(s,P6):`https://${s.authDomain}/${j6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="webStorageSupport";class z6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tw,this._completeRedirectFn=u6,this._overrideRedirectResult=o6}async _openPopup(e,n,r,o){var f;gs((f=this.eventManagers[e._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const c=await Gb(e,n,r,ip(),o);return M6(e,c,hg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Gb(e,n,r,ip(),o);return FO(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(gs(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await I6(e),r=new f6(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Nm,{type:Nm},o=>{var f;const c=(f=o==null?void 0:o[0])==null?void 0:f[Nm];c!==void 0&&n(!!c),pi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=y6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return HT()||UT()||lg()}}const B6=z6;var Kb="@firebase/auth",Qb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H6(s){di(new Yn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=r.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:f,authDomain:m,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(s)},y=new lO(r,o,c,g);return _O(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),di(new Yn("auth-internal",e=>{const n=Co(e.getProvider("auth").getImmediate());return(r=>new q6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_n(Kb,Qb,F6(s)),_n(Kb,Qb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6=300,K6=p1("authIdTokenMaxAge")||G6;let $b=null;const Q6=s=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K6)return;const o=n==null?void 0:n.token;$b!==o&&($b=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function $6(s=Bh()){const e=pr(s,"auth");if(e.isInitialized())return e.getImmediate();const n=yO(s,{popupRedirectResolver:B6,persistence:[WO,zO,tw]}),r=p1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const f=Q6(c.toString());VO(n,f,()=>f(n.currentUser)),MO(n,m=>f(m))}}const o=f1("auth");return o&&vO(n,`http://${o}`),n}function Y6(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}cO({loadJS(s){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=e,r.onerror=o=>{const c=Bi("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",Y6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H6("Browser");const X6={apiKey:"AIzaSyBQKF3jYIX6k2LWDSUwcVMZrj6SKtH51fQ",authDomain:"hwoasung-b20ff.firebaseapp.com",projectId:"hwoasung-b20ff",storageBucket:"hwoasung-b20ff.firebasestorage.app",messagingSenderId:"917869348806",appId:"1:917869348806:web:05576453c6644a369494c7",measurementId:"G-9NS8FC41WC"},cf=w1(X6);typeof window<"u"&&CN(cf);aC(cf);const Gl=yD(cf),Cm=$6(cf),J6=({onBack:s})=>{const[e,n]=_e.useState(null),[r,o]=_e.useState(""),[c,f]=_e.useState(""),[m,g]=_e.useState(""),[y,T]=_e.useState(!0),[x,S]=_e.useState([]),[G,W]=_e.useState(!1),[te,ee]=_e.useState(""),[z,ye]=_e.useState(null),[ue,be]=_e.useState("split"),[he,me]=_e.useState({name:"",code:"",material:"",engName:"",type:"knitting",cloudinaryId:"",desc:"",features:"",weight:"",width:"",structure:"",colors:""});_e.useEffect(()=>jO(Cm,q=>{n(q),T(!1)}),[]),_e.useEffect(()=>{if(!e)return;const re=AT(tp(Gl,"products"),ST("createdAt","desc"));return IT(re,Z=>{const fe=Z.docs.map(De=>({id:De.id,...De.data()}));S(fe)})},[e]);const N=async re=>{re.preventDefault(),g("");try{await OO(Cm,r,c)}catch{g(" :    .")}},A=()=>PO(Cm),I=()=>{me({name:"",code:"",material:"",engName:"",type:"knitting",cloudinaryId:"",desc:"",features:"",weight:"",width:"",structure:"",colors:""}),ye(null)},M=()=>{if(!window.cloudinary){alert("   .     . (  )");return}window.cloudinary.openUploadWidget({cloudName:"dkczitgmn",uploadPreset:"hwoasung_preset",sources:["local","url","camera","cloudinary"],showAdvancedOptions:!0,cropping:!0,multiple:!1,defaultSource:"local",language:"ko",text:{ko:{menu:{files:" ",url:" URL",camera:"",cloudinary:" "}}},styles:{palette:{window:"#0D1117",sourceBg:"#161B22",windowBorder:"#30363D",tabIcon:"#FFFFFF",inactiveTabIcon:"#8B949E",menuIcons:"#C9D1D9",link:"#6366f1",action:"#6366f1",inProgress:"#6366f1",complete:"#238636",error:"#F85149",textDark:"#000000",textLight:"#FFFFFF"}}},(q,Z)=>{!q&&Z&&Z.event==="success"?(me(fe=>({...fe,cloudinaryId:Z.info.public_id})),alert(" : "+Z.info.public_id)):q?(console.error("Cloudinary Widget Error:",q),alert(`   : ${q}

[]
1. Cloudinary  'hwoasung_preset'  'Unsigned'  ?
2. .env  Cloud Name ?`)):Z.event==="display-changed"&&Z.info==="shown"&&console.log("Widget opened")})},k=async re=>{re.preventDefault(),W(!0);try{const q={...he,features:typeof he.features=="string"?he.features.split(",").map(Z=>Z.trim()):he.features,updatedAt:new Date};z?(await DD(np(Gl,"products",z),q),alert("   . (Firestore)")):(await MD(tp(Gl,"products"),{...q,createdAt:new Date}),alert("   . (Firestore)")),I()}catch(q){console.error("Firestore Write Error:",q),alert(` : ${q.message||"   "}

Firebase Console Firestore     .`)}finally{W(!1)}},V=re=>{ye(re.id),me({...re,features:Array.isArray(re.features)?re.features.join(", "):re.features})},R=async re=>{if(window.confirm(" ?"))try{await OD(np(Gl,"products",re)),z===re&&I()}catch{alert("   .")}},Qe=_e.useMemo(()=>x.filter(re=>re.name.toLowerCase().includes(te.toLowerCase())||re.code.toLowerCase().includes(te.toLowerCase())),[x,te]);return y?_.jsx("div",{className:"min-h-screen bg-[#06080b] flex items-center justify-center",children:_.jsx(tv,{className:"animate-spin text-indigo-500",size:48})}):e?_.jsxs("div",{className:"min-h-screen bg-[#06080b] text-white font-sans selection:bg-indigo-600 h-screen flex flex-col overflow-hidden",children:[_.jsxs("header",{className:"h-20 bg-[#0d1117] border-b border-white/5 px-10 flex items-center justify-between shrink-0",children:[_.jsxs("div",{className:"flex items-center space-x-8",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 bg-indigo-600 rounded-sm flex items-center justify-center text-white font-black text-xs italic",children:"H"}),_.jsx("h2",{className:"text-xl font-black italic uppercase tracking-tighter",children:"Hwoasung Command"})]}),_.jsx("div",{className:"h-6 w-px bg-white/10 hidden md:block"}),_.jsx("div",{className:"hidden md:flex items-center space-x-4",children:_.jsxs("div",{className:"flex items-center space-x-2 px-3 py-1 bg-white/5 rounded-full border border-white/5",children:[_.jsx("span",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full animate-pulse"}),_.jsx("span",{className:"text-[10px] font-bold text-slate-400",children:"DB CONNECTED"})]})})]}),_.jsxs("div",{className:"flex items-center space-x-6",children:[_.jsxs("div",{className:"flex items-center bg-[#161b22] rounded-sm p-1 border border-white/5",children:[_.jsx("button",{onClick:()=>be("split"),className:`p-2 rounded-sm transition-all ${ue==="split"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-slate-500 hover:text-white"}`,title:"Split View",children:_.jsx(o1,{size:16})}),_.jsx("button",{onClick:()=>be("focus"),className:`p-2 rounded-sm transition-all ${ue==="focus"?"bg-indigo-600 text-white shadow-lg shadow-indigo-600/20":"text-slate-500 hover:text-white"}`,title:"Focus View",children:_.jsx(WS,{size:16})})]}),_.jsxs("button",{onClick:A,className:"flex items-center space-x-2 text-[10px] font-black uppercase tracking-widest text-slate-500 hover:text-white transition-all",children:[_.jsx(i2,{size:16}),_.jsx("span",{className:"hidden sm:inline",children:"Sign Out"})]}),_.jsx("button",{onClick:s,className:"p-2 hover:bg-white/5 rounded-sm transition-colors border border-white/5",children:_.jsx(jS,{size:20})})]})]}),_.jsxs("div",{className:"flex-1 flex overflow-hidden",children:[_.jsxs("section",{className:`${ue==="split"?"w-[450px]":"hidden"} bg-[#0d1117] border-r border-white/5 overflow-y-auto custom-scrollbar p-10 space-y-10`,children:[_.jsxs("div",{children:[_.jsx("h3",{className:"text-sm font-black text-indigo-500 uppercase tracking-[0.4em] mb-1",children:"Station 01"}),_.jsx("h4",{className:"text-2xl font-black italic uppercase tracking-tighter",children:z?"Modify Product":"Register Entry"})]}),_.jsxs("form",{onSubmit:k,className:"space-y-8 pb-10",children:[_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Classification"}),_.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[_.jsx("button",{type:"button",onClick:()=>me({...he,type:"knitting"}),className:`py-3 rounded-sm text-[10px] font-black uppercase tracking-widest transition-all border ${he.type==="knitting"?"bg-indigo-600 border-indigo-500":"bg-[#161b22] border-white/5 text-slate-500 hover:text-white"}`,children:"Unit 01: knitting"}),_.jsx("button",{type:"button",onClick:()=>me({...he,type:"processed"}),className:`py-3 rounded-sm text-[10px] font-black uppercase tracking-widest transition-all border ${he.type==="processed"?"bg-indigo-600 border-indigo-500":"bg-[#161b22] border-white/5 text-slate-500 hover:text-white"}`,children:"Unit 02: processed"})]})]}),_.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Product Code"}),_.jsx("input",{type:"text",value:he.code,onChange:re=>me({...he,code:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"HS-...",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Formal Name (KR)"}),_.jsx("input",{type:"text",value:he.name,onChange:re=>me({...he,name:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex.   ",required:!0})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Internal ID (ENG)"}),_.jsx("input",{type:"text",value:he.engName,onChange:re=>me({...he,engName:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-sm font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex. SINGLE_JERSEY_PEACH"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Composition"}),_.jsx("input",{type:"text",value:he.material,onChange:re=>me({...he,material:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none",placeholder:"Cotton / Poly"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Structure"}),_.jsx("input",{type:"text",value:he.structure,onChange:re=>me({...he,structure:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Density/Weight"}),_.jsx("input",{type:"text",value:he.weight,onChange:re=>me({...he,weight:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Width"}),_.jsx("input",{type:"text",value:he.width,onChange:re=>me({...he,width:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs outline-none"})]})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Cloudinary Public ID"}),_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsxs("button",{type:"button",onClick:M,className:"text-[8px] font-bold text-white bg-indigo-600 px-2 py-1 rounded-sm hover:bg-indigo-700 transition-colors uppercase flex items-center space-x-1",children:[_.jsx(e2,{size:10}),_.jsx("span",{children:"Library / Upload"})]}),_.jsx("a",{href:"https://console.cloudinary.com/console/media-library",target:"_blank",rel:"noopener noreferrer",className:"text-[8px] font-bold text-indigo-400 hover:text-indigo-300 underline uppercase",children:"Open Console"})]})]}),_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-600 group-focus-within:text-indigo-500",children:_.jsx(Z0,{size:16})}),_.jsx("input",{type:"text",value:he.cloudinaryId,onChange:re=>me({...he,cloudinaryId:re.target.value}),className:"w-full bg-[#161b22] border border-white/5 text-white pl-12 pr-4 py-3 rounded-sm text-xs font-mono focus:ring-1 focus:ring-indigo-500 outline-none",placeholder:"ex. products/fabric_01"})]}),_.jsx("p",{className:"text-[8px] text-slate-500 font-medium leading-relaxed italic",children:"* Cloudinary   ,   'Public ID'   . (: products/sample)"})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest",children:"Key Features (Comma separated)"}),_.jsx("textarea",{value:he.features,onChange:re=>me({...he,features:re.target.value}),className:"w-full h-24 bg-[#161b22] border border-white/5 text-white px-4 py-3 rounded-sm text-xs focus:ring-1 focus:ring-indigo-500 outline-none resize-none",placeholder:"Soft touch, High density, No shrinkage..."})]})]}),_.jsxs("div",{className:"flex flex-col gap-3 pt-6",children:[_.jsxs("button",{type:"submit",disabled:G,className:"w-full bg-indigo-600 hover:bg-indigo-700 disabled:bg-slate-800 text-white font-black uppercase tracking-[0.2em] py-5 rounded-sm transition-all flex items-center justify-center space-x-3 text-xs shadow-xl shadow-indigo-600/20",children:[G?_.jsx(tv,{className:"animate-spin",size:18}):z?_.jsx(y2,{size:18}):_.jsx(km,{size:18}),_.jsx("span",{children:z?"Confirm Modifications":"Commit To Inventory"})]}),z&&_.jsx("button",{type:"button",onClick:I,className:"w-full bg-white/5 hover:bg-white/10 text-slate-400 hover:text-white font-black uppercase tracking-widest py-3 rounded-sm transition-all text-[10px]",children:"Exit Edit Mode"})]})]})]}),_.jsxs("section",{className:"flex-1 flex flex-col min-w-0 bg-[#06080b]",children:[_.jsxs("div",{className:"p-8 border-b border-white/5 flex items-center justify-between shrink-0 bg-[#06080b]/50 backdrop-blur-md sticky top-0 z-10",children:[_.jsxs("div",{className:"relative flex-1 max-w-md",children:[_.jsx(l1,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-600",size:16}),_.jsx("input",{type:"text",placeholder:"Search code or name...",value:te,onChange:re=>ee(re.target.value),className:"w-full bg-white/5 border border-white/5 text-white pl-12 pr-6 py-3 rounded-full text-xs outline-none focus:ring-1 focus:ring-indigo-500 transition-all"})]}),_.jsx("div",{className:"flex items-center space-x-4 pl-8",children:_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-widest",children:"Total:"}),_.jsx("span",{className:"text-xl font-black italic text-indigo-500",children:x.length})]})})]}),_.jsx("div",{className:"flex-1 overflow-y-auto p-10 custom-scrollbar",children:Qe.length===0?_.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-slate-600 space-y-4 animate-in fade-in zoom-in duration-500",children:[_.jsx(zS,{size:64,className:"opacity-10"}),_.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.3em]",children:"No items in current stream"})]}):_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:Qe.map(re=>{var q,Z;return _.jsxs("div",{className:`group relative bg-[#0d1117] border ${z===re.id?"border-indigo-500":"border-white/5"} p-6 rounded-sm transition-all hover:border-indigo-500/50 hover:shadow-2xl hover:shadow-indigo-600/5`,children:[_.jsxs("div",{className:"absolute top-4 right-4 flex space-x-1 opacity-0 group-hover:opacity-100 transition-all translate-y-2 group-hover:translate-y-0",children:[_.jsx("button",{onClick:()=>V(re),className:"p-2 bg-slate-800 text-slate-400 hover:text-white rounded-sm border border-white/5",title:"Edit",children:_.jsx(f2,{size:14})}),_.jsx("button",{onClick:()=>R(re.id),className:"p-2 bg-slate-800 text-slate-400 hover:text-red-500 rounded-sm border border-white/5",title:"Delete",children:_.jsx(x2,{size:14})})]}),_.jsxs("div",{className:"flex items-start space-x-4",children:[_.jsx("div",{className:"w-16 h-20 bg-slate-900 border border-white/5 rounded-sm overflow-hidden shrink-0",children:re.cloudinaryId?_.jsx("img",{src:`https://res.cloudinary.com/dkczitgmn/image/upload/c_fill,w_200,h_250,q_auto:best/v1/${re.cloudinaryId}`,alt:"",className:"w-full h-full object-cover transition-all duration-500"}):_.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-800",children:_.jsx(Z0,{size:20})})}),_.jsxs("div",{className:"min-w-0 flex-1",children:[_.jsx("p",{className:"text-[10px] font-mono text-indigo-500 font-bold uppercase tracking-widest",children:re.code}),_.jsx("h5",{className:"text-sm font-black text-white uppercase italic tracking-tighter truncate mt-1",children:re.name}),_.jsx("p",{className:"text-[9px] text-slate-500 font-bold uppercase mt-2",children:re.type}),_.jsxs("div",{className:"mt-3 flex flex-wrap gap-1",children:[_.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-white/5 rounded-sm text-slate-400 border border-white/5 uppercase",children:(q=re.material)==null?void 0:q.split(" ")[0]}),_.jsx("span",{className:"text-[8px] font-black px-1.5 py-0.5 bg-white/5 rounded-sm text-slate-400 border border-white/5 uppercase",children:(Z=re.weight)==null?void 0:Z.split(" ")[0]})]})]})]})]},re.id)})})})]})]}),_.jsx("style",{"hs-admin":!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 10px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: rgba(99, 102, 241, 0.5);
        }
      `})]}):_.jsx("div",{className:"min-h-screen bg-[#06080b] flex items-center justify-center p-6 font-sans",children:_.jsxs("div",{className:"w-full max-w-md bg-[#0d1117] border border-white/10 p-12 rounded-sm shadow-2xl relative overflow-hidden",children:[_.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-indigo-600"}),_.jsx("div",{className:"flex items-center space-x-4 mb-10",children:_.jsx("h1",{className:"text-3xl font-black text-white uppercase tracking-tighter italic",children:"Admin Portal"})}),_.jsxs("form",{onSubmit:N,className:"space-y-8",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("label",{className:"block text-[10px] font-black text-slate-500 uppercase tracking-[0.3em]",children:"Credentials"}),_.jsx("input",{type:"email",placeholder:"Manager Email",value:r,onChange:re=>o(re.target.value),className:"w-full bg-[#161b22] border border-white/5 text-white px-5 py-4 rounded-sm focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",required:!0}),_.jsx("input",{type:"password",placeholder:"Access Key",value:c,onChange:re=>f(re.target.value),className:"w-full bg-[#161b22] border border-white/5 text-white px-5 py-4 rounded-sm focus:ring-1 focus:ring-indigo-500 outline-none transition-all placeholder:text-slate-600",required:!0})]}),m&&_.jsx("p",{className:"text-red-500 text-[10px] font-bold italic uppercase tracking-widest",children:m}),_.jsx("button",{type:"submit",className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest py-5 transition-all text-xs",children:"Enter Control Center"}),_.jsx("button",{type:"button",onClick:s,className:"w-full text-slate-500 hover:text-white text-[10px] font-black uppercase tracking-widest py-2 transition-all mt-4",children:"Cancel and Return"})]})]})})},W6={KR:{brand:"",sub:"    ",home:"",about:" (ABOUT)",business:" & ",knitting:" /  (UNIT 01)",processing:"  (UNIT 02)",inquiry:"",hero_tags:"     ",hero_h1:" .",hero_p_line1:">    .",hero_p_line2:"      .",cta:"   ",cta_tooltip:"30  ",stats_history_val:"30",stats_history_label:" ",stats_history_sub:"30    ",stats_partners_val:"2500",stats_partners_label:" ",stats_partners_sub:"   ",stats_samples_val:"15000",stats_samples_label:" ",stats_samples_sub:" ",stats_defect_val:"1",stats_defect_label:"",stats_defect_sub_top:"  ",stats_defect_sub:"",explore:" ",inventory_title:"Signature",inventory_span:"Archive",inventory_p:"   .    .",biz_title:"Business",biz_sub:"System Solutions",sector_a_title:" / ",sector_a_p:"       ,          .",sector_b_title:" ",sector_b_p:", ,          .",learn_more:" ",contact_title:"Visit &",contact_span:"Contact.",contact_sub:"      .",address:"    441 ",tel:"031-832-0068",fax:"031-832-0069",email:"hwoasung0068@gmail.com",hours:" 09:00 ~ 18:00 /  ",ceo:": ",biz_no:": 127-12-70903",modal_title:" ",label_technical:" ",label_logic:" & ",label_raw:"",label_structure:"",label_density:"",label_width:"",label_color:"",label_code:" ",cta_quote:"    ",dashboard_about_cta:"  ",dashboard_inventory_cta:"  ",modal_inventory_cta:"  ",about_hero_tag:"ABOUT US",about_hero_h1:"  .",about_hero_h1_sub:"Textile Analysis Standard",about_hero_motto:"     .",about_hero_sub:"30         .",about_expertise_tag:"CORE EXPERTISE",about_expertise_title:"  ",about_process_tag:"PROCESS",about_process_title:"  ",about_factory_tag:"INFRASTRUCTURE",about_factory_title:"    ",about_closing:"(Hwoasung)       .",expertise_01_t:"  ",expertise_01_d:"  . , ,     .",expertise_02_t:"  ",expertise_02_d:"         .",expertise_03_t:" ",expertise_03_d:"           .",step_01_t:"  ",step_01_d:"   ",step_02_t:" ",step_02_d:"   ",step_03_t:" ",step_03_d:", ,  ",step_04_t:"   ",step_04_d:"  "},EN:{brand:"Hwoasung Textile",sub:"A Solid Foundation for Brand Success",home:"HOME",about:"ROOTS (ABOUT)",business:"BUSINESS & PRODUCTS",knitting:"KNITTING / RAW (UNIT 01)",processing:"PROCESSED INVENTORY (UNIT 02)",inquiry:"INQUIRY",hero_tags:"Knitting Factory  Circular Knit  Polyester Specialist",hero_h1:"Sensation into Spec.",hero_p_line1:"> It's okay if you don't know the fabric name.",hero_p_line2:"We find the perfect spec with just a single sample.",cta:"Request Sample Analysis Now",cta_tooltip:"Connect with 30-year experts",stats_history_val:"30",stats_history_label:"Manufacturing History",stats_history_sub:"Over 30 years of experienced manufacturing history",stats_partners_val:"2500",stats_partners_label:"Cumulative Clients",stats_partners_sub:"Cumulative clients who shared success",stats_samples_val:"15000",stats_samples_label:"Work Order Data",stats_samples_sub:"Digitalized work order data",stats_defect_val:"1",stats_defect_label:"Defect Rate",stats_defect_sub_top:"Realized by in-house knitting",stats_defect_sub:"",explore:"Check Inventory",inventory_title:"Signature",inventory_span:"Archive",inventory_p:"These are the main product lines guaranteed by Hwoasung Textile. Click to check detailed specifications.",biz_title:"Business",biz_sub:"System Solutions",sector_a_title:"Knitting / Raw Fabric",sector_a_p:"Equipped with high-performance circular knitting machinery across diverse gauges, providing a solid production base capable of immediate response to any sample specification.",sector_b_title:"Processed Inventory",sector_b_p:"Premium processed fabric inventory including Boudre, Fleece, and Technical Bonding, carefully selected and digitalized by Hwoasung Textile.",learn_more:"Check Infrastructure",contact_title:"Visit &",contact_span:"Contact.",contact_sub:"Hwoasung Textile will be a lasting partner, not just a simple client.",address:"441 Jeon-young-ro, Cheongsan-myeon, Yeoncheon-gun, Gyeonggi-do, Hwoasung Textile",tel:"+82-31-832-0068",fax:"+82-31-832-0069",email:"hwoasung0068@gmail.com",hours:"Weekdays 09:00 ~ 18:00 / Closed on Weekends & Public Holidays",ceo:"CEO: Lee Won-hwa",biz_no:"Business No: 127-12-70903",modal_title:"Detailed Spec",label_technical:"Technical Spec",label_logic:"Features & Benefits",label_raw:"Material",label_structure:"Structure",label_density:"Weight",label_width:"Width",label_color:"Color",label_code:"Admin Code",cta_quote:"Request Sample Analysis & Quotation",dashboard_about_cta:"Learn about Hwoasung Roots",dashboard_inventory_cta:"View All Processed Inventory",modal_inventory_cta:"Explore Processed Inventory",about_hero_tag:"ABOUT US",about_hero_h1:"Standard of Textile Analysis.",about_hero_h1_sub:"Textile Analysis Standard",about_hero_motto:"The most reliable start for a sample to become a finished product.",about_hero_sub:"We suggest optimal results by precisely analyzing from yarn to process with 30 years of manufacturing know-how.",about_expertise_tag:"CORE EXPERTISE",about_expertise_title:"Value of Expertise and Integration",about_process_tag:"PROCESS",about_process_title:"Journey from Sample to Product",about_factory_tag:"INFRASTRUCTURE",about_factory_title:"Reliable Manufacturing Base",about_closing:"Hwoasung Textile will be a powerful partner maximizing your production efficiency.",expertise_01_t:"Precision Sample Analysis",expertise_01_d:"One swatch is enough. We minimize errors by digitalizing yarn, density, and processing methods.",expertise_02_t:"One-stop Process Integration",expertise_02_d:"We reduce distribution margins and increase production speed by organically connecting knitting to finishing.",expertise_03_t:"Supply Stability",expertise_03_d:"Based on our own factory, we provide uniform quality fabrics that brands can trust in a timely manner.",step_01_t:"Precision Sample Analysis",step_01_d:"Yarn & Tissue Identification",step_02_t:"Optimized Knitting",step_02_d:"Direct Production at Yeoncheon Factory",step_03_t:"Integrated Finishing",step_03_d:"Dyeing, Bonding, Printing, etc.",step_04_t:"Final Inspection & Shipment",step_04_d:"Quality Check by Process"}},Z6=s=>({knitting:[],processed:[]}),eM=jh.memo(({end:s,duration:e=2e3,suffix:n="",isVisible:r})=>{const[o,c]=_e.useState(0);if(_e.useEffect(()=>{if(!r||isNaN(parseFloat(s)))return;let m=null;const g=y=>{m||(m=y);const T=Math.min((y-m)/e,1),x=Math.floor(T*Math.abs(parseFloat(s)));c(x),T<1&&window.requestAnimationFrame(g)};window.requestAnimationFrame(g)},[r,s,e]),isNaN(parseFloat(s)))return _.jsxs("span",{children:[s,n]});const f=s.includes(".")?(o/100).toFixed(2):o.toLocaleString();return _.jsxs("span",{children:[f,n]})}),th=jh.memo(({icon:s,label:e,value:n,suffix:r,sub:o,subTop:c,isVisible:f,highlight:m=!1,pink:g=!1,showArrow:y=!1})=>_.jsxs("div",{className:`p-10 border-r border-white/5 last:border-r-0 transition-all duration-700 ${f?"opacity-100 translate-y-0":"opacity-0 translate-y-10"} ${m?"bg-indigo-600/5":""} ${g?"bg-pink-600/5":""}`,children:[_.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${g?"bg-pink-600 text-white":m?"bg-indigo-600 text-white":"bg-white/5 text-indigo-400"}`,children:s&&_.jsx(s,{size:20})}),_.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${g?"text-pink-400":"text-white/40"}`,children:e})]}),_.jsxs("div",{className:`text-4xl md:text-5xl font-black mb-4 tracking-tighter flex items-center ${g?"text-white":m?"text-indigo-400":"text-white"}`,children:[_.jsx(eM,{end:n,suffix:r,isVisible:f}),y&&_.jsx(RS,{size:32,className:"ml-2 text-pink-400 animate-bounce"})]}),c&&_.jsx("p",{className:"text-white text-[12px] font-bold mb-1 tracking-tight break-keep",children:c}),o&&_.jsx("p",{className:"text-slate-500 text-[10px] font-bold tracking-tight break-keep",children:o})]})),Yr=jh.memo(({dark:s=!1,imageSrc:e=null,cloudinaryId:n=null,text:r=""})=>{const o=n?_S(n):e;return _.jsxs("div",{className:`w-full h-full flex items-center justify-center relative overflow-hidden group ${s?"bg-[#0a0c10]":"bg-slate-100"}`,children:[o&&_.jsxs("div",{className:"absolute inset-0 z-0",children:[_.jsx("img",{src:o,alt:r||"Textile Background",className:"w-full h-full object-cover opacity-100 group-hover:scale-110 transition-all duration-1000"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/20 to-transparent opacity-40"})]}),_.jsx("div",{className:"absolute inset-0 opacity-[0.05] pointer-events-none z-10",style:{backgroundImage:"radial-gradient(#6366f1 1px, transparent 1px)",backgroundSize:"30px 30px"}}),_.jsx("div",{className:"absolute -top-1/4 -right-1/4 w-full h-full bg-indigo-600/10 rounded-full blur-[120px] pointer-events-none z-10"}),_.jsx("div",{className:"absolute -bottom-1/4 -left-1/4 w-full h-full bg-blue-600/10 rounded-full blur-[120px] pointer-events-none z-10"}),!o&&_.jsxs("div",{className:"relative z-20 flex flex-col items-center opacity-20 group-hover:opacity-40 transition-opacity duration-1000",children:[_.jsx("div",{className:"w-16 h-16 border border-white/10 rounded-full flex items-center justify-center",children:_.jsx("div",{className:"w-8 h-8 border border-white/20 rounded-full flex items-center justify-center animate-pulse",children:_.jsx("div",{className:"w-2 h-2 bg-indigo-500/40 rounded-full"})})}),_.jsx("div",{className:"mt-4 w-px h-12 bg-gradient-to-b from-indigo-500/40 to-transparent"}),r&&_.jsx("div",{className:"mt-4 text-[8px] font-black text-white/40 uppercase tracking-widest leading-none text-center px-4",children:r})]})]})}),tM=jh.memo(()=>{const s=[{name:" ",url:"https://talk.naver.com/ct/w4aqxg",color:"bg-[#03C75A]",textColor:"text-white",icon:e=>_.jsx("svg",{viewBox:"0 0 40 40",width:e,height:e,fill:"currentColor",children:_.jsx("path",{d:"M20 0C8.954 0 0 8.351 0 18.653c0 4.148 1.486 7.971 4.022 11.026-.549 3.498-1.956 7.427-2.023 7.625-.095.275.05.57.323.659.053.018.107.026.162.026.216 0 .416-.141.488-.344.062-.174 2.859-7.854 6.703-9.176 3.166 1.189 6.641 1.841 10.325 1.841 11.046 0 20-8.351 20-18.653S31.046 0 20 0z"})})},{name:" ",url:"https://pf.kakao.com/_xkhixjn/chat",color:"bg-[#FEE500]",textColor:"text-[#3C1E1E]",icon:e=>_.jsx("svg",{viewBox:"0 0 40 40",width:e,height:e,fill:"currentColor",children:_.jsx("path",{d:"M20 3c-10.493 0-19 6.611-19 14.771 0 5.151 3.473 9.68 8.742 12.339-.395 1.442-1.427 5.215-1.636 6.007-.258.98.375.967.787.69 3.235-2.176 5.318-3.582 6.44-4.349C16.541 32.793 18.238 33 20 33c10.493 0 19-6.611 19-14.771S30.493 3 20 3z"})})}];return _.jsx("div",{className:"fixed bottom-10 right-10 z-[100] flex flex-col items-end space-y-4",children:s.map((e,n)=>_.jsxs("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"group relative flex items-center justify-end",children:[_.jsxs("div",{className:"absolute right-full mr-4 px-4 py-2 bg-slate-900 text-white text-xs font-bold rounded-lg opacity-0 group-hover:opacity-100 translate-x-[10px] group-hover:translate-x-0 transition-all duration-300 pointer-events-none whitespace-nowrap shadow-2xl",children:[e.name,_.jsx("div",{className:"absolute top-1/2 right-0 translate-x-1/2 -translate-y-1/2 border-8 border-transparent border-left-slate-900 border-l-slate-900"})]}),_.jsx("div",{className:`${e.color} ${e.textColor} w-14 h-14 rounded-full flex items-center justify-center shadow-xl hover:scale-110 active:scale-95 transition-all duration-300`,children:e.icon(28)})]},n))})}),nM=({naverUrl:s})=>_.jsxs("div",{className:"relative w-full h-full group/map",children:[_.jsx("iframe",{src:`https://maps.google.com/maps?q=${encodeURIComponent("    441")}&t=&z=15&ie=UTF8&iwloc=&output=embed`,className:"w-full h-full grayscale hover:grayscale-0 transition-all duration-1000 border-none",allowFullScreen:!0,loading:"lazy"}),_.jsxs("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"absolute bottom-6 left-6 bg-white shadow-2xl px-6 py-4 flex items-center space-x-3 group/btn hover:bg-slate-900 hover:text-white transition-all duration-500 rounded-sm",children:[_.jsxs("div",{className:"text-left",children:[_.jsx("div",{className:"text-[8px] font-black text-indigo-600 uppercase tracking-widest mb-0.5",children:"Navigation"}),_.jsx("div",{className:"text-xs font-black uppercase tracking-tight",children:"Open Naver Maps"})]}),_.jsx(CS,{size:16,className:"group-hover/btn:translate-x-1 group-hover/btn:-translate-y-1 transition-transform"})]})]}),iM=()=>{const[s,e]=_e.useState("main"),[n,r]=_e.useState("KR"),[o,c]=_e.useState(null),[f,m]=_e.useState(!1),[g,y]=_e.useState(!1),[T,x]=_e.useState(!1),[S,G]=_e.useState([]);_e.useEffect(()=>{const ne=AT(tp(Gl,"products"),ST("createdAt","desc"));return IT(ne,nn=>{const kn=nn.docs.map(vn=>({id:vn.id,...vn.data()}));G(kn)},nn=>{console.error("App.jsx Firestore Listener Error:",nn)})},[]);const W="https://map.naver.com/v5/search/%EA%B2%BD%EA%B8%B0%EB%8F%84%20%EC%97%B0%EC%B2%9C%20%EC%B2%AD%EC%82%B0%EB%A9%B4%20%EC%A0%84%EC%98%81%EB%A1%9C%20441%20%ED%99%94%EC%84%B1%EC%84%AC%EC%9C%A0",[te,ee]=_e.useState(0);_e.useEffect(()=>{if(s!=="about")return;const ne=setInterval(()=>{ee(Fe=>Fe===0?1:0)},1500);return()=>clearInterval(ne)},[s]);const z=_e.useMemo(()=>W6[n],[n]),ye=_e.useMemo(()=>{const ne=Z6(),Fe=S.filter(kn=>kn.type==="knitting"),nn=S.filter(kn=>kn.type==="processed");return{knitting:[...Fe,...ne.knitting],processed:[...nn,...ne.processed]}},[n,S]),ue=_e.useMemo(()=>[...ye.knitting.slice(0,2),...ye.processed.slice(0,2)],[ye]),be=ue.length,he=_e.useMemo(()=>[...ue,...ue,...ue],[ue]),[me,N]=_e.useState(be),[A,I]=_e.useState(!0),[M,k]=_e.useState(!1),[V,R]=_e.useState(null),[Qe,re]=_e.useState(0),[q,Z]=_e.useState(!1),fe=_e.useCallback(()=>typeof window>"u"?100:window.innerWidth<640?85:window.innerWidth<1024?50:25,[]),[De,$e]=_e.useState(fe());_e.useEffect(()=>{const ne=()=>$e(fe());return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[fe]);const O=_e.useCallback(()=>{I(!0),N(ne=>ne+1)},[]);_e.useEffect(()=>{if(M||V!==null)return;const ne=setInterval(O,3500);return()=>clearInterval(ne)},[O,M,V]);const $=()=>{me>=be*2?(I(!1),N(be)):me<=be-1&&(I(!1),N(be*2-1))},se=ne=>{k(!0),I(!1),Z(!1);const Fe=ne.type.includes("mouse")?ne.clientX:ne.touches[0].clientX;R(Fe)},ae=ne=>{if(V===null)return;const nn=(ne.type.includes("mouse")?ne.clientX:ne.touches[0].clientX)-V;Math.abs(nn)>5&&Z(!0),re(nn)},Ee=()=>{V!==null&&(I(!0),Qe>50?N(ne=>ne-1):Qe<-50&&N(ne=>ne+1),R(null),re(0),k(!1))};_e.useEffect(()=>{const ne=()=>m(window.scrollY>50);return window.addEventListener("scroll",ne),()=>window.removeEventListener("scroll",ne)},[]);const xe=_e.useRef(null),[Oe,gt]=_e.useState(!1);_e.useEffect(()=>{const ne=new IntersectionObserver(([Fe])=>{Fe.isIntersecting&&gt(!0)},{threshold:.1});return xe.current&&ne.observe(xe.current),()=>ne.disconnect()},[]);const Ae=_e.useCallback(ne=>{e(ne),c(null),x(!1),window.scrollTo({top:0,behavior:"auto"})},[]);return s==="admin"?_.jsx(J6,{onBack:()=>e("main")}):_.jsxs("div",{className:"min-h-screen bg-white font-sans text-slate-900 leading-relaxed overflow-x-hidden selection:bg-indigo-600 selection:text-white relative",children:[_.jsx("nav",{className:`fixed w-full z-[100] transition-all duration-500 ${f?"bg-white/95 backdrop-blur-md py-4 border-b border-slate-100 shadow-sm":"bg-transparent py-10"}`,children:_.jsxs("div",{className:"container mx-auto px-6 md:px-10 flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center space-x-4 md:space-x-8",children:[_.jsxs("div",{className:"flex items-center space-x-4 cursor-pointer group",onClick:()=>Ae("main"),children:[_.jsxs("div",{className:"w-10 h-10 bg-slate-900 flex items-center justify-center text-white font-black text-xs relative overflow-hidden rounded-sm",children:[_.jsx("div",{className:"absolute inset-0 bg-indigo-600 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),_.jsx("span",{className:"relative z-10",children:"HS"})]}),_.jsxs("div",{className:`flex flex-col transition-colors duration-500 ${!f&&s==="main"?"text-white":"text-slate-900"}`,children:[_.jsx("span",{className:"font-bold text-xl tracking-[0.15em] leading-none",children:z.brand}),_.jsx("span",{className:`text-[7px] font-bold tracking-[0.2em] mt-1.5 uppercase ${!f&&s==="main"?"text-white/70":"text-slate-400"}`,children:z.sub})]})]}),_.jsxs("div",{className:`md:hidden flex items-center space-x-2 font-mono text-[10px] px-3 py-1.5 rounded-full border transition-colors ${!f&&s==="main"?"border-white/20 text-white":"border-slate-200 text-slate-400"}`,children:[_.jsx("button",{onClick:()=>r("KR"),className:n==="KR"?"font-black text-indigo-500 underline underline-offset-4":"opacity-60",children:"KR"}),_.jsx("span",{className:"opacity-30",children:"|"}),_.jsx("button",{onClick:()=>r("EN"),className:n==="EN"?"font-black text-indigo-500 underline underline-offset-4":"opacity-60",children:"EN"})]})]}),_.jsxs("div",{className:"hidden md:flex space-x-10 text-[10px] font-black tracking-[0.2em] items-center",children:[_.jsx("button",{onClick:()=>Ae("main"),className:`transition-all duration-500 ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="main"?"border-b-2 border-indigo-500 pb-1":""}`,children:z.home}),_.jsx("button",{onClick:()=>Ae("about"),className:`transition-all duration-500 ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="about"?"border-b-2 border-indigo-500 pb-1":""}`,children:z.about}),_.jsxs("div",{className:"relative",onMouseEnter:()=>y(!0),onMouseLeave:()=>y(!1),children:[_.jsxs("button",{className:`flex items-center transition-all duration-500 uppercase ${!f&&s==="main"?"text-white/80 hover:text-white":"text-slate-400 hover:text-slate-900"} ${s==="knitting"||s==="processing"?"border-b-2 border-indigo-500 pb-1":""}`,children:[z.business," ",_.jsx(MS,{size:12,className:`ml-1 transition-transform ${g?"rotate-180":""}`})]}),_.jsx("div",{className:`absolute top-full left-0 w-64 pt-6 transition-all duration-300 transform ${g?"opacity-100 translate-y-0 visible":"opacity-0 -translate-y-2 invisible"}`,children:_.jsxs("div",{className:"bg-white border border-slate-100 shadow-2xl rounded-sm p-2",children:[_.jsxs("button",{onClick:()=>Ae("knitting"),className:"w-full text-left px-5 py-4 hover:bg-slate-50 transition-colors border-b border-slate-50",children:[_.jsx("span",{className:"text-[9px] block text-indigo-600 font-bold mb-1 opacity-60 uppercase font-mono tracking-widest",children:"UNIT_01"}),_.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-tight",children:z.knitting})]}),_.jsxs("button",{onClick:()=>Ae("processing"),className:"w-full text-left px-5 py-4 hover:bg-slate-50 transition-colors",children:[_.jsx("span",{className:"text-[9px] block text-indigo-600 font-bold mb-1 opacity-60 uppercase font-mono tracking-widest",children:"UNIT_02"}),_.jsx("span",{className:"text-[11px] font-black text-slate-700 uppercase tracking-tight",children:z.processing})]})]})})]}),_.jsxs("div",{className:`flex items-center space-x-2 border-l pl-8 font-mono ${!f&&s==="main"?"border-white/20":"border-slate-200"}`,children:[_.jsx("button",{onClick:()=>r("KR"),className:`transition-all ${n==="KR"?!f&&s==="main"?"text-white font-black underline underline-offset-4":"text-slate-900 font-black underline underline-offset-4":!f&&s==="main"?"text-white/40 hover:text-white":"text-slate-400 hover:text-slate-900"}`,children:"KR"}),_.jsx("span",{className:!f&&s==="main"?"text-white/20":"text-slate-300",children:"|"}),_.jsx("button",{onClick:()=>r("EN"),className:`transition-all ${n==="EN"?!f&&s==="main"?"text-white font-black underline underline-offset-4":"text-slate-900 font-black underline underline-offset-4":!f&&s==="main"?"text-white/40 hover:text-white":"text-slate-400 hover:text-slate-900"}`,children:"EN"})]})]}),_.jsx("button",{"aria-label":"Toggle Menu",onClick:()=>x(!T),className:`md:hidden p-2 ${!f&&s==="main"?"text-white":"text-slate-900"}`,children:_.jsx(c2,{size:24})})]})}),s==="main"&&_.jsxs("section",{className:"relative min-h-screen flex items-center justify-center pt-20 overflow-hidden bg-[#0A0D14]",children:[_.jsx("div",{className:"absolute inset-0 z-0 opacity-40",style:{backgroundImage:"repeating-linear-gradient(-45deg, transparent, transparent 15px, rgba(255,255,255,0.02) 15px, rgba(255,255,255,0.02) 16px)"}}),_.jsx("div",{className:"absolute inset-0 z-0",children:_.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-indigo-600/10 rounded-full blur-[120px] animate-pulse"})}),_.jsx("div",{className:"container mx-auto px-6 md:px-10 relative z-10 text-center",children:_.jsxs("div",{className:"max-w-5xl mx-auto",children:[_.jsx("div",{className:"flex flex-wrap items-center justify-center gap-3 mb-10 animate-in fade-in slide-in-from-top-4 duration-1000",children:z.hero_tags.split("  ").map((ne,Fe)=>_.jsxs("span",{className:"text-white/40 text-[11px] font-bold tracking-[0.2em] uppercase",children:[ne," ",Fe<z.hero_tags.split("  ").length-1&&_.jsx("span",{className:"mx-2 opacity-20",children:""})]},Fe))}),_.jsx("h1",{className:"text-5xl md:text-[6.5rem] font-black text-white leading-tight tracking-tighter mb-12 italic animate-in fade-in zoom-in-95 duration-1000 delay-200",children:_.jsxs("span",{className:"relative inline-block",children:[z.hero_h1.split(".")[0],_.jsx("span",{className:"text-white",children:"."}),_.jsx("div",{className:"absolute -bottom-4 left-0 w-full h-8 bg-indigo-600/40 -z-10 blur-xl"}),_.jsx("div",{className:"absolute -bottom-2 left-0 w-full h-1.5 bg-indigo-500 rounded-full"})]})}),_.jsxs("div",{className:"flex flex-col items-center animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-500",children:[_.jsxs("div",{className:"max-w-xl mb-16 px-4",children:[_.jsxs("p",{className:"text-white font-bold text-xl mb-4 tracking-tight drop-shadow-lg",children:["> ",z.hero_p_line1]}),_.jsx("p",{className:"text-white/60 text-lg md:text-xl font-medium leading-relaxed break-keep",children:z.hero_p_line2})]}),_.jsxs("button",{onClick:()=>Ae("about"),className:"group relative px-16 py-8 bg-white hover:bg-slate-100 transition-all duration-500 rounded-lg shadow-[0_0_40px_rgba(255,255,255,0.1)] flex items-center space-x-6 hover:scale-105 active:scale-95",children:[_.jsx("span",{className:"text-slate-950 text-base font-black tracking-[0.1em] uppercase",children:z.cta}),_.jsx(no,{className:"text-slate-950 group-hover:translate-x-3 transition-transform",size:24})]})]})]})}),_.jsxs("div",{className:"absolute bottom-10 left-1/2 -translate-x-1/2 hidden md:flex flex-col items-center opacity-20",children:[_.jsx("div",{className:"text-[8px] font-black text-white tracking-[0.4em] uppercase mb-4",children:"SCROLL"}),_.jsx("div",{className:"w-[1px] h-12 bg-gradient-to-b from-white to-transparent"})]})]}),s==="main"&&_.jsx("section",{ref:xe,className:"bg-slate-900 border-y border-white/5 relative z-10",children:_.jsx("div",{className:"container mx-auto px-0 md:px-10",children:_.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4",children:[_.jsx(th,{icon:$S,label:z.stats_history_label,value:z.stats_history_val,suffix:"+",sub:z.stats_history_sub,isVisible:Oe}),_.jsx(th,{icon:S2,label:z.stats_partners_label,value:z.stats_partners_val,suffix:"+",sub:z.stats_partners_sub,isVisible:Oe}),_.jsx(th,{icon:FS,label:z.stats_samples_label,value:z.stats_samples_val,suffix:"+",sub:z.stats_samples_sub,isVisible:Oe}),_.jsx(th,{icon:b2,label:z.stats_defect_label,value:z.stats_defect_val,suffix:"%",subTop:z.stats_defect_sub_top,sub:z.stats_defect_sub,isVisible:Oe,pink:!0,showArrow:!0})]})})}),s==="main"&&_.jsx("section",{className:"py-24 md:py-40 bg-white overflow-hidden",children:_.jsx("div",{className:"container mx-auto px-6 md:px-10",children:_.jsxs("div",{className:"flex flex-col lg:flex-row gap-20 items-center",children:[_.jsxs("div",{className:"w-full lg:w-1/2 relative",children:[_.jsx("div",{className:"absolute -top-10 -left-10 w-40 h-40 bg-indigo-50 rounded-full mix-blend-multiply opacity-70"}),_.jsxs("div",{className:"relative aspect-square bg-slate-100 rounded-sm overflow-hidden group shadow-2xl",children:[_.jsx(Yr,{text:"KNITTING INFRASTRUCTURE"}),_.jsx("div",{className:"absolute inset-0 bg-slate-900/60 opacity-0 group-hover:opacity-100 transition-opacity duration-700 flex items-center justify-center backdrop-blur-sm",children:_.jsx("button",{onClick:()=>Ae("about"),className:"bg-white text-slate-900 px-8 py-4 text-[10px] font-black tracking-widest uppercase hover:bg-indigo-600 hover:text-white transition-all transform translate-y-4 group-hover:translate-y-0 duration-500",children:"View Infrastructure"})})]}),_.jsxs("div",{className:"absolute -bottom-10 -right-10 w-64 bg-white p-8 shadow-2xl border border-slate-100 hidden md:block animate-bounce-slow",children:[_.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[_.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white",children:_.jsx(N2,{size:20})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest",children:"Efficiency"}),_.jsx("div",{className:"text-xl font-bold text-slate-900 leading-none",children:"Fast-Track"})]})]}),_.jsx("p",{className:"text-[11px] text-slate-500 leading-relaxed",children:"     20%    ."})]})]}),_.jsxs("div",{className:"w-full lg:w-1/2",children:[_.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[_.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"}),_.jsx("span",{className:"text-xs font-black text-indigo-600 tracking-[0.3em] uppercase",children:z.biz_sub})]}),_.jsx("h2",{className:"text-5xl md:text-7xl font-black text-slate-900 leading-[0.9] tracking-tighter mb-10 italic",children:z.biz_title.split(" ").map((ne,Fe)=>_.jsx("span",{className:"block",children:ne},Fe))}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 mb-16",children:[_.jsxs("div",{onClick:()=>Ae("knitting"),className:"group relative h-[450px] bg-[#0a0c10] rounded-sm overflow-hidden cursor-pointer shadow-2xl transition-all duration-700 hover:-translate-y-2 border border-white/5",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),_.jsxs("div",{className:"absolute inset-0 z-0 scale-100 group-hover:scale-110 transition-transform duration-1000",children:[_.jsx(Yr,{dark:!0,imageSrc:"https://images.unsplash.com/photo-1558444479-c8a5105232eb?auto=format&fit=crop&q=80&w=800",text:"KNITTING FACTORY"}),_.jsx("div",{className:"absolute inset-0 bg-slate-950/60 group-hover:bg-slate-950/30 transition-colors duration-700"})]}),_.jsxs("div",{className:"relative z-10 h-full p-10 flex flex-col justify-end",children:[_.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-xl shadow-indigo-600/30",children:_.jsx(W0,{size:20})}),_.jsx("div",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em] mb-3",children:"Unit 01"}),_.jsx("h3",{className:"text-3xl font-black text-white mb-5 italic tracking-tighter uppercase leading-none md:text-3xl",children:z.sector_a_title}),_.jsx("p",{className:"text-slate-400 text-xs leading-relaxed max-w-sm mb-6 opacity-100 transform translate-y-0 md:opacity-0 md:translate-y-4 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition-all duration-700 break-keep",children:z.sector_a_p}),_.jsxs("div",{className:"flex items-center space-x-3 text-white text-[10px] font-black tracking-widest uppercase opacity-100 md:opacity-60 md:group-hover:opacity-100 transition-opacity",children:[_.jsx("span",{children:"Explore Infrastructure"}),_.jsx(no,{size:12,className:"md:group-hover:translate-x-2 transition-transform"})]})]})]}),_.jsxs("div",{onClick:()=>Ae("processing"),className:"group relative h-[450px] bg-[#0a0c10] rounded-sm overflow-hidden cursor-pointer shadow-2xl transition-all duration-700 hover:-translate-y-2 border border-white/5",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600/10 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),_.jsxs("div",{className:"absolute inset-0 z-0 scale-100 group-hover:scale-110 transition-transform duration-1000",children:[_.jsx(Yr,{dark:!0,imageSrc:"https://images.unsplash.com/photo-1544441893-675973e31985?auto=format&fit=crop&q=80&w=800",text:"FABRIC INVENTORY"}),_.jsx("div",{className:"absolute inset-0 bg-slate-950/60 group-hover:bg-slate-950/30 transition-colors duration-700"})]}),_.jsxs("div",{className:"relative z-10 h-full p-10 flex flex-col justify-end",children:[_.jsx("div",{className:"w-10 h-10 bg-indigo-600 flex items-center justify-center text-white mb-6 group-hover:scale-110 transition-transform duration-500 shadow-xl shadow-indigo-600/30",children:_.jsx(ev,{size:20})}),_.jsx("div",{className:"text-[10px] font-black text-indigo-400 uppercase tracking-[0.4em] mb-3",children:"Unit 02"}),_.jsx("h3",{className:"text-3xl font-black text-white mb-5 italic tracking-tighter uppercase leading-none md:text-3xl",children:z.sector_b_title}),_.jsx("p",{className:"text-slate-400 text-xs leading-relaxed max-w-sm mb-6 opacity-100 transform translate-y-0 md:opacity-0 md:translate-y-4 md:group-hover:opacity-100 md:group-hover:translate-y-0 transition-all duration-700 break-keep",children:z.sector_b_p}),_.jsxs("div",{className:"flex items-center space-x-3 text-white text-[10px] font-black tracking-widest uppercase opacity-100 md:opacity-60 md:group-hover:opacity-100 transition-opacity",children:[_.jsx("span",{children:"Check Inventory"}),_.jsx(no,{size:12,className:"md:group-hover:translate-x-2 transition-transform"})]})]})]})]}),_.jsxs("button",{onClick:()=>Ae("about"),className:"flex items-center space-x-4 text-slate-900 hover:text-indigo-600 transition-all group",children:[_.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:z.learn_more}),_.jsx("div",{className:"w-12 h-12 rounded-full border border-slate-200 flex items-center justify-center group-hover:border-indigo-600 group-hover:bg-indigo-600 group-hover:text-white transition-all",children:_.jsx(US,{size:18})})]})]})]})})}),s==="main"&&_.jsx("section",{className:"py-24 md:py-40 bg-white relative overflow-hidden",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-10 relative z-10 flex flex-col items-center",children:[_.jsxs("div",{className:"text-center mb-20 md:mb-32",children:[_.jsxs("h2",{className:"text-[12vw] md:text-[8rem] font-black leading-[0.8] tracking-tighter mb-12 italic uppercase",children:[_.jsx("span",{className:"text-slate-950 block",children:"Signature"}),_.jsx("span",{className:"text-indigo-600 block",children:"Archive."})]}),_.jsx("p",{className:"max-w-2xl mx-auto text-slate-500 text-lg md:text-xl font-medium leading-relaxed italic break-keep",children:z.inventory_p})]}),_.jsxs("div",{className:"w-full relative cursor-grab active:cursor-grabbing select-none mb-20",onMouseEnter:()=>k(!0),onMouseLeave:()=>{k(!1),Ee()},onMouseDown:se,onMouseMove:ae,onMouseUp:Ee,onTouchStart:se,onTouchMove:ae,onTouchEnd:Ee,children:[_.jsx("div",{className:"flex transition-transform duration-700 ease-[cubic-bezier(0.23,1,0.32,1)]",style:{transform:`translateX(calc(-${me*De}% + ${Qe}px))`,transition:A?"transform 0.7s cubic-bezier(0.23,1,0.32,1)":"none"},onTransitionEnd:$,children:he.map((ne,Fe)=>_.jsx("div",{className:"flex-shrink-0 px-3 transition-all duration-500",style:{width:`${De}%`},children:_.jsxs("div",{onClick:()=>!q&&c(ne),className:"bg-white group/card rounded-sm overflow-hidden border border-slate-100 shadow-sm hover:shadow-2xl transition-all duration-500 h-full flex flex-col",children:[_.jsxs("div",{className:"aspect-[4/5] bg-slate-100 relative overflow-hidden",children:[_.jsx(Yr,{text:ne.engName,imageSrc:ne.imageSrc,cloudinaryId:ne.cloudinaryId}),_.jsx("div",{className:"absolute inset-0 bg-indigo-600/0 group-hover/card:bg-indigo-600/10 transition-colors duration-500"}),_.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-white/90 backdrop-blur-md flex items-center justify-center text-slate-900 opacity-0 group-hover/card:opacity-100 transform translate-x-4 group-hover/card:translate-x-0 transition-all duration-500",children:_.jsx(km,{size:16})}),_.jsxs("div",{className:"absolute bottom-6 left-6",children:[_.jsx("div",{className:"text-[10px] font-black text-white/60 uppercase tracking-[0.2em] mb-1",children:ne.code}),_.jsx("div",{className:"text-xl font-black text-white leading-none tracking-tight",children:n==="KR"?ne.name:ne.engName||ne.name})]})]}),_.jsxs("div",{className:"p-8",children:[_.jsx("div",{className:"text-[9px] font-black text-indigo-600 uppercase tracking-widest mb-4 font-mono",children:ne.material}),_.jsx("p",{className:"text-slate-500 text-[11px] leading-relaxed line-clamp-2 h-8",children:ne.desc})]})]})},Fe))}),_.jsx("div",{className:"flex justify-center mt-12 space-x-2",children:ue.map((ne,Fe)=>_.jsx("button",{onClick:()=>{I(!0),N(Fe+be)},className:`h-1 transition-all duration-500 ${me%be===Fe?"w-12 bg-indigo-600":"w-4 bg-slate-200"}`},Fe))})]}),_.jsxs("button",{onClick:()=>Ae("processing"),className:"group flex items-center space-x-6 text-slate-950 hover:text-indigo-600 transition-all",children:[_.jsx("span",{className:"text-xs font-black tracking-[0.2em] uppercase",children:z.dashboard_inventory_cta}),_.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-600 text-white flex items-center justify-center group-hover:bg-indigo-700 shadow-lg shadow-indigo-600/30 transition-all group-hover:scale-110",children:_.jsx(no,{size:18})})]})]})}),s==="about"&&_.jsx("section",{className:"bg-slate-900 text-white min-h-screen pt-40 pb-24 overflow-hidden relative",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-10 relative z-10 flex flex-col items-center",children:[_.jsxs("div",{className:"text-center mb-40",children:[_.jsx("div",{className:"inline-block px-4 py-1 border border-indigo-500/30 text-indigo-400 text-[10px] font-black tracking-[0.3em] uppercase mb-12 rounded-sm animate-in fade-in slide-in-from-bottom-4 duration-700",children:z.about_hero_tag}),_.jsxs("h2",{className:"text-[12vw] md:text-[8rem] font-black leading-[0.8] tracking-tighter mb-16 italic uppercase animate-in fade-in zoom-in-95 duration-1000",children:[_.jsx("span",{className:"text-white block",children:"Hwoasung"}),_.jsx("span",{className:"text-indigo-500 block",children:"Roots."})]}),_.jsxs("div",{className:"max-w-3xl mx-auto animate-in fade-in slide-in-from-bottom-8 duration-1000 delay-300",children:[_.jsx("p",{className:"text-indigo-400 font-mono text-xl md:text-2xl mb-8 leading-tight break-keep italic",children:z.about_hero_motto}),_.jsx("div",{className:"h-[1px] w-20 bg-indigo-500/50 mx-auto mb-10"}),_.jsx("p",{className:"text-slate-400 text-xl md:text-2xl leading-relaxed font-medium break-keep",children:z.about_hero_sub})]})]}),_.jsxs("div",{className:"w-full max-w-6xl mx-auto relative aspect-video bg-slate-800 rounded-sm overflow-hidden group shadow-[0_0_100px_rgba(79,70,229,0.15)] mb-40 animate-in fade-in slide-in-from-bottom-12 duration-1000 delay-500",children:[_.jsx(Yr,{text:"HWOASUNG_ARCHIVE_FOOTAGE",dark:!0}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-transparent"}),_.jsx("div",{className:"absolute bottom-10 right-10 flex space-x-3",children:[0,1].map(ne=>_.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-500 ${te===ne?"bg-indigo-500 w-8":"bg-white/20"}`},ne))})]}),_.jsxs("div",{className:"mb-40",children:[_.jsxs("div",{className:"flex items-center space-x-6 mb-20 group",children:[_.jsx("div",{className:"w-12 h-12 rounded-full bg-indigo-600 flex items-center justify-center text-white font-black italic shadow-xl shadow-indigo-600/20 group-hover:scale-110 transition-transform",children:"HS"}),_.jsx("h3",{className:"text-3xl font-black tracking-tighter italic uppercase",children:z.about_expertise_title}),_.jsx("div",{className:"flex-1 h-[1px] bg-white/10"})]}),_.jsx("div",{className:"grid md:grid-cols-3 gap-1px bg-white/5 border border-white/5 rounded-sm overflow-hidden",children:[{t:z.expertise_01_t,d:z.expertise_01_d,icon:l1},{t:z.expertise_02_t,d:z.expertise_02_d,icon:ev},{t:z.expertise_03_t,d:z.expertise_03_d,icon:T2}].map((ne,Fe)=>_.jsxs("div",{className:"bg-slate-900 p-12 hover:bg-slate-800 transition-colors group",children:[_.jsx(ne.icon,{className:"text-indigo-500 mb-8 group-hover:scale-110 transition-transform",size:32}),_.jsx("h4",{className:"text-2xl font-black mb-6 tracking-tight italic",children:ne.t}),_.jsx("p",{className:"text-slate-400 text-sm leading-relaxed font-medium break-keep",children:ne.d})]},Fe))})]}),_.jsxs("div",{className:"mb-40",children:[_.jsxs("div",{className:"text-center mb-24",children:[_.jsx("div",{className:"text-[10px] font-black text-indigo-500 tracking-[0.4em] uppercase mb-4",children:z.about_process_tag}),_.jsx("h3",{className:"text-5xl md:text-6xl font-black tracking-tighter italic uppercase",children:z.about_process_title})]}),_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute top-1/2 left-0 w-full h-[1px] bg-white/10 hidden lg:block -translate-y-1/2"}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-12 lg:gap-8 relative z-10",children:[{t:z.step_01_t,d:z.step_01_d,icon:o1},{t:z.step_02_t,d:z.step_02_d,icon:W0},{t:z.step_03_t,d:z.step_03_d,icon:AS},{t:z.step_04_t,d:z.step_04_d,icon:J0}].map((ne,Fe)=>_.jsxs("div",{className:"flex flex-col items-center text-center group",children:[_.jsxs("div",{className:"w-24 h-24 rounded-full bg-slate-800 border-2 border-white/5 flex items-center justify-center mb-8 group-hover:border-indigo-500 transition-all duration-500 shadow-2xl relative",children:[_.jsxs("div",{className:"absolute -top-2 -right-2 w-8 h-8 rounded-full bg-indigo-600 flex items-center justify-center text-[10px] font-black italic",children:["0",Fe+1]}),_.jsx(ne.icon,{size:28,className:"text-indigo-400 group-hover:text-white transition-colors"})]}),_.jsx("h4",{className:"text-xl font-bold mb-4 italic tracking-tight",children:ne.t}),_.jsx("p",{className:"text-slate-500 text-[11px] font-bold uppercase tracking-widest",children:ne.d})]},Fe))})]})]}),_.jsx("div",{className:"py-32 border-t border-white/5 flex flex-col items-center",children:_.jsxs("div",{className:"max-w-4xl text-center",children:[_.jsx("div",{className:"w-20 h-20 mx-auto mb-12 rounded-2xl bg-indigo-600 rotate-12 flex items-center justify-center text-white shadow-2xl shadow-indigo-600/40",children:_.jsx(DS,{size:32})}),_.jsx("h3",{className:"text-3xl md:text-5xl font-black mb-12 italic tracking-tighter leading-tight break-keep",children:z.about_closing}),_.jsx("button",{onClick:()=>Ae("knitting"),className:"group relative px-12 py-6 bg-white hover:bg-indigo-600 transition-all duration-500 rounded-full",children:_.jsxs("div",{className:"relative z-10 flex items-center space-x-4",children:[_.jsx("span",{className:"text-slate-900 group-hover:text-white text-xs font-black tracking-[0.2em] uppercase",children:z.dashboard_inventory_cta}),_.jsx(no,{className:"text-slate-900 group-hover:text-white group-hover:translate-x-2 transition-transform",size:18})]})})]})})]})}),(s==="knitting"||s==="processing")&&_.jsx("section",{className:"bg-white min-h-screen pt-40 pb-24",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-10",children:[_.jsx("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-end mb-24 gap-8",children:_.jsxs("div",{children:[_.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[_.jsx("span",{className:"px-3 py-1 bg-indigo-600 text-white text-[10px] font-black tracking-widest uppercase rounded-sm",children:s==="knitting"?"UNIT_01":"UNIT_02"}),_.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"})]}),_.jsx("h2",{className:"text-6xl md:text-8xl font-black text-slate-900 tracking-tighter leading-none italic uppercase",children:s==="knitting"?z.knitting:z.processing})]})}),_.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:(s==="knitting"?ye.knitting:ye.processed).map(ne=>_.jsxs("div",{onClick:()=>c(ne),className:"group bg-white border border-slate-100 rounded-sm overflow-hidden hover:shadow-2xl transition-all duration-500 cursor-pointer flex flex-col h-full",children:[_.jsxs("div",{className:"aspect-[4/3] relative overflow-hidden bg-slate-100",children:[_.jsx(Yr,{text:ne.engName,imageSrc:ne.imageSrc,cloudinaryId:ne.cloudinaryId}),_.jsx("div",{className:"absolute inset-0 bg-indigo-600/0 group-hover:bg-indigo-600/10 transition-colors duration-500"}),_.jsx("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-md p-2 rounded-full opacity-0 group-hover:opacity-100 transform translate-x-4 group-hover:translate-x-0 transition-all duration-500 text-indigo-600",children:_.jsx(km,{size:16})})]}),_.jsxs("div",{className:"p-8 flex-1 flex flex-col",children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-2 font-mono",children:ne.code}),_.jsx("h3",{className:"text-xl font-black text-slate-900 mb-4 group-hover:text-indigo-600 transition-colors uppercase",children:n==="KR"?ne.name:ne.engName||ne.name}),_.jsx("p",{className:"text-slate-500 text-xs leading-relaxed line-clamp-2 h-10 mb-6",children:ne.desc}),_.jsxs("div",{className:"mt-auto flex flex-wrap gap-2",children:[_.jsx("span",{className:"px-2 py-1 bg-slate-50 text-slate-400 text-[9px] font-black uppercase tracking-widest",children:ne.material}),_.jsx("span",{className:"px-2 py-1 bg-slate-50 text-slate-400 text-[9px] font-black uppercase tracking-widest",children:ne.weight})]})]})]},ne.id))})]})}),_.jsxs("section",{className:"bg-slate-50 py-24 md:py-40 border-t border-slate-100 relative overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 opacity-[0.03] pointer-events-none",style:{backgroundImage:"linear-gradient(#000 1px, transparent 1px), linear-gradient(90deg, #000 1px, transparent 1px)",backgroundSize:"100px 100px"}}),_.jsx("div",{className:"container mx-auto px-6 md:px-10 relative z-10",children:_.jsxs("div",{className:"flex flex-col lg:flex-row gap-20 items-stretch",children:[_.jsxs("div",{className:"w-full lg:w-1/2",children:[_.jsxs("div",{className:"inline-flex items-center space-x-3 mb-6",children:[_.jsx("div",{className:"w-10 h-[1px] bg-indigo-600"}),_.jsx("span",{className:"text-xs font-black text-indigo-600 tracking-[0.3em] uppercase",children:"Partnership"})]}),_.jsxs("h2",{className:"text-6xl md:text-8xl font-black text-slate-900 leading-[0.85] tracking-tighter italic mb-12",children:[z.contact_title," ",_.jsx("br",{}),_.jsx("span",{className:"text-indigo-600 not-italic",children:z.contact_span})]}),_.jsx("p",{className:"text-slate-500 text-lg md:text-xl font-medium mb-16 max-w-lg leading-relaxed break-keep",children:z.contact_sub}),_.jsxs("div",{className:"space-y-10",children:[_.jsxs("div",{className:"flex items-start space-x-6 group",children:[_.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:_.jsx(o2,{size:24})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Office & Factory"}),_.jsx("div",{className:"text-lg font-bold text-slate-900 break-keep",children:z.address})]})]}),_.jsxs("div",{className:"flex items-center space-x-6 group",children:[_.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:_.jsx(m2,{size:24})}),_.jsxs("div",{className:"flex gap-10",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"TEL"}),_.jsx("div",{className:"text-lg font-black text-slate-900 hover:text-indigo-600 transition-colors uppercase font-mono",children:z.tel})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"FAX"}),_.jsx("div",{className:"text-lg font-black text-slate-900 uppercase font-mono",children:z.fax})]})]})]}),_.jsxs("div",{className:"flex items-center space-x-6 group cursor-pointer",onClick:()=>window.location.href=`mailto:${z.email}`,children:[_.jsx("div",{className:"w-14 h-14 rounded-full bg-white border border-slate-100 flex items-center justify-center text-indigo-600 shadow-sm group-hover:bg-indigo-600 group-hover:text-white transition-all duration-500",children:_.jsx(r2,{size:24})}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-1",children:"Email"}),_.jsx("div",{className:"text-lg font-black text-slate-900 hover:text-indigo-600 transition-colors uppercase font-mono border-b-2 border-slate-900/10 group-hover:border-indigo-600/30 transition-all",children:z.email})]})]})]})]}),_.jsx("div",{className:"w-full lg:w-1/2 h-[350px] md:h-auto min-h-[350px] md:min-h-[500px] bg-slate-200 rounded-sm overflow-hidden shadow-2xl relative border-4 md:border-8 border-white mt-10 lg:mt-0",children:_.jsx(nM,{naverUrl:W})})]})})]}),_.jsx("footer",{className:"bg-slate-900 pt-24 pb-12 border-t border-white/5 relative z-10",children:_.jsxs("div",{className:"container mx-auto px-6 md:px-10",children:[_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-16 mb-20",children:[_.jsxs("div",{className:"col-span-1 md:col-span-1",children:[_.jsxs("div",{className:"flex items-center space-x-3 mb-8",children:[_.jsx("div",{className:"w-8 h-8 bg-indigo-600 flex items-center justify-center text-white font-black text-[10px]",children:"HS"}),_.jsx("span",{className:"text-white font-bold tracking-widest text-lg uppercase",children:z.brand})]}),_.jsx("p",{className:"text-slate-500 text-xs leading-relaxed max-w-xs",children:z.about_hero_sub})]}),_.jsxs("div",{className:"md:col-start-3 space-y-4",children:[_.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em] mb-6",children:"Navigation"}),_.jsx("button",{onClick:()=>Ae("main"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:z.home}),_.jsx("button",{onClick:()=>Ae("about"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:z.about}),_.jsx("button",{onClick:()=>Ae("knitting"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:z.knitting}),_.jsx("button",{onClick:()=>Ae("processing"),className:"block text-slate-500 hover:text-white text-xs transition-colors uppercase font-bold tracking-widest leading-none",children:z.processing})]}),_.jsxs("div",{className:"space-y-4",children:[_.jsx("h4",{className:"text-[10px] font-black text-white uppercase tracking-[0.2em] mb-6",children:"Contact"}),_.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:z.tel}),_.jsx("p",{className:"text-slate-500 text-xs leading-relaxed",children:z.email}),_.jsx("p",{className:"text-indigo-500 text-[10px] font-black uppercase tracking-widest mt-6",children:z.hours})]})]}),_.jsxs("div",{className:"pt-12 border-t border-white/5 flex flex-col md:flex-row justify-between items-center gap-8",children:[_.jsxs("div",{className:"flex flex-wrap justify-center md:justify-start gap-x-8 gap-y-4 text-[10px] font-bold text-slate-600 uppercase tracking-widest",children:[_.jsx("span",{children:"COPYRIGHT  HWOASUNG TEXTILE. ALL RIGHTS RESERVED."}),_.jsx("button",{onClick:()=>e("admin"),className:"hover:text-white transition-colors uppercase tracking-[0.2em] opacity-0 hover:opacity-100",children:"Manage Site"})]}),_.jsxs("div",{className:"flex items-center space-x-6 text-slate-600",children:[_.jsx(KS,{size:16}),_.jsx("div",{className:"text-[10px] font-black uppercase tracking-widest",children:"South Korea / Yeoncheon"})]})]})]})}),o&&_.jsxs("div",{className:"fixed inset-0 z-[200] flex items-center justify-center p-4 md:p-8 animate-in fade-in duration-300",children:[_.jsx("div",{className:"absolute inset-0 bg-slate-900/40 backdrop-blur-xl",onClick:()=>c(null)}),_.jsxs("div",{className:"relative w-full max-w-5xl bg-white shadow-2xl overflow-hidden flex flex-col md:flex-row animate-in zoom-in-95 duration-500 origin-center",children:[_.jsx("button",{onClick:()=>c(null),className:"absolute top-6 right-6 z-10 w-12 h-12 bg-white/10 hover:bg-white text-slate-900 border border-slate-100 flex items-center justify-center transition-all duration-300 group shadow-xl",children:_.jsx(nv,{size:20,className:"group-hover:rotate-90 transition-transform"})}),_.jsxs("div",{className:"w-full md:w-1/2 bg-slate-100 relative",children:[_.jsx(Yr,{text:o.engName,cloudinaryId:o.cloudinaryId,imageSrc:o.imageSrc}),_.jsxs("div",{className:"absolute top-10 left-10",children:[_.jsx("div",{className:"w-16 h-1 bg-indigo-600 mb-6"}),_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mr-2 font-mono",children:o.code}),_.jsx("h3",{className:"text-4xl font-black text-slate-900 tracking-tighter italic uppercase",children:n==="KR"?o.name:o.engName||o.name})]})]}),_.jsxs("div",{className:"w-full md:w-1/2 p-10 md:p-16 overflow-y-auto max-h-[80vh] md:max-h-none",children:[_.jsxs("div",{className:"mb-12",children:[_.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-8 flex items-center",children:[_.jsx("div",{className:"w-4 h-4 rounded-full border border-indigo-200 flex items-center justify-center mr-3",children:_.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full"})}),z.label_technical]}),_.jsxs("div",{className:"grid grid-cols-2 gap-y-8 gap-x-4",children:[_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:z.label_raw}),_.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.material})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:z.label_structure}),_.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.structure})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:z.label_density}),_.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.weight})]}),_.jsxs("div",{children:[_.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:z.label_width}),_.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.width})]}),_.jsxs("div",{className:"col-span-2",children:[_.jsx("div",{className:"text-[10px] font-black text-slate-300 uppercase tracking-widest mb-1",children:z.label_color}),_.jsx("div",{className:"text-xs font-bold text-slate-900",children:o.colors})]})]})]}),_.jsxs("div",{className:"mb-12",children:[_.jsxs("h4",{className:"text-[10px] font-black text-indigo-600 uppercase tracking-[0.2em] mb-8 flex items-center",children:[_.jsx("div",{className:"w-4 h-4 rounded-full border border-indigo-200 flex items-center justify-center mr-3",children:_.jsx("div",{className:"w-1.5 h-1.5 bg-indigo-600 rounded-full"})}),z.label_logic]}),_.jsx("div",{className:"space-y-4",children:o.features.map((ne,Fe)=>_.jsxs("div",{className:"flex items-start space-x-3 group",children:[_.jsx(J0,{size:14,className:"text-indigo-600 mt-0.5"}),_.jsx("span",{className:"text-xs font-medium text-slate-600 group-hover:text-slate-900 transition-colors leading-relaxed",children:ne})]},Fe))})]}),_.jsxs("button",{className:"w-full py-6 bg-slate-900 hover:bg-indigo-600 text-white transition-all duration-500 flex items-center justify-center space-x-4 group shadow-xl shadow-slate-900/10",children:[_.jsx("span",{className:"text-xs font-black tracking-widest uppercase",children:z.cta_quote}),_.jsx(no,{size:18,className:"group-hover:translate-x-2 transition-transform"})]})]})]})]}),T&&_.jsx("div",{className:"fixed inset-0 z-[150] bg-white animate-in slide-in-from-right duration-500",children:_.jsxs("div",{className:"p-6 md:p-10 flex flex-col h-full",children:[_.jsxs("div",{className:"flex justify-between items-center mb-20",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-8 h-8 bg-slate-900 flex items-center justify-center text-white font-black text-[10px]",children:"HS"}),_.jsx("span",{className:"font-bold text-xl tracking-[0.15em] leading-none uppercase",children:z.brand})]}),_.jsx("button",{onClick:()=>x(!1),className:"w-12 h-12 flex items-center justify-center text-slate-900 border border-slate-100",children:_.jsx(nv,{size:24})})]}),_.jsxs("div",{className:"flex flex-col space-y-10",children:[_.jsxs("button",{onClick:()=>Ae("main"),className:"text-left group",children:[_.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"01"}),_.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:z.home})]}),_.jsxs("button",{onClick:()=>Ae("about"),className:"text-left group",children:[_.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"02"}),_.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:z.about})]}),_.jsxs("button",{onClick:()=>Ae("knitting"),className:"text-left group",children:[_.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"03"}),_.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:z.knitting})]}),_.jsxs("button",{onClick:()=>Ae("processing"),className:"text-left group",children:[_.jsx("span",{className:"text-[10px] font-mono text-indigo-600 block mb-1",children:"04"}),_.jsx("span",{className:"text-4xl font-black text-slate-900 tracking-tighter uppercase italic group-hover:pl-4 transition-all duration-500",children:z.processing})]})]}),_.jsxs("div",{className:"mt-auto py-10 border-t border-slate-100",children:[_.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-4",children:"Support & Inquiry"}),_.jsx("div",{className:"text-xl font-black text-slate-900 font-mono mb-2",children:z.tel}),_.jsx("div",{className:"text-xs font-bold text-slate-500",children:z.email})]})]})}),_.jsx(tM,{})]})};$x.createRoot(document.getElementById("root")).render(_.jsx(_e.StrictMode,{children:_.jsx(iM,{})}));
